function formValidate(t){var e=$("#"+t).validate({highlight:function(t){$(t).closest(".form-group").addClass("has-error")},unhighlight:function(t){$(t).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"help-block",errorPlacement:function(t,e){e.parent(".input-group").length?t.insertAfter(e.parent()):t.insertAfter(e)}});return e}function formReset(t){$("#"+t).length>0&&($("#"+t)[0].reset(),$("#"+t+" .form-group").removeClass("has-error"),$("#"+t).validate().resetForm())}function showAppLoading(){$(".app-loading").addClass("open")}function hideAppLoading(){$(".app-loading").removeClass("open")}function tableRefesh(t){var e=[];$(t+" .table-content thead tr:first-child th").each(function(t,i){e.push($(this).width())}),e.pop(),$(t+" .table-header thead tr:first-child th").each(function(t,i){$(this).width(e[t])})}function dropdown(t,e){$("#"+t).hasClass("open")?$("#"+t).removeClass("open"):$("#"+t).addClass("open")}function printDiv(t,e){var i=document.getElementById(t),n=window.open("","Print-Window"),a=i.innerHTML;n.document.open(),n.document.write('<html><body onload="window.print()">'+a+"</body></html>"),n.document.close(),setTimeout(function(){n.close(),e()},3)}if(!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"!==i&&!pt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(pt.isFunction(e))return pt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return pt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Tt.test(e))return pt.filter(e,t,i);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==i})}function a(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function s(t){var e={};return pt.each(t.match(Pt)||[],function(t,i){e[i]=!0}),e}function o(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",r),t.removeEventListener("load",r)):(nt.detachEvent("onreadystatechange",r),t.detachEvent("onload",r))}function r(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(o(),pt.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace($t,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:It.test(i)?pt.parseJSON(i):i)}catch(a){}pt.data(t,e,i)}else i=void 0}return i}function h(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function d(t,e,i,n){if(Ft(t)){var a,s,o=pt.expando,r=t.nodeType,l=r?pt.cache:t,h=r?t[o]:t[o]&&o;if(h&&l[h]&&(n||l[h].data)||void 0!==i||"string"!=typeof e)return h||(h=r?t[o]=it.pop()||pt.guid++:o),l[h]||(l[h]=r?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[h]=pt.extend(l[h],e):l[h].data=pt.extend(l[h].data,e)),s=l[h],n||(s.data||(s.data={}),s=s.data),void 0!==i&&(s[pt.camelCase(e)]=i),"string"==typeof e?(a=s[e],null==a&&(a=s[pt.camelCase(e)])):a=s,a}}function c(t,e,i){if(Ft(t)){var n,a,s=t.nodeType,o=s?pt.cache:t,r=s?t[pt.expando]:pt.expando;if(o[r]){if(e&&(n=i?o[r]:o[r].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in n?e=[e]:(e=pt.camelCase(e),e=e in n?[e]:e.split(" ")),a=e.length;for(;a--;)delete n[e[a]];if(i?!h(n):!pt.isEmptyObject(n))return}(i||(delete o[r].data,h(o[r])))&&(s?pt.cleanData([t],!0):ct.deleteExpando||o!=o.window?delete o[r]:o[r]=void 0)}}}function u(t,e,i,n){var a,s=1,o=20,r=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},l=r(),h=i&&i[3]||(pt.cssNumber[e]?"":"px"),d=(pt.cssNumber[e]||"px"!==h&&+l)&&Lt.exec(pt.css(t,e));if(d&&d[3]!==h){h=h||d[3],i=i||[],d=+l||1;do s=s||".5",d/=s,pt.style(t,e,d+h);while(s!==(s=r()/l)&&1!==s&&--o)}return i&&(d=+d||+l||0,a=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=d,n.end=a)),a}function p(t){var e=Ht.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){var i,n,a=0,s="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!s)for(s=[],i=t.childNodes||t;null!=(n=i[a]);a++)!e||pt.nodeName(n,e)?s.push(n):pt.merge(s,f(n,e));return void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],s):s}function m(t,e){for(var i,n=0;null!=(i=t[n]);n++)pt._data(i,"globalEval",!e||pt._data(e[n],"globalEval"))}function g(t){Yt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,a){for(var s,o,r,l,h,d,c,u=t.length,v=p(e),y=[],x=0;u>x;x++)if(o=t[x],o||0===o)if("object"===pt.type(o))pt.merge(y,o.nodeType?[o]:o);else if(Ut.test(o)){for(l=l||v.appendChild(e.createElement("div")),h=(Xt.exec(o)||["",""])[1].toLowerCase(),c=Wt[h]||Wt._default,l.innerHTML=c[1]+pt.htmlPrefilter(o)+c[2],s=c[0];s--;)l=l.lastChild;if(!ct.leadingWhitespace&&Rt.test(o)&&y.push(e.createTextNode(Rt.exec(o)[0])),!ct.tbody)for(o="table"!==h||qt.test(o)?"<table>"!==c[1]||qt.test(o)?0:l:l.firstChild,s=o&&o.childNodes.length;s--;)pt.nodeName(d=o.childNodes[s],"tbody")&&!d.childNodes.length&&o.removeChild(d);for(pt.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(o));for(l&&v.removeChild(l),ct.appendChecked||pt.grep(f(y,"input"),g),x=0;o=y[x++];)if(n&&pt.inArray(o,n)>-1)a&&a.push(o);else if(r=pt.contains(o.ownerDocument,o),l=f(v.appendChild(o),"script"),r&&m(l),i)for(s=0;o=l[s++];)jt.test(o.type||"")&&i.push(o);return l=null,v}function y(){return!0}function x(){return!1}function b(){try{return nt.activeElement}catch(t){}}function _(t,e,i,n,a,s){var o,r;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(r in e)_(t,r,i,n,e[r],s);return t}if(null==n&&null==a?(a=i,n=i=void 0):null==a&&("string"==typeof i?(a=n,n=void 0):(a=n,n=i,i=void 0)),a===!1)a=x;else if(!a)return t;return 1===s&&(o=a,a=function(t){return pt().off(t),o.apply(this,arguments)},a.guid=o.guid||(o.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,a,n,i)})}function w(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function T(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function k(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function C(t,e){if(1===e.nodeType&&pt.hasData(t)){var i,n,a,s=pt._data(t),o=pt._data(e,s),r=s.events;if(r){delete o.handle,o.events={};for(i in r)for(n=0,a=r[i].length;a>n;n++)pt.event.add(e,i,r[i][n])}o.data&&(o.data=pt.extend({},o.data))}}function S(t,e){var i,n,a;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ct.noCloneEvent&&e[pt.expando]){a=pt._data(e);for(n in a.events)pt.removeEvent(e,n,a.handle);e.removeAttribute(pt.expando)}"script"===i&&e.text!==t.text?(T(e).text=t.text,k(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ct.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Yt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function M(t,e,i,n){e=st.apply([],e);var a,s,o,r,l,h,d=0,c=t.length,u=c-1,p=e[0],m=pt.isFunction(p);if(m||c>1&&"string"==typeof p&&!ct.checkClone&&ne.test(p))return t.each(function(a){var s=t.eq(a);m&&(e[0]=p.call(this,a,s.html())),M(s,e,i,n)});if(c&&(h=v(e,t[0].ownerDocument,!1,t,n),a=h.firstChild,1===h.childNodes.length&&(h=a),a||n)){for(r=pt.map(f(h,"script"),T),o=r.length;c>d;d++)s=h,d!==u&&(s=pt.clone(s,!0,!0),o&&pt.merge(r,f(s,"script"))),i.call(t[d],s,d);if(o)for(l=r[r.length-1].ownerDocument,pt.map(r,k),d=0;o>d;d++)s=r[d],jt.test(s.type||"")&&!pt._data(s,"globalEval")&&pt.contains(l,s)&&(s.src?pt._evalUrl&&pt._evalUrl(s.src):pt.globalEval((s.text||s.textContent||s.innerHTML||"").replace(se,"")));h=a=null}return t}function A(t,e,i){for(var n,a=e?pt.filter(e,t):t,s=0;null!=(n=a[s]);s++)i||1!==n.nodeType||pt.cleanData(f(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&m(f(n,"script")),n.parentNode.removeChild(n));return t}function P(t,e){var i=pt(e.createElement(t)).appendTo(e.body),n=pt.css(i[0],"display");return i.detach(),n}function E(t){var e=nt,i=he[t];return i||(i=P(t,e),"none"!==i&&i||(le=(le||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(le[0].contentWindow||le[0].contentDocument).document,e.write(),e.close(),i=P(t,e),le.detach()),he[t]=i),i}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function F(t){if(t in ke)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=Te.length;i--;)if(t=Te[i]+e,t in ke)return t}function I(t,e){for(var i,n,a,s=[],o=0,r=t.length;r>o;o++)n=t[o],n.style&&(s[o]=pt._data(n,"olddisplay"),i=n.style.display,e?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Ot(n)&&(s[o]=pt._data(n,"olddisplay",E(n.nodeName)))):(a=Ot(n),(i&&"none"!==i||!a)&&pt._data(n,"olddisplay",a?i:pt.css(n,"display"))));for(o=0;r>o;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?s[o]||"":"none"));return t}function $(t,e,i){var n=be.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function z(t,e,i,n,a){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=pt.css(t,i+Bt[s],!0,a)),n?("content"===i&&(o-=pt.css(t,"padding"+Bt[s],!0,a)),"margin"!==i&&(o-=pt.css(t,"border"+Bt[s]+"Width",!0,a))):(o+=pt.css(t,"padding"+Bt[s],!0,a),"padding"!==i&&(o+=pt.css(t,"border"+Bt[s]+"Width",!0,a)));return o}function L(t,e,i){var n=!0,a="width"===e?t.offsetWidth:t.offsetHeight,s=fe(t),o=ct.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,s);if(0>=a||null==a){if(a=me(t,e,s),(0>a||null==a)&&(a=t.style[e]),ce.test(a))return a;n=o&&(ct.boxSizingReliable()||a===t.style[e]),a=parseFloat(a)||0}return a+z(t,e,i||(o?"border":"content"),n,s)+"px"}function B(t,e,i,n,a){return new B.prototype.init(t,e,i,n,a)}function O(){return t.setTimeout(function(){Ce=void 0}),Ce=pt.now()}function N(t,e){var i,n={height:t},a=0;for(e=e?1:0;4>a;a+=2-e)i=Bt[a],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function Y(t,e,i){for(var n,a=(R.tweeners[e]||[]).concat(R.tweeners["*"]),s=0,o=a.length;o>s;s++)if(n=a[s].call(i,e,t))return n}function X(t,e,i){var n,a,s,o,r,l,h,d,c=this,u={},p=t.style,f=t.nodeType&&Ot(t),m=pt._data(t,"fxshow");i.queue||(r=pt._queueHooks(t,"fx"),null==r.unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,c.always(function(){c.always(function(){r.unqueued--,pt.queue(t,"fx").length||r.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],h=pt.css(t,"display"),d="none"===h?pt._data(t,"olddisplay")||E(t.nodeName):h,"inline"===d&&"none"===pt.css(t,"float")&&(ct.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ct.shrinkWrapBlocks()||c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(a=e[n],Me.exec(a)){if(delete e[n],s=s||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!m||void 0===m[n])continue;f=!0}u[n]=m&&m[n]||pt.style(t,n)}else h=void 0;if(pt.isEmptyObject(u))"inline"===("none"===h?E(t.nodeName):h)&&(p.display=h);else{m?"hidden"in m&&(f=m.hidden):m=pt._data(t,"fxshow",{}),s&&(m.hidden=!f),f?pt(t).show():c.done(function(){pt(t).hide()}),c.done(function(){var e;pt._removeData(t,"fxshow");for(e in u)pt.style(t,e,u[e])});for(n in u)o=Y(f?m[n]:0,n,c),n in m||(m[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function j(t,e){var i,n,a,s,o;for(i in t)if(n=pt.camelCase(i),a=e[n],s=t[i],pt.isArray(s)&&(a=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),o=pt.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=a)}else e[n]=a}function R(t,e,i){var n,a,s=0,o=R.prefilters.length,r=pt.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=Ce||O(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,s=1-n,o=0,l=h.tweens.length;l>o;o++)h.tweens[o].run(s);return r.notifyWith(t,[h,s,i]),1>s&&l?i:(r.resolveWith(t,[h]),!1)},h=r.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:Ce||O(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(a)return this;for(a=!0;n>i;i++)h.tweens[i].run(1);return e?(r.notifyWith(t,[h,1,0]),r.resolveWith(t,[h,e])):r.rejectWith(t,[h,e]),this}}),d=h.props;for(j(d,h.opts.specialEasing);o>s;s++)if(n=R.prefilters[s].call(h,t,d,h.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(h.elem,h.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(d,Y,h),pt.isFunction(h.opts.start)&&h.opts.start.call(t,h),pt.fx.timer(pt.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function H(t){return pt.attr(t,"class")||""}function W(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,a=0,s=e.toLowerCase().match(Pt)||[];if(pt.isFunction(i))for(;n=s[a++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function U(t,e,i,n){function a(r){var l;return s[r]=!0,pt.each(t[r]||[],function(t,r){var h=r(e,i,n);return"string"!=typeof h||o||s[h]?o?!(l=h):void 0:(e.dataTypes.unshift(h),a(h),!1)}),l}var s={},o=t===Qe;return a(e.dataTypes[0])||!s["*"]&&a("*")}function q(t,e){var i,n,a=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((a[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function V(t,e,i){for(var n,a,s,o,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=t.mimeType||e.getResponseHeader("Content-Type"));if(a)for(o in r)if(r[o]&&r[o].test(a)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}n||(n=o)}s=s||n}return s?(s!==l[0]&&l.unshift(s),i[s]):void 0}function G(t,e,i,n){var a,s,o,r,l,h={},d=t.dataTypes.slice();if(d[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(s=d.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=d.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=h[l+" "+s]||h["* "+s],!o)for(a in h)if(r=a.split(" "),r[1]===s&&(o=h[l+" "+r[0]]||h["* "+r[0]])){o===!0?o=h[a]:h[a]!==!0&&(s=r[0],d.unshift(r[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function J(t){return t.style&&t.style.display||pt.css(t,"display")}function K(t){if(!pt.contains(t.ownerDocument||nt,t))return!0;for(;t&&1===t.nodeType;){if("none"===J(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(t,e,i,n){var a;if(pt.isArray(e))pt.each(e,function(e,a){i||ni.test(t)?n(t,a):Q(t+"["+("object"==typeof a&&null!=a?e:"")+"]",a,i,n)});else if(i||"object"!==pt.type(e))n(t,e);else for(a in e)Q(t+"["+a+"]",e[a],i,n)}function Z(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],nt=t.document,at=it.slice,st=it.concat,ot=it.push,rt=it.indexOf,lt={},ht=lt.toString,dt=lt.hasOwnProperty,ct={},ut="1.12.4",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ut,constructor:pt,selector:"",length:0,toArray:function(){return at.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:at.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(at.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:it.sort,splice:it.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,a,s,o=arguments[0]||{},r=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[r]||{},r++),"object"==typeof o||pt.isFunction(o)||(o={}),r===l&&(o=this,r--);l>r;r++)if(null!=(a=arguments[r]))for(n in a)t=o[n],i=a[n],o!==i&&(h&&i&&(pt.isPlainObject(i)||(e=pt.isArray(i)))?(e?(e=!1,s=t&&pt.isArray(t)?t:[]):s=t&&pt.isPlainObject(t)?t:{},o[n]=pt.extend(h,s,i)):void 0!==i&&(o[n]=i));return o},pt.extend({expando:"jQuery"+(ut+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!ct.ownFirst)for(e in t)return dt.call(t,e);for(e in t);return void 0===e||dt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ht.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,a=0;if(i(t))for(n=t.length;n>a&&e.call(t[a],a,t[a])!==!1;a++);else for(a in t)if(e.call(t[a],a,t[a])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(rt)return rt.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,a=t.length;i>n;)t[a++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[a++]=e[n++];return t.length=a,t},grep:function(t,e,i){for(var n,a=[],s=0,o=t.length,r=!i;o>s;s++)n=!e(t[s],s),n!==r&&a.push(t[s]);return a},map:function(t,e,n){var a,s,o=0,r=[];if(i(t))for(a=t.length;a>o;o++)s=e(t[o],o,n),null!=s&&r.push(s);else for(o in t)s=e(t[o],o,n),null!=s&&r.push(s);return st.apply([],r)},guid:1,proxy:function(t,e){var i,n,a;return"string"==typeof e&&(a=t[e],e=t,t=a),pt.isFunction(t)?(i=at.call(arguments,2),n=function(){return t.apply(e||this,i.concat(at.call(arguments)))},n.guid=t.guid=t.guid||pt.guid++,n):void 0},now:function(){return+new Date},support:ct}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=it[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,i,n){var a,s,o,r,l,h,c,p,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return i;if(!n&&((e?e.ownerDocument||e:Y)!==F&&D(e),e=e||F,$)){if(11!==m&&(h=vt.exec(t)))if(a=h[1]){if(9===m){if(!(o=e.getElementById(a)))return i;if(o.id===a)return i.push(o),i}else if(f&&(o=f.getElementById(a))&&O(e,o)&&o.id===a)return i.push(o),i}else{if(h[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((a=h[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(a)),i}if(_.qsa&&!W[t+" "]&&(!z||!z.test(t))){if(1!==m)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((r=e.getAttribute("id"))?r=r.replace(xt,"\\$&"):e.setAttribute("id",r=N),c=C(t),s=c.length,l=ut.test(r)?"#"+r:"[id='"+r+"']";s--;)c[s]=l+" "+u(c[s]);p=c.join(","),f=yt.test(t)&&d(e.parentNode)||e}if(p)try{return Q.apply(i,f.querySelectorAll(p)),i}catch(g){}finally{r===N&&e.removeAttribute("id")}}}return M(t.replace(rt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[N]=!0,t}function a(t){var e=F.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||q)-(~t.sourceIndex||q);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function r(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var a,s=t([],i.length,e),o=s.length;o--;)i[a=s[o]]&&(i[a]=!(n[a]=i[a]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function c(){}function u(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,a=i&&"parentNode"===n,s=j++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,s)}:function(e,i,o){var r,l,h,d=[X,s];if(o){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||a){if(h=e[N]||(e[N]={}),l=h[e.uniqueID]||(h[e.uniqueID]={}),(r=l[n])&&r[0]===X&&r[1]===s)return d[2]=r[2];if(l[n]=d,d[2]=t(e,i,o))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var a=t.length;a--;)if(!t[a](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var a=0,s=i.length;s>a;a++)e(t,i[a],n);return n}function g(t,e,i,n,a){for(var s,o=[],r=0,l=t.length,h=null!=e;l>r;r++)(s=t[r])&&(i&&!i(s,n,a)||(o.push(s),h&&e.push(r)));return o}function v(t,e,i,a,s,o){return a&&!a[N]&&(a=v(a)),s&&!s[N]&&(s=v(s,o)),n(function(n,o,r,l){var h,d,c,u=[],p=[],f=o.length,v=n||m(e||"*",r.nodeType?[r]:r,[]),y=!t||!n&&e?v:g(v,u,t,r,l),x=i?s||(n?t:f||a)?[]:o:y;if(i&&i(y,x,r,l),a)for(h=g(x,p),a(h,[],r,l),d=h.length;d--;)(c=h[d])&&(x[p[d]]=!(y[p[d]]=c));if(n){if(s||t){if(s){for(h=[],d=x.length;d--;)(c=x[d])&&h.push(y[d]=c);s(null,x=[],h,l)}for(d=x.length;d--;)(c=x[d])&&(h=s?tt(n,c):u[d])>-1&&(n[h]=!(o[h]=c))}}else x=g(x===o?x.splice(f,x.length):x),s?s(null,o,x,l):Q.apply(o,x)})}function y(t){for(var e,i,n,a=t.length,s=w.relative[t[0].type],o=s||w.relative[" "],r=s?1:0,l=p(function(t){return t===e},o,!0),h=p(function(t){return tt(e,t)>-1},o,!0),d=[function(t,i,n){var a=!s&&(n||i!==A)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,a}];a>r;r++)if(i=w.relative[t[r].type])d=[p(f(d),i)];else{if(i=w.filter[t[r].type].apply(null,t[r].matches),i[N]){for(n=++r;a>n&&!w.relative[t[n].type];n++);return v(r>1&&f(d),r>1&&u(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(rt,"$1"),i,n>r&&y(t.slice(r,n)),a>n&&y(t=t.slice(n)),a>n&&u(t))}d.push(i)}return f(d)}function x(t,i){var a=i.length>0,s=t.length>0,o=function(n,o,r,l,h){var d,c,u,p=0,f="0",m=n&&[],v=[],y=A,x=n||s&&w.find.TAG("*",h),b=X+=null==y?1:Math.random()||.1,_=x.length;for(h&&(A=o===F||o||h);f!==_&&null!=(d=x[f]);f++){if(s&&d){for(c=0,o||d.ownerDocument===F||(D(d),r=!$);u=t[c++];)if(u(d,o||F,r)){l.push(d);break}h&&(X=b)}a&&((d=!u&&d)&&p--,n&&m.push(d))}if(p+=f,a&&f!==p){for(c=0;u=i[c++];)u(m,v,o,r);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=J.call(l));v=g(v)}Q.apply(l,v),h&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return h&&(X=b,A=y),m};return a?n(o):o}var b,_,w,T,k,C,S,M,A,P,E,D,F,I,$,z,L,B,O,N="sizzle"+1*new Date,Y=t.document,X=0,j=0,R=i(),H=i(),W=i(),U=function(t,e){return t===e&&(E=!0),0},q=1<<31,V={}.hasOwnProperty,G=[],J=G.pop,K=G.push,Q=G.push,Z=G.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",st=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",ot=new RegExp(it+"+","g"),rt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ct=new RegExp(st),ut=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,xt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),_t=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},wt=function(){D()};try{Q.apply(G=Z.call(Y.childNodes),Y.childNodes),G[Y.childNodes.length].nodeType}catch(Tt){Q={apply:G.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}_=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:Y;return n!==F&&9===n.nodeType&&n.documentElement?(F=n,I=F.documentElement,$=!k(F),(i=F.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",wt,!1):i.attachEvent&&i.attachEvent("onunload",wt)),_.attributes=a(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=a(function(t){return t.appendChild(F.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=gt.test(F.getElementsByClassName),_.getById=a(function(t){return I.appendChild(t).id=N,!F.getElementsByName||!F.getElementsByName(N).length}),_.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&$){var i=e.getElementById(t);return i?[i]:[]}},w.filter.ID=function(t){var e=t.replace(bt,_t);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,_t);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],a=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[a++];)1===i.nodeType&&n.push(i);return n}return s},w.find.CLASS=_.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&$?e.getElementsByClassName(t):void 0},L=[],z=[],(_.qsa=gt.test(F.querySelectorAll))&&(a(function(t){I.appendChild(t).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&z.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||z.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+N+"-]").length||z.push("~="),t.querySelectorAll(":checked").length||z.push(":checked"),t.querySelectorAll("a#"+N+"+*").length||z.push(".#.+[+~]")}),a(function(t){var e=F.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&z.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||z.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),z.push(",.*:")})),(_.matchesSelector=gt.test(B=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&a(function(t){_.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),L.push("!=",st)}),z=z.length&&new RegExp(z.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(I.compareDocumentPosition),O=e||gt.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return E=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!_.sortDetached&&e.compareDocumentPosition(t)===i?t===F||t.ownerDocument===Y&&O(Y,t)?-1:e===F||e.ownerDocument===Y&&O(Y,e)?1:P?tt(P,t)-tt(P,e):0:4&i?-1:1)}:function(t,e){if(t===e)return E=!0,0;var i,n=0,a=t.parentNode,s=e.parentNode,r=[t],l=[e];if(!a||!s)return t===F?-1:e===F?1:a?-1:s?1:P?tt(P,t)-tt(P,e):0;if(a===s)return o(t,e);for(i=t;i=i.parentNode;)r.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;r[n]===l[n];)n++;return n?o(r[n],l[n]):r[n]===Y?-1:l[n]===Y?1:0},F):F},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==F&&D(t),i=i.replace(dt,"='$1']"),_.matchesSelector&&$&&!W[i+" "]&&(!L||!L.test(i))&&(!z||!z.test(i)))try{var n=B.call(t,i);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(a){}return e(i,F,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==F&&D(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==F&&D(t);var i=w.attrHandle[e.toLowerCase()],n=i&&V.call(w.attrHandle,e.toLowerCase())?i(t,e,!$):void 0;return void 0!==n?n:_.attributes||!$?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,a=0;if(E=!_.detectDuplicates,P=!_.sortStable&&t.slice(0),t.sort(U),E){for(;e=t[a++];)e===t[a]&&(n=i.push(a));for(;n--;)t.splice(i[n],1)}return P=null,t},T=e.getText=function(t){var e,i="",n=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=T(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[n++];)i+=T(e);return i},w=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ct.test(i)&&(e=C(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,_t).toLowerCase();
return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=R[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&R(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(a){var s=e.attr(a,t);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(ot," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,a){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===a?function(t){return!!t.parentNode}:function(e,i,l){var h,d,c,u,p,f,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=r&&e.nodeName.toLowerCase(),y=!l&&!r,x=!1;if(g){if(s){for(;m;){for(u=e;u=u[m];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(u=g,c=u[N]||(u[N]={}),d=c[u.uniqueID]||(c[u.uniqueID]={}),h=d[t]||[],p=h[0]===X&&h[1],x=p&&h[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(x=p=0)||f.pop();)if(1===u.nodeType&&++x&&u===e){d[t]=[X,p,x];break}}else if(y&&(u=e,c=u[N]||(u[N]={}),d=c[u.uniqueID]||(c[u.uniqueID]={}),h=d[t]||[],p=h[0]===X&&h[1],x=p),x===!1)for(;(u=++p&&u&&u[m]||(x=p=0)||f.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++x||(y&&(c=u[N]||(u[N]={}),d=c[u.uniqueID]||(c[u.uniqueID]={}),d[t]=[X,x]),u!==e)););return x-=a,x===n||x%n===0&&x/n>=0}}},PSEUDO:function(t,i){var a,s=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[N]?s(i):s.length>1?(a=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,a=s(t,i),o=a.length;o--;)n=tt(t,a[o]),t[n]=!(e[n]=a[o])}):function(t){return s(t,0,a)}):s}},pseudos:{not:n(function(t){var e=[],i=[],a=S(t.replace(rt,"$1"));return a[N]?n(function(t,e,i,n){for(var s,o=a(t,null,n,[]),r=t.length;r--;)(s=o[r])&&(t[r]=!(e[r]=s))}):function(t,n,s){return e[0]=t,a(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(bt,_t),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,_t).toLowerCase(),function(e){var i;do if(i=$?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[0>i?i+e:i]}),even:h(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=r(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=l(b);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,C=e.tokenize=function(t,i){var n,a,s,o,r,l,h,d=H[t+" "];if(d)return i?0:d.slice(0);for(r=t,l=[],h=w.preFilter;r;){n&&!(a=lt.exec(r))||(a&&(r=r.slice(a[0].length)||r),l.push(s=[])),n=!1,(a=ht.exec(r))&&(n=a.shift(),s.push({value:n,type:a[0].replace(rt," ")}),r=r.slice(n.length));for(o in w.filter)!(a=pt[o].exec(r))||h[o]&&!(a=h[o](a))||(n=a.shift(),s.push({value:n,type:o,matches:a}),r=r.slice(n.length));if(!n)break}return i?r.length:r?e.error(t):H(t,l).slice(0)},S=e.compile=function(t,e){var i,n=[],a=[],s=W[t+" "];if(!s){for(e||(e=C(t)),i=e.length;i--;)s=y(e[i]),s[N]?n.push(s):a.push(s);s=W(t,x(a,n)),s.selector=t}return s},M=e.select=function(t,e,i,n){var a,s,o,r,l,h="function"==typeof t&&t,c=!n&&C(t=h.selector||t);if(i=i||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&_.getById&&9===e.nodeType&&$&&w.relative[s[1].type]){if(e=(w.find.ID(o.matches[0].replace(bt,_t),e)||[])[0],!e)return i;h&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(a=pt.needsContext.test(t)?0:s.length;a--&&(o=s[a],!w.relative[r=o.type]);)if((l=w.find[r])&&(n=l(o.matches[0].replace(bt,_t),yt.test(s[0].type)&&d(e.parentNode)||e))){if(s.splice(a,1),t=n.length&&u(s),!t)return Q.apply(i,n),i;break}}return(h||S(t,c))(n,e,!$,i,!e||yt.test(t)&&d(e.parentNode)||e),i},_.sortStable=N.split("").sort(U).join("")===N,_.detectDuplicates=!!E,D(),_.sortDetached=a(function(t){return 1&t.compareDocumentPosition(F.createElement("div"))}),a(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&a(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),a(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains;var xt=function(t,e,i){for(var n=[],a=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(a&&pt(t).is(i))break;n.push(t)}return n},bt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},_t=pt.expr.match.needsContext,wt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Tt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,i=[],n=this,a=n.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;a>e;e++)if(pt.contains(n[e],this))return!0}));for(e=0;a>e;e++)pt.find(t,n[e],i);return i=this.pushStack(a>1?pt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&_t.test(t)?pt(t):t||[],!1).length}});var kt,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,St=pt.fn.init=function(t,e,i){var n,a;if(!t)return this;if(i=i||kt,"string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Ct.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),wt.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(a=nt.getElementById(n[2]),a&&a.parentNode){if(a.id!==n[2])return kt.find(t);this.length=1,this[0]=a}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(pt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))};St.prototype=pt.fn,kt=pt(nt);var Mt=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,i=pt(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(pt.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,a=this.length,s=[],o=_t.test(t)||"string"!=typeof t?pt(t,e||this.context):0;a>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?pt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,i){return xt(t,"parentNode",i)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,i){return xt(t,"nextSibling",i)},prevUntil:function(t,e,i){return xt(t,"previousSibling",i)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(i,n){var a=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=pt.filter(n,a)),this.length>1&&(At[t]||(a=pt.uniqueSort(a)),Mt.test(t)&&(a=a.reverse())),this.pushStack(a)}});var Pt=/\S+/g;pt.Callbacks=function(t){t="string"==typeof t?s(t):pt.extend({},t);var e,i,n,a,o=[],r=[],l=-1,h=function(){for(a=t.once,n=e=!0;r.length;l=-1)for(i=r.shift();++l<o.length;)o[l].apply(i[0],i[1])===!1&&t.stopOnFalse&&(l=o.length,i=!1);t.memory||(i=!1),e=!1,a&&(o=i?[]:"")},d={add:function(){return o&&(i&&!e&&(l=o.length-1,r.push(i)),function n(e){pt.each(e,function(e,i){pt.isFunction(i)?t.unique&&d.has(i)||o.push(i):i&&i.length&&"string"!==pt.type(i)&&n(i)})}(arguments),i&&!e&&h()),this},remove:function(){return pt.each(arguments,function(t,e){for(var i;(i=pt.inArray(e,o,i))>-1;)o.splice(i,1),l>=i&&l--}),this},has:function(t){return t?pt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return a=r=[],o=i="",this},disabled:function(){return!o},lock:function(){return a=!0,i||d.disable(),this},locked:function(){return!!a},fireWith:function(t,i){return a||(i=i||[],i=[t,i.slice?i.slice():i],r.push(i),e||h()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(i){pt.each(e,function(e,s){var o=pt.isFunction(t[e])&&t[e];a[s[1]](function(){var t=o&&o.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,n):n}},a={};return n.pipe=n.then,pt.each(e,function(t,s){var o=s[2],r=s[3];n[s[1]]=o.add,r&&o.add(function(){i=r},e[1^t][2].disable,e[2][2].lock),a[s[0]]=function(){return a[s[0]+"With"](this===a?n:this,arguments),this},a[s[0]+"With"]=o.fireWith}),n.promise(a),t&&t.call(a,a),a},when:function(t){var e,i,n,a=0,s=at.call(arguments),o=s.length,r=1!==o||t&&pt.isFunction(t.promise)?o:0,l=1===r?t:pt.Deferred(),h=function(t,i,n){return function(a){i[t]=this,n[t]=arguments.length>1?at.call(arguments):a,n===e?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);o>a;a++)s[a]&&pt.isFunction(s[a].promise)?s[a].promise().progress(h(a,i,e)).done(h(a,n,s)).fail(l.reject):--r;return r||l.resolveWith(n,s),l.promise()}});var Et;pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||(Et.resolveWith(nt,[pt]),pt.fn.triggerHandler&&(pt(nt).triggerHandler("ready"),pt(nt).off("ready"))))}}),pt.ready.promise=function(e){if(!Et)if(Et=pt.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(pt.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",r),t.addEventListener("load",r);else{nt.attachEvent("onreadystatechange",r),t.attachEvent("onload",r);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(n){}i&&i.doScroll&&!function a(){if(!pt.isReady){try{i.doScroll("left")}catch(e){return t.setTimeout(a,50)}o(),pt.ready()}}()}return Et.promise(e)},pt.ready.promise();var Dt;for(Dt in pt(ct))break;ct.ownFirst="0"===Dt,ct.inlineBlockNeedsLayout=!1,pt(function(){var t,e,i,n;i=nt.getElementsByTagName("body")[0],i&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ct.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");ct.deleteExpando=!0;try{delete t.test}catch(e){ct.deleteExpando=!1}t=null}();var Ft=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||e!==!0&&t.getAttribute("classid")===e)},It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando],!!t&&!h(t)},data:function(t,e,i){return d(t,e,i)},removeData:function(t,e){return c(t,e)},_data:function(t,e,i){return d(t,e,i,!0)},_removeData:function(t,e){return c(t,e,!0)}}),pt.fn.extend({data:function(t,e){var i,n,a,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(a=pt.data(s),1===s.nodeType&&!pt._data(s,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=pt.camelCase(n.slice(5)),l(s,n,a[n])));pt._data(s,"parsedAttrs",!0)}return a}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):s?l(s,t,pt.data(s,t)):void 0},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=pt._data(t,e),i&&(!n||pt.isArray(i)?n=pt._data(t,e,pt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,a=i.shift(),s=pt._queueHooks(t,e),o=function(){pt.dequeue(t,e)};"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===e&&i.unshift("inprogress"),delete s.stop,a.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return pt._data(t,i)||pt._data(t,i,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,i)})})}}),pt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):void 0===e?this:this.each(function(){var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,a=pt.Deferred(),s=this,o=this.length,r=function(){--n||a.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)i=pt._data(s[o],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(r));return r(),a.promise(e)}}),function(){var t;ct.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=nt.getElementsByTagName("body")[0],i&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],Ot=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Nt=function(t,e,i,n,a,s,o){var r=0,l=t.length,h=null==i;if("object"===pt.type(i)){a=!0;for(r in i)Nt(t,e,r,i[r],!0,s,o)}else if(void 0!==n&&(a=!0,pt.isFunction(n)||(o=!0),h&&(o?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(pt(t),i)})),e))for(;l>r;r++)e(t[r],i,o?n:n.call(t[r],r,e(t[r],i)));return a?t:h?e.call(t):l?e(t[0],i):s},Yt=/^(?:checkbox|radio)$/i,Xt=/<([\w:-]+)/,jt=/^$|\/(?:java|ecma)script/i,Rt=/^\s+/,Ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ct.leadingWhitespace=3===t.firstChild.nodeType,ct.tbody=!t.getElementsByTagName("tbody").length,ct.htmlSerialize=!!t.getElementsByTagName("link").length,ct.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ct.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ct.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ct.noCloneEvent=!!t.addEventListener,t[pt.expando]=1,ct.attributes=!t.getAttribute(pt.expando)}();var Wt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ct.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Wt.optgroup=Wt.option,Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td;var Ut=/<|&#?\w+;/,qt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ct[e]=i in t)||(n.setAttribute(i,"t"),ct[e]=n.attributes[i].expando===!1);n=null}();var Vt=/^(?:input|select|textarea)$/i,Gt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^(?:focusinfocus|focusoutblur)$/,Qt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,a){var s,o,r,l,h,d,c,u,p,f,m,g=pt._data(t);if(g){for(i.handler&&(l=i,i=l.handler,a=l.selector),i.guid||(i.guid=pt.guid++),(o=g.events)||(o=g.events={}),(d=g.handle)||(d=g.handle=function(t){return"undefined"==typeof pt||t&&pt.event.triggered===t.type?void 0:pt.event.dispatch.apply(d.elem,arguments)},d.elem=t),e=(e||"").match(Pt)||[""],r=e.length;r--;)s=Qt.exec(e[r])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(h=pt.event.special[p]||{},p=(a?h.delegateType:h.bindType)||p,h=pt.event.special[p]||{},c=pt.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&pt.expr.match.needsContext.test(a),namespace:f.join(".")},l),(u=o[p])||(u=o[p]=[],u.delegateCount=0,h.setup&&h.setup.call(t,n,f,d)!==!1||(t.addEventListener?t.addEventListener(p,d,!1):t.attachEvent&&t.attachEvent("on"+p,d))),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),a?u.splice(u.delegateCount++,0,c):u.push(c),pt.event.global[p]=!0);t=null}},remove:function(t,e,i,n,a){var s,o,r,l,h,d,c,u,p,f,m,g=pt.hasData(t)&&pt._data(t);if(g&&(d=g.events)){for(e=(e||"").match(Pt)||[""],h=e.length;h--;)if(r=Qt.exec(e[h])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p){for(c=pt.event.special[p]||{},p=(n?c.delegateType:c.bindType)||p,u=d[p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=u.length;s--;)o=u[s],!a&&m!==o.origType||i&&i.guid!==o.guid||r&&!r.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(u.splice(s,1),o.selector&&u.delegateCount--,c.remove&&c.remove.call(t,o));l&&!u.length&&(c.teardown&&c.teardown.call(t,f,g.handle)!==!1||pt.removeEvent(t,p,g.handle),delete d[p])}else for(p in d)pt.event.remove(t,p+e[h],i,n,!0);pt.isEmptyObject(d)&&(delete g.handle,pt._removeData(t,"events"))}},trigger:function(e,i,n,a){var s,o,r,l,h,d,c,u=[n||nt],p=dt.call(e,"type")?e.type:e,f=dt.call(e,"namespace")?e.namespace.split("."):[];if(r=d=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Kt.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=a?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),h=pt.event.special[p]||{},a||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!a&&!h.noBubble&&!pt.isWindow(n)){for(l=h.delegateType||p,Kt.test(l+p)||(r=r.parentNode);r;r=r.parentNode)u.push(r),d=r;d===(n.ownerDocument||nt)&&u.push(d.defaultView||d.parentWindow||t)}for(c=0;(r=u[c++])&&!e.isPropagationStopped();)e.type=c>1?l:h.bindType||p,s=(pt._data(r,"events")||{})[e.type]&&pt._data(r,"handle"),s&&s.apply(r,i),s=o&&r[o],s&&s.apply&&Ft(r)&&(e.result=s.apply(r,i),e.result===!1&&e.preventDefault());if(e.type=p,!a&&!e.isDefaultPrevented()&&(!h._default||h._default.apply(u.pop(),i)===!1)&&Ft(n)&&o&&n[p]&&!pt.isWindow(n)){d=n[o],d&&(n[o]=null),pt.event.triggered=p;try{n[p]()}catch(m){}pt.event.triggered=void 0,d&&(n[o]=d)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,i,n,a,s,o=[],r=at.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],h=pt.event.special[t.type]||{};if(r[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(o=pt.event.handlers.call(this,t,l),e=0;(a=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=a.elem,i=0;(s=a.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(s.namespace)||(t.handleObj=s,t.data=s.data,n=((pt.event.special[s.origType]||{}).handle||s.handler).apply(a.elem,r),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,a,s,o=[],r=e.delegateCount,l=t.target;if(r&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(n=[],i=0;r>i;i++)s=e[i],a=s.selector+" ",void 0===n[a]&&(n[a]=s.needsContext?pt(a,this).index(l)>-1:pt.find(a,this,null,[l]).length),n[a]&&n.push(s);n.length&&o.push({elem:l,handlers:n})}return r<e.length&&o.push({elem:this,handlers:e.slice(r)}),o},fix:function(t){if(t[pt.expando])return t;var e,i,n,a=t.type,s=t,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Jt.test(a)?this.mouseHooks:Gt.test(a)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new pt.Event(s),e=n.length;e--;)i=n[e],t[i]=s[i];return t.target||(t.target=s.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,s):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,a,s=e.button,o=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,a=n.documentElement,i=n.body,t.pageX=e.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?e.toElement:o),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===b()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},pt.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?y:x):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,a=t.relatedTarget,s=t.handleObj;return a&&(a===n||pt.contains(n,a))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),ct.submit||(pt.event.special.submit={setup:function(){return!pt.nodeName(this,"form")&&void pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):void 0;i&&!pt._data(i,"submit")&&(pt.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),pt._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){return!pt.nodeName(this,"form")&&void pt.event.remove(this,"._submit")}}),ct.change||(pt.event.special.change={setup:function(){return Vt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1):void pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Vt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pt.event.remove(this,"._change"),!Vt.test(this.nodeName)}}),ct.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,a=pt._data(n,e);a||n.addEventListener(t,i,!0),pt._data(n,e,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=pt._data(n,e)-1;a?pt._data(n,e,a):(n.removeEventListener(t,i,!0),pt._removeData(n,e))}}}),pt.fn.extend({on:function(t,e,i,n){return _(this,t,e,i,n)},one:function(t,e,i,n){return _(this,t,e,i,n,1)},off:function(t,e,i){var n,a;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=x),this.each(function(){pt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?pt.event.trigger(t,e,i,!0):void 0}});var Zt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Ht+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ie=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oe=p(nt),re=oe.appendChild(nt.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,i){var n,a,s,o,r,l=pt.contains(t.ownerDocument,t);if(ct.html5Clone||pt.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(re.innerHTML=t.outerHTML,re.removeChild(s=re.firstChild)),!(ct.noCloneEvent&&ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(n=f(s),r=f(t),o=0;null!=(a=r[o]);++o)n[o]&&S(a,n[o]);if(e)if(i)for(r=r||f(t),n=n||f(s),o=0;null!=(a=r[o]);o++)C(a,n[o]);else C(t,s);return n=f(s,"script"),n.length>0&&m(n,!l&&f(t,"script")),n=r=a=null,s},cleanData:function(t,e){for(var i,n,a,s,o=0,r=pt.expando,l=pt.cache,h=ct.attributes,d=pt.event.special;null!=(i=t[o]);o++)if((e||Ft(i))&&(a=i[r],s=a&&l[a])){if(s.events)for(n in s.events)d[n]?pt.event.remove(i,n):pt.removeEvent(i,n,s.handle);l[a]&&(delete l[a],h||"undefined"==typeof i.removeAttribute?i[r]=void 0:i.removeAttribute(r),it.push(a))}}}),pt.fn.extend({domManip:M,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.appendChild(t)}})},prepend:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){
var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Zt,""):void 0;if("string"==typeof t&&!ie.test(t)&&(ct.htmlSerialize||!te.test(t))&&(ct.leadingWhitespace||!Rt.test(t))&&!Wt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(a){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return M(this,arguments,function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),i&&i.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var i,n=0,a=[],s=pt(t),o=s.length-1;o>=n;n++)i=n===o?this:this.clone(!0),pt(s[n])[e](i),ot.apply(a,i.get());return this.pushStack(a)}});var le,he={HTML:"block",BODY:"block"},de=/^margin/,ce=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),ue=function(t,e,i,n){var a,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];a=i.apply(t,n||[]);for(s in e)t.style[s]=o[s];return a},pe=nt.documentElement;!function(){function e(){var e,d,c=nt.documentElement;c.appendChild(l),h.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=a=r=!1,n=o=!0,t.getComputedStyle&&(d=t.getComputedStyle(h),i="1%"!==(d||{}).top,r="2px"===(d||{}).marginLeft,a="4px"===(d||{width:"4px"}).width,h.style.marginRight="50%",n="4px"===(d||{marginRight:"4px"}).marginRight,e=h.appendChild(nt.createElement("div")),e.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",h.style.width="1px",o=!parseFloat((t.getComputedStyle(e)||{}).marginRight),h.removeChild(e)),h.style.display="none",s=0===h.getClientRects().length,s&&(h.style.display="",h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",h.childNodes[0].style.borderCollapse="separate",e=h.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===e[0].offsetHeight,s&&(e[0].style.display="",e[1].style.display="none",s=0===e[0].offsetHeight)),c.removeChild(l)}var i,n,a,s,o,r,l=nt.createElement("div"),h=nt.createElement("div");h.style&&(h.style.cssText="float:left;opacity:.5",ct.opacity="0.5"===h.style.opacity,ct.cssFloat=!!h.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===h.style.backgroundClip,l=nt.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.innerHTML="",l.appendChild(h),ct.boxSizing=""===h.style.boxSizing||""===h.style.MozBoxSizing||""===h.style.WebkitBoxSizing,pt.extend(ct,{reliableHiddenOffsets:function(){return null==i&&e(),s},boxSizingReliable:function(){return null==i&&e(),a},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),o},reliableMarginLeft:function(){return null==i&&e(),r}}))}();var fe,me,ge=/^(top|right|bottom|left)$/;t.getComputedStyle?(fe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},me=function(t,e,i){var n,a,s,o,r=t.style;return i=i||fe(t),o=i?i.getPropertyValue(e)||i[e]:void 0,""!==o&&void 0!==o||pt.contains(t.ownerDocument,t)||(o=pt.style(t,e)),i&&!ct.pixelMarginRight()&&ce.test(o)&&de.test(e)&&(n=r.width,a=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=n,r.minWidth=a,r.maxWidth=s),void 0===o?o:o+""}):pe.currentStyle&&(fe=function(t){return t.currentStyle},me=function(t,e,i){var n,a,s,o,r=t.style;return i=i||fe(t),o=i?i[e]:void 0,null==o&&r&&r[e]&&(o=r[e]),ce.test(o)&&!ge.test(e)&&(n=r.left,a=t.runtimeStyle,s=a&&a.left,s&&(a.left=t.currentStyle.left),r.left="fontSize"===e?"1em":o,o=r.pixelLeft+"px",r.left=n,s&&(a.left=s)),void 0===o?o:o+""||"auto"});var ve=/alpha\([^)]*\)/i,ye=/opacity\s*=\s*([^)]*)/i,xe=/^(none|table(?!-c[ea]).+)/,be=new RegExp("^("+zt+")(.*)$","i"),_e={position:"absolute",visibility:"hidden",display:"block"},we={letterSpacing:"0",fontWeight:"400"},Te=["Webkit","O","Moz","ms"],ke=nt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=me(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ct.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,s,o,r=pt.camelCase(e),l=t.style;if(e=pt.cssProps[r]||(pt.cssProps[r]=F(r)||r),o=pt.cssHooks[e]||pt.cssHooks[r],void 0===i)return o&&"get"in o&&void 0!==(a=o.get(t,!1,n))?a:l[e];if(s=typeof i,"string"===s&&(a=Lt.exec(i))&&a[1]&&(i=u(t,e,a),s="number"),null!=i&&i===i&&("number"===s&&(i+=a&&a[3]||(pt.cssNumber[r]?"":"px")),ct.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(o&&"set"in o&&void 0===(i=o.set(t,i,n)))))try{l[e]=i}catch(h){}}},css:function(t,e,i,n){var a,s,o,r=pt.camelCase(e);return e=pt.cssProps[r]||(pt.cssProps[r]=F(r)||r),o=pt.cssHooks[e]||pt.cssHooks[r],o&&"get"in o&&(s=o.get(t,!0,i)),void 0===s&&(s=me(t,e,n)),"normal"===s&&e in we&&(s=we[e]),""===i||i?(a=parseFloat(s),i===!0||isFinite(a)?a||0:s):s}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,i,n){return i?xe.test(pt.css(t,"display"))&&0===t.offsetWidth?ue(t,_e,function(){return L(t,e,n)}):L(t,e,n):void 0},set:function(t,i,n){var a=n&&fe(t);return $(t,i,n?z(t,e,n,ct.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,a),a):0)}}}),ct.opacity||(pt.cssHooks.opacity={get:function(t,e){return ye.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,a=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===pt.trim(s.replace(ve,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ve.test(s)?s.replace(ve,a):s+" "+a)}}),pt.cssHooks.marginRight=D(ct.reliableMarginRight,function(t,e){return e?ue(t,{display:"inline-block"},me,[t,"marginRight"]):void 0}),pt.cssHooks.marginLeft=D(ct.reliableMarginLeft,function(t,e){return e?(parseFloat(me(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-ue(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,a={},s="string"==typeof i?i.split(" "):[i];4>n;n++)a[t+Bt[n]+e]=s[n]||s[n-2]||s[0];return a}},de.test(t)||(pt.cssHooks[t+e].set=$)}),pt.fn.extend({css:function(t,e){return Nt(this,function(t,e,i){var n,a,s={},o=0;if(pt.isArray(e)){for(n=fe(t),a=e.length;a>o;o++)s[e[o]]=pt.css(t,e[o],!1,n);return s}return void 0!==i?pt.style(t,e,i):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ot(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=B,B.prototype={constructor:B,init:function(t,e,i,n,a,s){this.elem=t,this.prop=i,this.easing=a||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(pt.cssNumber[i]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,i=B.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=B.prototype.init,pt.fx.step={};var Ce,Se,Me=/^(?:toggle|show|hide)$/,Ae=/queueHooks$/;pt.Animation=pt.extend(R,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return u(i.elem,t,Lt.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Pt);for(var i,n=0,a=t.length;a>n;n++)i=t[n],R.tweeners[i]=R.tweeners[i]||[],R.tweeners[i].unshift(e)},prefilters:[X],prefilter:function(t,e){e?R.prefilters.unshift(t):R.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return n.duration=pt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in pt.fx.speeds?pt.fx.speeds[n.duration]:pt.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var a=pt.isEmptyObject(t),s=pt.speed(e,i,n),o=function(){var e=R(this,pt.extend({},t),s);(a||pt._data(this,"finish"))&&e.stop(!0)};return o.finish=o,a||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,a=null!=t&&t+"queueHooks",s=pt.timers,o=pt._data(this);if(a)o[a]&&o[a].stop&&n(o[a]);else for(a in o)o[a]&&o[a].stop&&Ae.test(a)&&n(o[a]);for(a=s.length;a--;)s[a].elem!==this||null!=t&&s[a].queue!==t||(s[a].anim.stop(i),e=!1,s.splice(a,1));!e&&i||pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=pt._data(this),n=i[t+"queue"],a=i[t+"queueHooks"],s=pt.timers,o=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),a&&a.stop&&a.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;o>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,a){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(N(e,!0),t,n,a)}}),pt.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,i=0;for(Ce=pt.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||pt.fx.stop(),Ce=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Se||(Se=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(Se),Se=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx?pt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var a=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(a)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),a=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",ct.getSetAttribute="t"!==i.className,ct.style=/top/.test(t.getAttribute("style")),ct.hrefNormalized="/a"===t.getAttribute("href"),ct.checkOn=!!e.value,ct.optSelected=a.selected,ct.enctype=!!nt.createElement("form").enctype,n.disabled=!0,ct.optDisabled=!a.disabled,e=nt.createElement("input"),e.setAttribute("value",""),ct.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ct.radioValue="t"===e.value}();var Pe=/\r/g,Ee=/[\x20\t\r\n\f]+/g;pt.fn.extend({val:function(t){var e,i,n,a=this[0];return arguments.length?(n=pt.isFunction(t),this.each(function(i){var a;1===this.nodeType&&(a=n?t.call(this,i,pt(this).val()):t,null==a?a="":"number"==typeof a?a+="":pt.isArray(a)&&(a=pt.map(a,function(t){return null==t?"":t+""})),e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,a,"value")||(this.value=a))})):a?(e=pt.valHooks[a.type]||pt.valHooks[a.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(a,"value"))?i:(i=a.value,"string"==typeof i?i.replace(Pe,""):null==i?"":i)):void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t)).replace(Ee," ")}},select:{get:function(t){for(var e,i,n=t.options,a=t.selectedIndex,s="select-one"===t.type||0>a,o=s?null:[],r=s?a+1:n.length,l=0>a?r:s?a:0;r>l;l++)if(i=n[l],(i.selected||l===a)&&(ct.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pt.nodeName(i.parentNode,"optgroup"))){if(e=pt(i).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var i,n,a=t.options,s=pt.makeArray(e),o=a.length;o--;)if(n=a[o],pt.inArray(pt.valHooks.option.get(n),s)>-1)try{n.selected=i=!0}catch(r){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),a}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){return pt.isArray(e)?t.checked=pt.inArray(pt(t).val(),e)>-1:void 0}},ct.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var De,Fe,Ie=pt.expr.attrHandle,$e=/^(?:checked|selected)$/i,ze=ct.getSetAttribute,Le=ct.input;pt.fn.extend({attr:function(t,e){return Nt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,i){var n,a,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof t.getAttribute?pt.prop(t,e,i):(1===s&&pt.isXMLDoc(t)||(e=e.toLowerCase(),a=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?Fe:De)),void 0!==i?null===i?void pt.removeAttr(t,e):a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:(t.setAttribute(e,i+""),i):a&&"get"in a&&null!==(n=a.get(t,e))?n:(n=pt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,a=0,s=e&&e.match(Pt);if(s&&1===t.nodeType)for(;i=s[a++];)n=pt.propFix[i]||i,pt.expr.match.bool.test(i)?Le&&ze||!$e.test(i)?t[n]=!1:t[pt.camelCase("default-"+i)]=t[n]=!1:pt.attr(t,i,""),t.removeAttribute(ze?i:n)}}),Fe={set:function(t,e,i){return e===!1?pt.removeAttr(t,i):Le&&ze||!$e.test(i)?t.setAttribute(!ze&&pt.propFix[i]||i,i):t[pt.camelCase("default-"+i)]=t[i]=!0,i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ie[e]||pt.find.attr;Le&&ze||!$e.test(e)?Ie[e]=function(t,e,n){var a,s;return n||(s=Ie[e],Ie[e]=a,a=null!=i(t,e,n)?e.toLowerCase():null,Ie[e]=s),a}:Ie[e]=function(t,e,i){return i?void 0:t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),Le&&ze||(pt.attrHooks.value={set:function(t,e,i){return pt.nodeName(t,"input")?void(t.defaultValue=e):De&&De.set(t,e,i)}}),ze||(De={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Ie.id=Ie.name=Ie.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},pt.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:De.set},pt.attrHooks.contenteditable={set:function(t,e,i){De.set(t,""!==e&&e,i)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ct.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Be=/^(?:input|select|textarea|button|object)$/i,Oe=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Nt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),pt.extend({prop:function(t,e,i){var n,a,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,a=pt.propHooks[e]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(t,i,e))?n:t[e]=i:a&&"get"in a&&null!==(n=a.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Be.test(t.nodeName)||Oe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ct.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ct.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),ct.enctype||(pt.propFix.enctype="encoding");var Ne=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,i,n,a,s,o,r,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(Pt)||[];i=this[l++];)if(a=H(i),n=1===i.nodeType&&(" "+a+" ").replace(Ne," ")){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r=pt.trim(n),a!==r&&pt.attr(i,"class",r)}return this},removeClass:function(t){var e,i,n,a,s,o,r,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Pt)||[];i=this[l++];)if(a=H(i),n=1===i.nodeType&&(" "+a+" ").replace(Ne," ")){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");r=pt.trim(n),a!==r&&pt.attr(i,"class",r)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(i){pt(this).toggleClass(t.call(this,i,H(this),e),e)}):this.each(function(){var e,n,a,s;if("string"===i)for(n=0,a=pt(this),s=t.match(Pt)||[];e=s[n++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==i||(e=H(this),e&&pt._data(this,"__className__",e),pt.attr(this,"class",e||t===!1?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+H(i)+" ").replace(Ne," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ye=t.location,Xe=pt.now(),je=/\?/,Re=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,a=pt.trim(e+"");return a&&!pt.trim(a.replace(Re,function(t,e,a,s){return i&&e&&(n=0),0===n?t:(i=a||e,n+=!s-!a,"")}))?Function("return "+a)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(a){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var He=/#.*$/,We=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,Ge=/^\/\//,Je=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ke={},Qe={},Ze="*/".concat("*"),ti=Ye.href,ei=Je.exec(ti.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ti,type:"GET",isLocal:qe.test(ei[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,pt.ajaxSettings),e):q(pt.ajaxSettings,t)},ajaxPrefilter:W(Ke),ajaxTransport:W(Qe),ajax:function(e,i){function n(e,i,n,a){var s,c,y,x,_,T=i;2!==b&&(b=2,l&&t.clearTimeout(l),d=void 0,r=a||"",w.readyState=e>0?4:0,s=e>=200&&300>e||304===e,n&&(x=V(u,w,n)),x=G(u,x,w,s),s?(u.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(pt.lastModified[o]=_),_=w.getResponseHeader("etag"),_&&(pt.etag[o]=_)),204===e||"HEAD"===u.type?T="nocontent":304===e?T="notmodified":(T=x.state,c=x.data,y=x.error,s=!y)):(y=T,!e&&T||(T="error",0>e&&(e=0))),w.status=e,w.statusText=(i||T)+"",s?m.resolveWith(p,[c,T,w]):m.rejectWith(p,[w,T,y]),w.statusCode(v),v=void 0,h&&f.trigger(s?"ajaxSuccess":"ajaxError",[w,u,s?c:y]),g.fireWith(p,[w,T]),h&&(f.trigger("ajaxComplete",[w,u]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var a,s,o,r,l,h,d,c,u=pt.ajaxSetup({},i),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?pt(p):pt.event,m=pt.Deferred(),g=pt.Callbacks("once memory"),v=u.statusCode||{},y={},x={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!c)for(c={};e=Ue.exec(r);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=x[i]=x[i]||t,y[t]=e),this},overrideMimeType:function(t){return b||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return d&&d.abort(e),n(0,e),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||ti)+"").replace(He,"").replace(Ge,ei[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=pt.trim(u.dataType||"*").toLowerCase().match(Pt)||[""],null==u.crossDomain&&(a=Je.exec(u.url.toLowerCase()),u.crossDomain=!(!a||a[1]===ei[1]&&a[2]===ei[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(ei[3]||("http:"===ei[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=pt.param(u.data,u.traditional)),U(Ke,u,i,w),2===b)return w;h=pt.event&&u.global,h&&0===pt.active++&&pt.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ve.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(je.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=We.test(o)?o.replace(We,"$1_="+Xe++):o+(je.test(o)?"&":"?")+"_="+Xe++)),u.ifModified&&(pt.lastModified[o]&&w.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&w.setRequestHeader("If-None-Match",pt.etag[o])),(u.data&&u.hasContent&&u.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Ze+"; q=0.01":""):u.accepts["*"]);for(s in u.headers)w.setRequestHeader(s,u.headers[s]);if(u.beforeSend&&(u.beforeSend.call(p,w,u)===!1||2===b))return w.abort();_="abort";for(s in{success:1,error:1,complete:1})w[s](u[s]);if(d=U(Qe,u,i,w)){if(w.readyState=1,h&&f.trigger("ajaxSend",[w,u]),2===b)return w;u.async&&u.timeout>0&&(l=t.setTimeout(function(){w.abort("timeout")},u.timeout));try{b=1,d.send(y,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,i,n,a){return pt.isFunction(i)&&(a=a||n,n=i,i=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:a,data:i,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(i){pt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return ct.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:K(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var ii=/%20/g,ni=/\[\]$/,ai=/\r?\n/g,si=/^(?:submit|button|image|reset|file)$/i,oi=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],a=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){a(this.name,this.value)});else for(i in t)Q(i,t[i],e,a);return n.join("&").replace(ii,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&oi.test(this.nodeName)&&!si.test(t)&&(this.checked||!Yt.test(t))}).map(function(t,e){var i=pt(this).val();return null==i?null:pt.isArray(i)?pt.map(i,function(t){return{name:e.name,value:t.replace(ai,"\r\n")}}):{name:e.name,value:i.replace(ai,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():nt.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var ri=0,li={},hi=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in li)li[t](void 0,!0)}),ct.cors=!!hi&&"withCredentials"in hi,hi=ct.ajax=!!hi,hi&&pt.ajaxTransport(function(e){if(!e.crossDomain||ct.cors){var i;return{send:function(n,a){var s,o=e.xhr(),r=++ri;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(s in n)void 0!==n[s]&&o.setRequestHeader(s,n[s]+"");o.send(e.hasContent&&e.data||null),i=function(t,n){var s,l,h;if(i&&(n||4===o.readyState))if(delete li[r],i=void 0,o.onreadystatechange=pt.noop,n)4!==o.readyState&&o.abort();else{h={},s=o.status,"string"==typeof o.responseText&&(h.text=o.responseText);try{l=o.statusText}catch(d){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=h.text?200:404}h&&a(s,l,h,o.getAllResponseHeaders())},e.async?4===o.readyState?t.setTimeout(i):o.onreadystatechange=li[r]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||pt("head")[0]||nt.documentElement;return{send:function(n,a){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||a(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var di=[],ci=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=di.pop()||pt.expando+"_"+Xe++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,i,n){var a,s,o,r=e.jsonp!==!1&&(ci.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ci.test(e.data)&&"data");return r||"jsonp"===e.dataTypes[0]?(a=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(ci,"$1"+a):e.jsonp!==!1&&(e.url+=(je.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return o||pt.error(a+" was not called"),o[0]},e.dataTypes[0]="json",s=t[a],t[a]=function(){o=arguments},n.always(function(){void 0===s?pt(t).removeProp(a):t[a]=s,e[a]&&(e.jsonpCallback=i.jsonpCallback,di.push(a)),o&&pt.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),pt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||nt;var n=wt.exec(t),a=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,a),a&&a.length&&pt(a).remove(),pt.merge([],n.childNodes))};var ui=pt.fn.load;pt.fn.load=function(t,e,i){if("string"!=typeof t&&ui)return ui.apply(this,arguments);var n,a,s,o=this,r=t.indexOf(" ");return r>-1&&(n=pt.trim(t.slice(r,t.length)),t=t.slice(0,r)),pt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(a="POST"),o.length>0&&pt.ajax({url:t,type:a||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,i){var n,a,s,o,r,l,h,d=pt.css(t,"position"),c=pt(t),u={};
"static"===d&&(t.style.position="relative"),r=c.offset(),s=pt.css(t,"top"),l=pt.css(t,"left"),h=("absolute"===d||"fixed"===d)&&pt.inArray("auto",[s,l])>-1,h?(n=c.position(),o=n.top,a=n.left):(o=parseFloat(s)||0,a=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},r))),null!=e.top&&(u.top=e.top-r.top+o),null!=e.left&&(u.left=e.left-r.left+a),"using"in e?e.using.call(t,u):c.css(u)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},a=this[0],s=a&&a.ownerDocument;return s?(e=s.documentElement,pt.contains(e,a)?("undefined"!=typeof a.getBoundingClientRect&&(n=a.getBoundingClientRect()),i=et(s),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i.top+=pt.css(t[0],"borderTopWidth",!0),i.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||pe})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);pt.fn[t]=function(n){return Nt(this,function(t,n,a){var s=et(t);return void 0===a?s?e in s?s[e]:s.document.documentElement[n]:t[n]:void(s?s.scrollTo(i?pt(s).scrollLeft():a,i?a:pt(s).scrollTop()):t[n]=a)},t,n,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=D(ct.pixelPosition,function(t,i){return i?(i=me(t,e),ce.test(i)?pt(t).position()[e]+"px":i):void 0})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){pt.fn[n]=function(n,a){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||a===!0?"margin":"border");return Nt(this,function(e,i,n){var a;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===n?pt.css(e,i,o):pt.style(e,i,n,o)},e,s?n:void 0,s,null)}})}),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var pi=t.jQuery,fi=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=fi),e&&t.jQuery===pt&&(t.jQuery=pi),pt},e||(t.jQuery=t.$=pt),pt}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var a=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),a=i.data("bs.alert");a||i.data("bs.alert",a=new n(this)),"string"==typeof e&&a[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){o.detach().trigger("closed.bs.alert").remove()}var a=t(this),s=a.attr("data-target");s||(s=a.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t("#"===s?[]:s);e&&e.preventDefault(),o.length||(o=a.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var a=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=a,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("bs.button"),s="object"==typeof e&&e;a||n.data("bs.button",a=new i(this,s)),"toggle"==e?a.toggle():e&&a.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,a=n.is("input")?"val":"html",s=n.data();e+="Text",null==s.resetText&&n.data("resetText",n[a]()),setTimeout(t.proxy(function(){n[a](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("bs.carousel"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o="string"==typeof e?e:s.slide;a||n.data("bs.carousel",a=new i(this,s)),"number"==typeof e?a.to(e):o?a[o]():s.interval&&a.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var a="prev"==t?-1:1,s=(i+a)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,n){var a=this.$element.find(".item.active"),s=n||this.getItemForDirection(e,a),o=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,a.addClass(r),s.addClass(r),a.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(a.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var a=function(i){var n,a=t(this),s=t(a.attr("data-target")||(n=a.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=t.extend({},s.data(),a.data()),r=a.attr("data-slide-to");r&&(o.interval=!1),e.call(s,o),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",a).on("click.bs.carousel.data-api","[data-slide-to]",a),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),a=i.data("bs.collapse"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!a&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),a||i.data("bs.collapse",a=new n(this,s)),"string"==typeof e&&a[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(e=a.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){a&&a.length&&(i.call(a,"hide"),e||a.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var a=t(n);this.addAriaAndCollapsedClass(e(a),a)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var a=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=a,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a=t(this);a.attr("data-target")||n.preventDefault();var s=e(a),o=s.data("bs.collapse"),r=o?"toggle":a.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(a).remove(),t(s).each(function(){var n=t(this),a=e(n),s={relatedTarget:this};a.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(a[0],i.target)||(a.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),a.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var a=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(n){var a=t(this);if(!a.is(".disabled, :disabled")){var s=e(a),o=s.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(n=t.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var a=e(n),o=a.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&a.find(s).trigger("focus"),n.trigger("click");var r=" li:not(.disabled):visible a",l=a.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var a=t(this),s=a.data("bs.modal"),o=t.extend({},i.DEFAULTS,a.data(),"object"==typeof e&&e);s||a.data("bs.modal",s=new i(this,o)),"string"==typeof e?s[e](n):o.show&&s.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,a=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var a=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),a&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});a?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&a;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),a=n.attr("href"),s=t(n.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(a)&&a},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(s,o,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("bs.tooltip"),s="object"==typeof e&&e;!a&&/destroy|hide/.test(e)||(a||n.data("bs.tooltip",a=new i(this,s)),"string"==typeof e&&a[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var a=this.options.trigger.split(" "),s=a.length;s--;){var o=a[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var r="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var a=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),c=s[0].offsetWidth,u=s[0].offsetHeight;if(h){var p=r,f=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+u>f.bottom?"top":"top"==r&&d.top-u<f.top?"bottom":"right"==r&&d.right+c>f.width?"left":"left"==r&&d.left-c<f.left?"right":r,s.removeClass(p).addClass(r)}var m=this.getCalculatedOffset(r,d,c,u);this.applyPlacement(m,r);var g=function(){var t=a.hoverState;a.$element.trigger("shown.bs."+a.type),a.hoverState=null,"out"==t&&a.leave(a)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),a=n[0].offsetWidth,s=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(r)&&(r=0),e.top+=o,e.left+=r,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,h=n[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var c=/top|bottom/.test(i),u=c?2*d.left-a+l:2*d.top-s+h,p=c?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(u,n[0][p],c)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=a.hoverState&&s.detach(),a.$element&&a.$element.removeAttr("aria-describedby").trigger("hidden.bs."+a.type),e&&e()}var a=this,s=t(this.$tip),o=t.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,a=i.getBoundingClientRect();null==a.width&&(a=t.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var s=window.SVGElement&&i instanceof window.SVGElement,o=n?{top:0,left:0}:s?null:e.offset(),r={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},a,r,l,o)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var a={top:0,left:0};if(!this.$viewport)return a;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-o.scroll,l=e.top+s-o.scroll+n;r<o.top?a.top=o.top-r:l>o.top+o.height&&(a.top=o.top+o.height-l)}else{var h=e.left-s,d=e.left+s+i;h<o.left?a.left=o.left-h:d>o.right&&(a.left=o.left+o.width-d)}return a},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("bs.popover"),s="object"==typeof e&&e;!a&&/destroy|hide/.test(e)||(a||n.data("bs.popover",a=new i(this,s)),"string"==typeof e&&a[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{
placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),a=n.data("bs.scrollspy"),s="object"==typeof i&&i;a||n.data("bs.scrollspy",a=new e(this,s)),"string"==typeof i&&a[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),a=e.data("target")||e.attr("href"),s=/^#./.test(a)&&t(a);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,a]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),a=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return o!=(t=s[s.length-1])&&this.activate(t);if(o&&e<a[0])return this.activeTarget=null,this.clear();for(t=a.length;t--;)o!=s[t]&&e>=a[t]&&(void 0===a[t+1]||e<a[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("bs.tab");a||n.data("bs.tab",a=new i(this)),"string"==typeof e&&a[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var a=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:a[0]});if(a.trigger(s),e.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){a.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:a[0]})})}}},i.prototype.activate=function(e,n,a){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),a&&a()}var o=n.find("> .active"),r=a&&t.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var a=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("bs.affix"),s="object"==typeof e&&e;a||n.data("bs.affix",a=new i(this,s)),"string"==typeof e&&a[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var a=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return a<i&&"top";if("bottom"==this.affixed)return null!=i?!(a+this.unpin<=s.top)&&"bottom":!(a+o<=t-n)&&"bottom";var r=null==this.affixed,l=r?a:s.top,h=r?o:e;return null!=i&&a<=i?"top":null!=n&&l+h>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,a=n.top,s=n.bottom,o=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(s=a=n),"function"==typeof a&&(a=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var r=this.getState(o,e,a,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-e-s})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(){!function(t){var e=this||(0,eval)("this"),i=e.document,n=e.navigator,a=e.jQuery,s=e.JSON;!function(t){"function"==typeof define&&define.amd?define(["exports","require"],t):t("function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports||exports:e.ko={})}(function(o,r){function l(t,e){return(null===t||typeof t in p)&&t===e}function h(e,i){var n;return function(){n||(n=setTimeout(function(){n=t,e()},i))}}function d(t,e){var i;return function(){clearTimeout(i),i=setTimeout(t,e)}}function c(t,e,i,n){u.d[t]={init:function(t,a,s,o,r){var l,h;return u.w(function(){var s=u.a.c(a()),o=!i!=!s,d=!h;(d||e||o!==l)&&(d&&u.Z.oa()&&(h=u.a.la(u.e.childNodes(t),!0)),o?(d||u.e.T(t,u.a.la(h)),u.Ja(n?n(r,s):r,t)):u.e.ma(t),l=o)},null,{q:t}),{controlsDescendantBindings:!0}}},u.h.ka[t]=!1,u.e.R[t]=!0}var u="undefined"!=typeof o?o:{};u.b=function(t,e){for(var i=t.split("."),n=u,a=0;a<i.length-1;a++)n=n[i[a]];n[i[i.length-1]]=e},u.D=function(t,e,i){t[e]=i},u.version="3.3.0",u.b("version",u.version),u.a=function(){function o(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}function r(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function l(t,e){return t.__proto__=e,t}function h(t,e,i,n){var a=t[e].match(g)||[];u.a.o(i.match(g),function(t){u.a.ga(a,t,n)}),t[e]=a.join(" ")}var d={__proto__:[]}instanceof Array,c={},p={};c[n&&/Firefox\/2/i.test(n.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],c.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(c,function(t,e){if(e.length)for(var i=0,n=e.length;i<n;i++)p[e[i]]=t});var f={propertychange:!0},m=i&&function(){for(var e=3,n=i.createElement("div"),a=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",a[0];);return 4<e?e:t}(),g=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(t,e){for(var i=0,n=t.length;i<n;i++)e(t[i],i)},m:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},vb:function(t,e,i){for(var n=0,a=t.length;n<a;n++)if(e.call(i,t[n],n))return t[n];return null},ya:function(t,e){var i=u.a.m(t,e);0<i?t.splice(i,1):0===i&&t.shift()},wb:function(t){t=t||[];for(var e=[],i=0,n=t.length;i<n;i++)0>u.a.m(e,t[i])&&e.push(t[i]);return e},Ka:function(t,e){t=t||[];for(var i=[],n=0,a=t.length;n<a;n++)i.push(e(t[n],n));return i},xa:function(t,e){t=t||[];for(var i=[],n=0,a=t.length;n<a;n++)e(t[n],n)&&i.push(t[n]);return i},ia:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var i=0,n=e.length;i<n;i++)t.push(e[i]);return t},ga:function(t,e,i){var n=u.a.m(u.a.cb(t),e);0>n?i&&t.push(e):i||t.splice(n,1)},za:d,extend:r,Fa:l,Ga:d?l:r,A:o,pa:function(t,e){if(!t)return t;var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],i,t));return n},Ra:function(t){for(;t.firstChild;)u.removeNode(t.firstChild)},Jb:function(t){t=u.a.O(t);for(var e=(t[0]&&t[0].ownerDocument||i).createElement("div"),n=0,a=t.length;n<a;n++)e.appendChild(u.S(t[n]));return e},la:function(t,e){for(var i=0,n=t.length,a=[];i<n;i++){var s=t[i].cloneNode(!0);a.push(e?u.S(s):s)}return a},T:function(t,e){if(u.a.Ra(t),e)for(var i=0,n=e.length;i<n;i++)t.appendChild(e[i])},Qb:function(t,e){var i=t.nodeType?[t]:t;if(0<i.length){for(var n=i[0],a=n.parentNode,s=0,o=e.length;s<o;s++)a.insertBefore(e[s],n);for(s=0,o=i.length;s<o;s++)u.removeNode(i[s])}},na:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.splice(0,1);if(1<t.length){var i=t[0],n=t[t.length-1];for(t.length=0;i!==n;)if(t.push(i),i=i.nextSibling,!i)return;t.push(n)}}return t},Sb:function(t,e){7>m?t.setAttribute("selected",e):t.selected=e},ib:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(t,e){return t=t||"",!(e.length>t.length)&&t.substring(0,e.length)===e},jc:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},Qa:function(t){return u.a.jc(t,t.ownerDocument.documentElement)},tb:function(t){return!!u.a.vb(t,u.a.Qa)},v:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},n:function(t,e,i){var n=m&&f[e];if(!n&&a)a(t).bind(e,i);else if(n||"function"!=typeof t.addEventListener){if("undefined"==typeof t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var s=function(e){i.call(t,e)},o="on"+e;t.attachEvent(o,s),u.a.C.fa(t,function(){t.detachEvent(o,s)})}else t.addEventListener(e,i,!1)},qa:function(t,n){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var s;if("input"===u.a.v(t)&&t.type&&"click"==n.toLowerCase()?(s=t.type,s="checkbox"==s||"radio"==s):s=!1,a&&!s)a(t).trigger(n);else if("function"==typeof i.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");s=i.createEvent(p[n]||"HTMLEvents"),s.initEvent(n,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(s)}else if(s&&t.click)t.click();else{if("undefined"==typeof t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+n)}},c:function(t){return u.F(t)?t():t},cb:function(t){return u.F(t)?t.B():t},Ia:function(t,e,i){var n;e&&("object"==typeof t.classList?(n=t.classList[i?"add":"remove"],u.a.o(e.match(g),function(e){n.call(t.classList,e)})):"string"==typeof t.className.baseVal?h(t.className,"baseVal",e,i):h(t,"className",e,i))},Ha:function(e,i){var n=u.a.c(i);null!==n&&n!==t||(n="");var a=u.e.firstChild(e);!a||3!=a.nodeType||u.e.nextSibling(a)?u.e.T(e,[e.ownerDocument.createTextNode(n)]):a.data=n,u.a.mc(e)},Rb:function(t,e){if(t.name=e,7>=m)try{t.mergeAttributes(i.createElement("<input name='"+t.name+"'/>"),!1)}catch(n){}},mc:function(t){9<=m&&(t=1==t.nodeType?t:t.parentNode,t.style&&(t.style.zoom=t.style.zoom))},kc:function(t){if(m){var e=t.style.width;t.style.width=0,t.style.width=e}},Bc:function(t,e){t=u.a.c(t),e=u.a.c(e);for(var i=[],n=t;n<=e;n++)i.push(n);return i},O:function(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(t[i]);return e},Hc:6===m,Ic:7===m,M:m,Db:function(t,e){for(var i=u.a.O(t.getElementsByTagName("input")).concat(u.a.O(t.getElementsByTagName("textarea"))),n="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},a=[],s=i.length-1;0<=s;s--)n(i[s])&&a.push(i[s]);return a},yc:function(t){return"string"==typeof t&&(t=u.a.ib(t))?s&&s.parse?s.parse(t):new Function("return "+t)():null},jb:function(t,e,i){if(!s||!s.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return s.stringify(u.a.c(t),e,i)},zc:function(t,e,n){n=n||{};var a=n.params||{},s=n.includeFields||this.Bb,r=t;if("object"==typeof t&&"form"===u.a.v(t))for(var r=t.action,l=s.length-1;0<=l;l--)for(var h=u.a.Db(t,s[l]),d=h.length-1;0<=d;d--)a[h[d].name]=h[d].value;e=u.a.c(e);var c=i.createElement("form");c.style.display="none",c.action=r,c.method="post";for(var p in e)t=i.createElement("input"),t.type="hidden",t.name=p,t.value=u.a.jb(u.a.c(e[p])),c.appendChild(t);o(a,function(t,e){var n=i.createElement("input");n.type="hidden",n.name=t,n.value=e,c.appendChild(n)}),i.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),u.b("utils",u.a),u.b("utils.arrayForEach",u.a.o),u.b("utils.arrayFirst",u.a.vb),u.b("utils.arrayFilter",u.a.xa),u.b("utils.arrayGetDistinctValues",u.a.wb),u.b("utils.arrayIndexOf",u.a.m),u.b("utils.arrayMap",u.a.Ka),u.b("utils.arrayPushAll",u.a.ia),u.b("utils.arrayRemoveItem",u.a.ya),u.b("utils.extend",u.a.extend),u.b("utils.fieldsIncludedWithJsonPost",u.a.Bb),u.b("utils.getFormFields",u.a.Db),u.b("utils.peekObservable",u.a.cb),u.b("utils.postJson",u.a.zc),u.b("utils.parseJson",u.a.yc),u.b("utils.registerEventHandler",u.a.n),u.b("utils.stringifyJson",u.a.jb),u.b("utils.range",u.a.Bc),u.b("utils.toggleDomNodeCssClass",u.a.Ia),u.b("utils.triggerEvent",u.a.qa),u.b("utils.unwrapObservable",u.a.c),u.b("utils.objectForEach",u.a.A),u.b("utils.addOrRemoveItem",u.a.ga),u.b("utils.setTextContent",u.a.Ha),u.b("unwrap",u.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if(1===arguments.length)return function(){return e.apply(t,arguments)};var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice(0);return n.push.apply(n,arguments),e.apply(t,n)}}),u.a.f=new function(){function e(e,s){var o=e[n];if(!o||"null"===o||!a[o]){if(!s)return t;o=e[n]="ko"+i++,a[o]={}}return a[o]}var i=0,n="__ko__"+(new Date).getTime(),a={};return{get:function(i,n){var a=e(i,!1);return a===t?t:a[n]},set:function(i,n,a){a===t&&e(i,!1)===t||(e(i,!0)[n]=a)},clear:function(t){var e=t[n];return!!e&&(delete a[e],t[n]=null,!0)},I:function(){return i++ +n}}},u.b("utils.domData",u.a.f),u.b("utils.domData.clear",u.a.f.clear),u.a.C=new function(){function e(e,i){var a=u.a.f.get(e,n);return a===t&&i&&(a=[],u.a.f.set(e,n,a)),a}function i(t){var n=e(t,!1);if(n)for(var n=n.slice(0),a=0;a<n.length;a++)n[a](t);if(u.a.f.clear(t),u.a.C.cleanExternalData(t),o[t.nodeType])for(n=t.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&i(t)}var n=u.a.f.I(),s={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{fa:function(t,i){if("function"!=typeof i)throw Error("Callback must be a function");e(t,!0).push(i)},Pb:function(i,a){var s=e(i,!1);s&&(u.a.ya(s,a),0==s.length&&u.a.f.set(i,n,t))},S:function(t){if(s[t.nodeType]&&(i(t),o[t.nodeType])){var e=[];u.a.ia(e,t.getElementsByTagName("*"));for(var n=0,a=e.length;n<a;n++)i(e[n])}return t},removeNode:function(t){u.S(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){a&&"function"==typeof a.cleanData&&a.cleanData([t])}}},u.S=u.a.C.S,u.removeNode=u.a.C.removeNode,u.b("cleanNode",u.S),u.b("removeNode",u.removeNode),u.b("utils.domNodeDisposal",u.a.C),u.b("utils.domNodeDisposal.addDisposeCallback",u.a.C.fa),u.b("utils.domNodeDisposal.removeDisposeCallback",u.a.C.Pb),function(){u.a.ca=function(t,n){var s;if(a){if(a.parseHTML)s=a.parseHTML(t,n)||[];else if((s=a.clean([t],n))&&s[0]){for(var o=s[0];o.parentNode&&11!==o.parentNode.nodeType;)o=o.parentNode;o.parentNode&&o.parentNode.removeChild(o)}}else{(o=n)||(o=i),s=o.parentWindow||o.defaultView||e;var r=u.a.ib(t).toLowerCase(),o=o.createElement("div"),r=r.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!r.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!r.indexOf("<td")||!r.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],l="ignored<div>"+r[1]+t+r[2]+"</div>";for("function"==typeof s.innerShiv?o.appendChild(s.innerShiv(l)):o.innerHTML=l;r[0]--;)o=o.lastChild;s=u.a.O(o.lastChild.childNodes)}return s},u.a.gb=function(e,i){if(u.a.Ra(e),i=u.a.c(i),null!==i&&i!==t)if("string"!=typeof i&&(i=i.toString()),a)a(e).html(i);else for(var n=u.a.ca(i,e.ownerDocument),s=0;s<n.length;s++)e.appendChild(n[s])}}(),u.b("utils.parseHtmlFragment",u.a.ca),u.b("utils.setHtml",u.a.gb),u.H=function(){function e(t,i){if(t)if(8==t.nodeType){var n=u.H.Lb(t.nodeValue);null!=n&&i.push({ic:t,wc:n})}else if(1==t.nodeType)for(var n=0,a=t.childNodes,s=a.length;n<s;n++)e(a[n],i)}var i={};return{$a:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[e]=t,"<!--[ko_memo:"+e+"]-->"},Wb:function(e,n){var a=i[e];if(a===t)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return a.apply(null,n||[]),!0}finally{delete i[e]}},Xb:function(t,i){var n=[];e(t,n);for(var a=0,s=n.length;a<s;a++){var o=n[a].ic,r=[o];i&&u.a.ia(r,i),u.H.Wb(n[a].wc,r),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Lb:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}}(),u.b("memoization",u.H),u.b("memoization.memoize",u.H.$a),u.b("memoization.unmemoize",u.H.Wb),u.b("memoization.parseMemoText",u.H.Lb),u.b("memoization.unmemoizeDomNodeAndDescendants",u.H.Xb),u.Sa={throttle:function(t,e){t.throttleEvaluation=e;var i=null;return u.j({read:t,write:function(n){clearTimeout(i),i=setTimeout(function(){t(n)},e)}})},rateLimit:function(t,e){var i,n,a;"number"==typeof e?i=e:(i=e.timeout,n=e.method),a="notifyWhenChangesStop"==n?d:h,t.Za(function(t){return a(t,i)})},notify:function(t,e){t.equalityComparer="always"==e?null:l}};var p={undefined:1,"boolean":1,number:1,string:1};u.b("extenders",u.Sa),u.Ub=function(t,e,i){this.da=t,this.La=e,this.hc=i,this.Gb=!1,u.D(this,"dispose",this.p)},u.Ub.prototype.p=function(){this.Gb=!0,this.hc()},u.Q=function(){u.a.Ga(this,u.Q.fn),this.G={},this.rb=1};var f={U:function(t,e,i){var n=this;i=i||"change";var a=new u.Ub(n,e?t.bind(e):t,function(){u.a.ya(n.G[i],a),n.ua&&n.ua(i)});return n.ja&&n.ja(i),n.G[i]||(n.G[i]=[]),n.G[i].push(a),a},notifySubscribers:function(t,e){if(e=e||"change","change"===e&&this.Yb(),this.Ba(e))try{u.k.xb();for(var i,n=this.G[e].slice(0),a=0;i=n[a];++a)i.Gb||i.La(t)}finally{u.k.end()}},Aa:function(){return this.rb},pc:function(t){return this.Aa()!==t},Yb:function(){++this.rb},Za:function(t){var e,i,n,a=this,s=u.F(a);a.ta||(a.ta=a.notifySubscribers,a.notifySubscribers=function(t,e){e&&"change"!==e?"beforeChange"===e?a.pb(t):a.ta(t,e):a.qb(t)});var o=t(function(){s&&n===a&&(n=a()),e=!1,a.Wa(i,n)&&a.ta(i=n)});a.qb=function(t){e=!0,n=t,o()},a.pb=function(t){e||(i=t,a.ta(t,"beforeChange"))}},Ba:function(t){return this.G[t]&&this.G[t].length},nc:function(t){if(t)return this.G[t]&&this.G[t].length||0;var e=0;return u.a.A(this.G,function(t,i){e+=i.length}),e},Wa:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},extend:function(t){var e=this;return t&&u.a.A(t,function(t,i){var n=u.Sa[t];"function"==typeof n&&(e=n(e,i)||e)}),e}};u.D(f,"subscribe",f.U),u.D(f,"extend",f.extend),u.D(f,"getSubscriptionsCount",f.nc),u.a.za&&u.a.Fa(f,Function.prototype),u.Q.fn=f,u.Hb=function(t){return null!=t&&"function"==typeof t.U&&"function"==typeof t.notifySubscribers},u.b("subscribable",u.Q),u.b("isSubscribable",u.Hb),u.Z=u.k=function(){function t(t){n.push(i),i=t}function e(){i=n.pop()}var i,n=[],a=0;return{xb:t,end:e,Ob:function(t){if(i){if(!u.Hb(t))throw Error("Only subscribable things can act as dependencies");i.La(t,t.ac||(t.ac=++a))}},u:function(i,n,a){try{return t(),i.apply(n,a||[])}finally{e()}},oa:function(){if(i)return i.w.oa()},Ca:function(){if(i)return i.Ca}}}(),u.b("computedContext",u.Z),u.b("computedContext.getDependenciesCount",u.Z.oa),u.b("computedContext.isInitial",u.Z.Ca),u.b("computedContext.isSleeping",u.Z.Jc),u.b("ignoreDependencies",u.Gc=u.k.u),u.r=function(t){function e(){return 0<arguments.length?(e.Wa(i,arguments[0])&&(e.X(),i=arguments[0],e.W()),this):(u.k.Ob(e),i)}var i=t;return u.Q.call(e),u.a.Ga(e,u.r.fn),e.B=function(){return i},e.W=function(){e.notifySubscribers(i)},e.X=function(){e.notifySubscribers(i,"beforeChange")},u.D(e,"peek",e.B),u.D(e,"valueHasMutated",e.W),u.D(e,"valueWillMutate",e.X),e},u.r.fn={equalityComparer:l};var m=u.r.Ac="__ko_proto__";u.r.fn[m]=u.r,u.a.za&&u.a.Fa(u.r.fn,u.Q.fn),u.Ta=function(e,i){return null!==e&&e!==t&&e[m]!==t&&(e[m]===i||u.Ta(e[m],i))},u.F=function(t){return u.Ta(t,u.r)},u.Da=function(t){return!!("function"==typeof t&&t[m]===u.r||"function"==typeof t&&t[m]===u.j&&t.qc)},u.b("observable",u.r),u.b("isObservable",u.F),u.b("isWriteableObservable",u.Da),u.b("isWritableObservable",u.Da),u.ba=function(t){if(t=t||[],"object"!=typeof t||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=u.r(t),u.a.Ga(t,u.ba.fn),t.extend({trackArrayChanges:!0})},u.ba.fn={remove:function(t){for(var e=this.B(),i=[],n="function"!=typeof t||u.F(t)?function(e){return e===t}:t,a=0;a<e.length;a++){var s=e[a];n(s)&&(0===i.length&&this.X(),i.push(s),e.splice(a,1),a--)}return i.length&&this.W(),i},removeAll:function(e){if(e===t){var i=this.B(),n=i.slice(0);return this.X(),i.splice(0,i.length),this.W(),n}return e?this.remove(function(t){return 0<=u.a.m(e,t)}):[]},destroy:function(t){var e=this.B(),i="function"!=typeof t||u.F(t)?function(e){return e===t}:t;this.X();for(var n=e.length-1;0<=n;n--)i(e[n])&&(e[n]._destroy=!0);this.W()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=u.a.m(e,t)}):[]},indexOf:function(t){var e=this();return u.a.m(e,t)},replace:function(t,e){var i=this.indexOf(t);0<=i&&(this.X(),this.B()[i]=e,this.W())}},u.a.o("pop push reverse shift sort splice unshift".split(" "),function(t){u.ba.fn[t]=function(){var e=this.B();return this.X(),this.yb(e,t,arguments),e=e[t].apply(e,arguments),this.W(),e}}),u.a.o(["slice"],function(t){u.ba.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),u.a.za&&u.a.Fa(u.ba.fn,u.r.fn),u.b("observableArray",u.ba),u.Sa.trackArrayChanges=function(t){function e(){if(!n){n=!0;var e=t.notifySubscribers;t.notifySubscribers=function(t,i){return i&&"change"!==i||++s,e.apply(this,arguments)};var o=[].concat(t.B()||[]);a=null,i=t.U(function(e){if(e=[].concat(e||[]),t.Ba("arrayChange")){var i;(!a||1<s)&&(a=u.a.Ma(o,e,{sparse:!0})),i=a}o=e,a=null,s=0,i&&i.length&&t.notifySubscribers(i,"arrayChange")})}}if(!t.yb){var i,n=!1,a=null,s=0,o=t.ja,r=t.ua;t.ja=function(i){o&&o.call(t,i),"arrayChange"===i&&e()},t.ua=function(e){r&&r.call(t,e),"arrayChange"!==e||t.Ba("arrayChange")||(i.p(),n=!1)},t.yb=function(t,e,i){function o(t,e,i){return r[r.length]={status:t,value:e,index:i}}if(n&&!s){var r=[],l=t.length,h=i.length,d=0;switch(e){case"push":d=l;case"unshift":for(e=0;e<h;e++)o("added",i[e],d+e);break;case"pop":d=l-1;case"shift":l&&o("deleted",t[d],d);break;case"splice":e=Math.min(Math.max(0,0>i[0]?l+i[0]:i[0]),l);for(var l=1===h?l:Math.min(e+(i[1]||0),l),h=e+h-2,d=Math.max(l,h),c=[],p=[],f=2;e<d;++e,++f)e<l&&p.push(o("deleted",t[e],e)),e<h&&c.push(o("added",i[f],e));u.a.Cb(p,c);break;default:return}a=r}}}},u.w=u.j=function(e,i,n){function a(t,e,i){if(b&&e===h)throw Error("A 'pure' computed must not be called recursively");M[t]=i,i.sa=A++,i.ea=e.Aa()}function s(){var t,e;for(t in M)if(M.hasOwnProperty(t)&&(e=M[t],e.da.pc(e.ea)))return!0}function o(){!_&&M&&u.a.A(M,function(t,e){e.p&&e.p()}),M=null,A=0,y=!0,_=m=!1}function r(){var t=h.throttleEvaluation;t&&0<=t?(clearTimeout(P),P=setTimeout(function(){l(!0)},t)):h.nb?h.nb():l(!0)}function l(e){if(!g&&!y){if(C&&C()){if(!v)return void S()}else v=!1;g=!0;try{var n=M,s=A,o=b?t:!A;u.k.xb({La:function(t,e){y||(s&&n[e]?(a(e,t,n[e]),delete n[e],--s):M[e]||a(e,t,_?{da:t}:t.U(r)))},w:h,Ca:o}),M={},A=0;try{var l=i?x.call(i):x()}finally{u.k.end(),s&&!_&&u.a.A(n,function(t,e){e.p&&e.p()}),m=!1}h.Wa(f,l)&&(_||p(f,"beforeChange"),f=l,_?h.Yb():e&&p(f)),o&&p(f,"awake")}finally{g=!1}A||S()}}function h(){if(0<arguments.length){if("function"!=typeof w)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return w.apply(i,arguments),this}return u.k.Ob(h),(m||_&&s())&&l(),f}function d(){return(m&&!A||_&&s())&&l(),f}function c(){return m||0<A}function p(t,e){h.notifySubscribers(t,e)}var f,m=!0,g=!1,v=!1,y=!1,x=e,b=!1,_=!1;if(x&&"object"==typeof x?(n=x,x=n.read):(n=n||{},x||(x=n.read)),"function"!=typeof x)throw Error("Pass a function that returns the value of the ko.computed");var w=n.write,T=n.disposeWhenNodeIsRemoved||n.q||null,k=n.disposeWhen||n.Pa,C=k,S=o,M={},A=0,P=null;i||(i=n.owner),u.Q.call(h),u.a.Ga(h,u.j.fn),h.B=d,h.oa=function(){return A},h.qc="function"==typeof w,h.p=function(){S()},h.$=c;var E=h.Za;return h.Za=function(t){E.call(h,t),h.nb=function(){h.pb(f),m=!0,h.qb(h)}},n.pure?(_=b=!0,h.ja=function(t){if(!y&&_&&"change"==t){if(_=!1,m||s())M=null,A=0,m=!0,l();else{var e=[];u.a.A(M,function(t,i){e[i.sa]=t}),u.a.o(e,function(t,e){var i=M[t],n=i.da.U(r);n.sa=e,n.ea=i.ea,M[t]=n})}y||p(f,"awake")}},h.ua=function(e){y||"change"!=e||h.Ba("change")||(u.a.A(M,function(t,e){e.p&&(M[t]={da:e.da,sa:e.sa,ea:e.ea},e.p())}),_=!0,p(t,"asleep"))},h.bc=h.Aa,h.Aa=function(){return _&&(m||s())&&l(),h.bc()}):n.deferEvaluation&&(h.ja=function(t){"change"!=t&&"beforeChange"!=t||d()}),u.D(h,"peek",h.B),u.D(h,"dispose",h.p),u.D(h,"isActive",h.$),u.D(h,"getDependenciesCount",h.oa),T&&(v=!0,T.nodeType&&(C=function(){return!u.a.Qa(T)||k&&k()})),_||n.deferEvaluation||l(),T&&c()&&T.nodeType&&(S=function(){u.a.C.Pb(T,S),o()},u.a.C.fa(T,S)),h},u.sc=function(t){return u.Ta(t,u.j)},f=u.r.Ac,u.j[f]=u.r,u.j.fn={equalityComparer:l},u.j.fn[f]=u.j,u.a.za&&u.a.Fa(u.j.fn,u.Q.fn),u.b("dependentObservable",u.j),u.b("computed",u.j),u.b("isComputed",u.sc),u.Nb=function(t,e){return"function"==typeof t?u.w(t,e,{pure:!0}):(t=u.a.extend({},t),t.pure=!0,u.w(t,e))},u.b("pureComputed",u.Nb),function(){function e(a,s,o){if(o=o||new n,a=s(a),"object"!=typeof a||null===a||a===t||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var r=a instanceof Array?[]:{};return o.save(a,r),i(a,function(i){var n=s(a[i]);switch(typeof n){case"boolean":case"number":case"string":case"function":r[i]=n;break;case"object":case"undefined":var l=o.get(n);r[i]=l!==t?l:e(n,s,o)}}),r}function i(t,e){if(t instanceof Array){for(var i=0;i<t.length;i++)e(i);"function"==typeof t.toJSON&&e("toJSON")}else for(i in t)e(i)}function n(){this.keys=[],this.mb=[]}u.Vb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(t){for(var e=0;u.F(t)&&10>e;e++)t=t();return t})},u.toJSON=function(t,e,i){return t=u.Vb(t),u.a.jb(t,e,i)},n.prototype={save:function(t,e){var i=u.a.m(this.keys,t);0<=i?this.mb[i]=e:(this.keys.push(t),this.mb.push(e))},get:function(e){return e=u.a.m(this.keys,e),0<=e?this.mb[e]:t}}}(),u.b("toJS",u.Vb),u.b("toJSON",u.toJSON),function(){u.i={s:function(e){switch(u.a.v(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?u.a.f.get(e,u.d.options.ab):7>=u.a.M?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?u.i.s(e.options[e.selectedIndex]):t;default:return e.value}},Y:function(e,i,n){switch(u.a.v(e)){case"option":switch(typeof i){case"string":u.a.f.set(e,u.d.options.ab,t),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=i;break;default:u.a.f.set(e,u.d.options.ab,i),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof i?i:""}break;case"select":""!==i&&null!==i||(i=t);for(var a,s=-1,o=0,r=e.options.length;o<r;++o)if(a=u.i.s(e.options[o]),a==i||""==a&&i===t){s=o;break}(n||0<=s||i===t&&1<e.size)&&(e.selectedIndex=s);break;default:null!==i&&i!==t||(i=""),e.value=i}}}}(),u.b("selectExtensions",u.i),u.b("selectExtensions.readValue",u.i.s),u.b("selectExtensions.writeValue",u.i.Y),u.h=function(){function t(t){t=u.a.ib(t),123===t.charCodeAt(0)&&(t=t.slice(1,-1));var e,i=[],o=t.match(n),r=[],l=0;if(o){o.push(",");for(var h,d=0;h=o[d];++d){var c=h.charCodeAt(0);if(44===c){if(0>=l){i.push(e&&r.length?{key:e,value:r.join("")}:{unknown:e||r.join("")}),e=l=0,r=[];continue}}else if(58===c){if(!l&&!e&&1===r.length){e=r.pop();continue}}else 47===c&&d&&1<h.length?(c=o[d-1].match(a))&&!s[c[0]]&&(t=t.substr(t.indexOf(h)+1),o=t.match(n),o.push(","),d=-1,h="/"):40===c||123===c||91===c?++l:41===c||125===c||93===c?--l:e||r.length||34!==c&&39!==c||(h=h.slice(1,-1));r.push(h)}}return i}var e=["true","false","null","undefined"],i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,n=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),a=/[\])"'A-Za-z0-9_$]+$/,s={"in":1,"return":1,"typeof":1},o={};return{ka:[],V:o,bb:t,Ea:function(n,a){function s(t,n){var a;if(!d){var c=u.getBindingHandler(t);
if(c&&c.preprocess&&!(n=c.preprocess(n,t,s)))return;(c=o[t])&&(a=n,0<=u.a.m(e,a)?a=!1:(c=a.match(i),a=null!==c&&(c[1]?"Object("+c[1]+")"+c[2]:a)),c=a),c&&l.push("'"+t+"':function(_z){"+a+"=_z}")}h&&(n="function(){return "+n+" }"),r.push("'"+t+"':"+n)}a=a||{};var r=[],l=[],h=a.valueAccessors,d=a.bindingParams,c="string"==typeof n?t(n):n;return u.a.o(c,function(t){s(t.key||t.unknown,t.value)}),l.length&&s("_ko_property_writers","{"+l.join(",")+" }"),r.join(",")},vc:function(t,e){for(var i=0;i<t.length;i++)if(t[i].key==e)return!0;return!1},ra:function(t,e,i,n,a){t&&u.F(t)?!u.Da(t)||a&&t.B()===n||t(n):(t=e.get("_ko_property_writers"))&&t[i]&&t[i](n)}}}(),u.b("expressionRewriting",u.h),u.b("expressionRewriting.bindingRewriteValidators",u.h.ka),u.b("expressionRewriting.parseObjectLiteral",u.h.bb),u.b("expressionRewriting.preProcessBindings",u.h.Ea),u.b("expressionRewriting._twoWayBindings",u.h.V),u.b("jsonExpressionRewriting",u.h),u.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",u.h.Ea),function(){function t(t){return 8==t.nodeType&&o.test(s?t.text:t.nodeValue)}function e(t){return 8==t.nodeType&&r.test(s?t.text:t.nodeValue)}function n(i,n){for(var a=i,s=1,o=[];a=a.nextSibling;){if(e(a)&&(s--,0===s))return o;o.push(a),t(a)&&s++}if(!n)throw Error("Cannot find closing comment tag to match: "+i.nodeValue);return null}function a(t,e){var i=n(t,e);return i?0<i.length?i[i.length-1].nextSibling:t.nextSibling:null}var s=i&&"<!--test-->"===i.createComment("test").text,o=s?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,r=s?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};u.e={R:{},childNodes:function(e){return t(e)?n(e):e.childNodes},ma:function(e){if(t(e)){e=u.e.childNodes(e);for(var i=0,n=e.length;i<n;i++)u.removeNode(e[i])}else u.a.Ra(e)},T:function(e,i){if(t(e)){u.e.ma(e);for(var n=e.nextSibling,a=0,s=i.length;a<s;a++)n.parentNode.insertBefore(i[a],n)}else u.a.T(e,i)},Mb:function(e,i){t(e)?e.parentNode.insertBefore(i,e.nextSibling):e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)},Fb:function(e,i,n){n?t(e)?e.parentNode.insertBefore(i,n.nextSibling):n.nextSibling?e.insertBefore(i,n.nextSibling):e.appendChild(i):u.e.Mb(e,i)},firstChild:function(i){return t(i)?!i.nextSibling||e(i.nextSibling)?null:i.nextSibling:i.firstChild},nextSibling:function(i){return t(i)&&(i=a(i)),i.nextSibling&&e(i.nextSibling)?null:i.nextSibling},oc:t,Fc:function(t){return(t=(s?t.text:t.nodeValue).match(o))?t[1]:null},Kb:function(i){if(l[u.a.v(i)]){var n=i.firstChild;if(n)do if(1===n.nodeType){var s;s=n.firstChild;var o=null;if(s)do if(o)o.push(s);else if(t(s)){var r=a(s,!0);r?s=r:o=[s]}else e(s)&&(o=[s]);while(s=s.nextSibling);if(s=o)for(o=n.nextSibling,r=0;r<s.length;r++)o?i.insertBefore(s[r],o):i.appendChild(s[r])}while(n=n.nextSibling)}}}}(),u.b("virtualElements",u.e),u.b("virtualElements.allowedBindings",u.e.R),u.b("virtualElements.emptyNode",u.e.ma),u.b("virtualElements.insertAfter",u.e.Fb),u.b("virtualElements.prepend",u.e.Mb),u.b("virtualElements.setDomNodeChildren",u.e.T),function(){u.L=function(){this.ec={}},u.a.extend(u.L.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||u.g.getComponentNameForNode(t);case 8:return u.e.oc(t);default:return!1}},getBindings:function(t,e){var i=this.getBindingsString(t,e),i=i?this.parseBindingsString(i,e,t):null;return u.g.sb(i,t,e,!1)},getBindingAccessors:function(t,e){var i=this.getBindingsString(t,e),i=i?this.parseBindingsString(i,e,t,{valueAccessors:!0}):null;return u.g.sb(i,t,e,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return u.e.Fc(t);default:return null}},parseBindingsString:function(t,e,i,n){try{var a,s=this.ec,o=t+(n&&n.valueAccessors||"");if(!(a=s[o])){var r,l="with($context){with($data||{}){return{"+u.h.Ea(t,n)+"}}}";r=new Function("$context","$element",l),a=s[o]=r}return a(e,i)}catch(h){throw h.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+h.message,h}}}),u.L.instance=new u.L}(),u.b("bindingProvider",u.L),function(){function i(t){return function(){return t}}function n(t){return t()}function s(t){return u.a.pa(u.k.u(t),function(e,i){return function(){return t()[i]}})}function o(t,e,n){return"function"==typeof t?s(t.bind(null,e,n)):u.a.pa(t,i)}function r(t,e){return s(this.getBindings.bind(this,t,e))}function l(t,e,i){var n,a=u.e.firstChild(e),s=u.L.instance,o=s.preprocessNode;if(o){for(;n=a;)a=u.e.nextSibling(n),o.call(s,n);a=u.e.firstChild(e)}for(;n=a;)a=u.e.nextSibling(n),h(t,n,i)}function h(t,e,i){var n=!0,a=1===e.nodeType;a&&u.e.Kb(e),(a&&i||u.L.instance.nodeHasBindings(e))&&(n=c(e,null,t,i).shouldBindDescendants),n&&!f[u.a.v(e)]&&l(t,e,!a)}function d(t){var e=[],i={},n=[];return u.a.A(t,function a(s){if(!i[s]){var o=u.getBindingHandler(s);o&&(o.after&&(n.push(s),u.a.o(o.after,function(e){if(t[e]){if(-1!==u.a.m(n,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+n.join(", "));a(e)}}),n.length--),e.push({key:s,Eb:o})),i[s]=!0}}),e}function c(e,i,a,s){var o=u.a.f.get(e,m);if(!i){if(o)throw Error("You cannot apply bindings multiple times to the same element.");u.a.f.set(e,m,!0)}!o&&s&&u.Tb(e,a);var l;if(i&&"function"!=typeof i)l=i;else{var h=u.L.instance,c=h.getBindingAccessors||r,p=u.j(function(){return(l=i?i(a,e):c.call(h,e,a))&&a.K&&a.K(),l},null,{q:e});l&&p.$()||(p=null)}var f;if(l){var g=p?function(t){return function(){return n(p()[t])}}:function(t){return l[t]},v=function(){return u.a.pa(p?p():l,n)};v.get=function(t){return l[t]&&n(g(t))},v.has=function(t){return t in l},s=d(l),u.a.o(s,function(i){var n=i.Eb.init,s=i.Eb.update,o=i.key;if(8===e.nodeType&&!u.e.R[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof n&&u.k.u(function(){var i=n(e,g(o),v,a.$data,a);if(i&&i.controlsDescendantBindings){if(f!==t)throw Error("Multiple bindings ("+f+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");f=o}}),"function"==typeof s&&u.j(function(){s(e,g(o),v,a.$data,a)},null,{q:e})}catch(r){throw r.message='Unable to process binding "'+o+": "+l[o]+'"\nMessage: '+r.message,r}})}return{shouldBindDescendants:f===t}}function p(t){return t&&t instanceof u.N?t:new u.N(t)}u.d={};var f={script:!0,textarea:!0};u.getBindingHandler=function(t){return u.d[t]},u.N=function(e,i,n,a){var s,o=this,r="function"==typeof e&&!u.F(e),l=u.j(function(){var t=r?e():e,s=u.a.c(t);return i?(i.K&&i.K(),u.a.extend(o,i),l&&(o.K=l)):(o.$parents=[],o.$root=s,o.ko=u),o.$rawData=t,o.$data=s,n&&(o[n]=s),a&&a(o,i,s),o.$data},null,{Pa:function(){return s&&!u.a.tb(s)},q:!0});l.$()&&(o.K=l,l.equalityComparer=null,s=[],l.Zb=function(e){s.push(e),u.a.C.fa(e,function(e){u.a.ya(s,e),s.length||(l.p(),o.K=l=t)})})},u.N.prototype.createChildContext=function(t,e,i){return new u.N(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),i&&i(t)})},u.N.prototype.extend=function(t){return new u.N(this.K||this.$data,this,null,function(e,i){e.$rawData=i.$rawData,u.a.extend(e,"function"==typeof t?t():t)})};var m=u.a.f.I(),g=u.a.f.I();u.Tb=function(t,e){return 2!=arguments.length?u.a.f.get(t,g):(u.a.f.set(t,g,e),void(e.K&&e.K.Zb(t)))},u.va=function(t,e,i){return 1===t.nodeType&&u.e.Kb(t),c(t,e,p(i),!0)},u.cc=function(t,e,i){return i=p(i),u.va(t,o(e,i,t),i)},u.Ja=function(t,e){1!==e.nodeType&&8!==e.nodeType||l(p(t),e,!0)},u.ub=function(t,i){if(!a&&e.jQuery&&(a=e.jQuery),i&&1!==i.nodeType&&8!==i.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||e.document.body,h(p(t),i,!0)},u.Oa=function(e){switch(e.nodeType){case 1:case 8:var i=u.Tb(e);if(i)return i;if(e.parentNode)return u.Oa(e.parentNode)}return t},u.gc=function(e){return(e=u.Oa(e))?e.$data:t},u.b("bindingHandlers",u.d),u.b("applyBindings",u.ub),u.b("applyBindingsToDescendants",u.Ja),u.b("applyBindingAccessorsToNode",u.va),u.b("applyBindingsToNode",u.cc),u.b("contextFor",u.Oa),u.b("dataFor",u.gc)}(),function(t){function e(e,n){var o,r=a.hasOwnProperty(e)?a[e]:t;r?r.U(n):(r=a[e]=new u.Q,r.U(n),i(e,function(t,i){var n=!(!i||!i.synchronous);s[e]={definition:t,tc:n},delete a[e],o||n?r.notifySubscribers(t):setTimeout(function(){r.notifySubscribers(t)},0)}),o=!0)}function i(t,e){n("getConfig",[t],function(i){i?n("loadComponent",[t,i],function(t){e(t,i)}):e(null,null)})}function n(e,i,a,s){s||(s=u.g.loaders.slice(0));var o=s.shift();if(o){var r=o[e];if(r){var l=!1;if(r.apply(o,i.concat(function(t){l?a(null):null!==t?a(t):n(e,i,a,s)}))!==t&&(l=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else n(e,i,a,s)}else a(null)}var a={},s={};u.g={get:function(i,n){var a=s.hasOwnProperty(i)?s[i]:t;a?a.tc?u.k.u(function(){n(a.definition)}):setTimeout(function(){n(a.definition)},0):e(i,n)},zb:function(t){delete s[t]},ob:n},u.g.loaders=[],u.b("components",u.g),u.b("components.get",u.g.get),u.b("components.clearCachedDefinition",u.g.zb)}(),function(){function t(t,e,i,n){function a(){0===--r&&n(s)}var s={},r=2,l=i.template;i=i.viewModel,l?o(e,l,function(e){u.g.ob("loadTemplate",[t,e],function(t){s.template=t,a()})}):a(),i?o(e,i,function(e){u.g.ob("loadViewModel",[t,e],function(t){s[d]=t,a()})}):a()}function n(t,e,i){if("function"==typeof e)i(function(t){return new e(t)});else if("function"==typeof e[d])i(e[d]);else if("instance"in e){var a=e.instance;i(function(){return a})}else"viewModel"in e?n(t,e.viewModel,i):t("Unknown viewModel value: "+e)}function a(t){switch(u.a.v(t)){case"script":return u.a.ca(t.text);case"textarea":return u.a.ca(t.value);case"template":if(s(t.content))return u.a.la(t.content.childNodes)}return u.a.la(t.childNodes)}function s(t){return e.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function o(t,i,n){"string"==typeof i.require?r||e.require?(r||e.require)([i.require],n):t("Uses require, but no AMD loader is present"):n(i)}function l(t){return function(e){throw Error("Component '"+t+"': "+e)}}var h={};u.g.register=function(t,e){if(!e)throw Error("Invalid configuration for "+t);if(u.g.Xa(t))throw Error("Component "+t+" is already registered");h[t]=e},u.g.Xa=function(t){return t in h},u.g.Ec=function(t){delete h[t],u.g.zb(t)},u.g.Ab={getConfig:function(t,e){e(h.hasOwnProperty(t)?h[t]:null)},loadComponent:function(e,i,n){var a=l(e);o(a,i,function(i){t(e,a,i,n)})},loadTemplate:function(t,n,o){if(t=l(t),"string"==typeof n)o(u.a.ca(n));else if(n instanceof Array)o(n);else if(s(n))o(u.a.O(n.childNodes));else if(n.element)if(n=n.element,e.HTMLElement?n instanceof HTMLElement:n&&n.tagName&&1===n.nodeType)o(a(n));else if("string"==typeof n){var r=i.getElementById(n);r?o(a(r)):t("Cannot find element with ID "+n)}else t("Unknown element type: "+n);else t("Unknown template value: "+n)},loadViewModel:function(t,e,i){n(l(t),e,i)}};var d="createViewModel";u.b("components.register",u.g.register),u.b("components.isRegistered",u.g.Xa),u.b("components.unregister",u.g.Ec),u.b("components.defaultLoader",u.g.Ab),u.g.loaders.push(u.g.Ab),u.g.$b=h}(),function(){function t(t,i){var n=t.getAttribute("params");if(n){var n=e.parseBindingsString(n,i,t,{valueAccessors:!0,bindingParams:!0}),n=u.a.pa(n,function(e){return u.w(e,null,{q:t})}),a=u.a.pa(n,function(e){var i=e.B();return e.$()?u.w({read:function(){return u.a.c(e())},write:u.Da(i)&&function(t){e()(t)},q:t}):i});return a.hasOwnProperty("$raw")||(a.$raw=n),a}return{$raw:{}}}u.g.getComponentNameForNode=function(t){return t=u.a.v(t),u.g.Xa(t)&&t},u.g.sb=function(e,i,n,a){if(1===i.nodeType){var s=u.g.getComponentNameForNode(i);if(s){if(e=e||{},e.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:s,params:t(i,n)};e.component=a?function(){return o}:o}}return e};var e=new u.L;9>u.a.M&&(u.g.register=function(t){return function(e){return i.createElement(e),t.apply(this,arguments)}}(u.g.register),i.createDocumentFragment=function(t){return function(){var e,i=t(),n=u.g.$b;for(e in n)n.hasOwnProperty(e)&&i.createElement(e);return i}}(i.createDocumentFragment))}(),function(t){function e(t,e,i){if(e=e.template,!e)throw Error("Component '"+t+"' has no template");t=u.a.la(e),u.e.T(i,t)}function i(t,e,i,n){var a=t.createViewModel;return a?a.call(t,n,{element:e,templateNodes:i}):n}var n=0;u.d.component={init:function(a,s,o,r,l){function h(){var t=d&&d.dispose;"function"==typeof t&&t.call(d),c=null}var d,c,p=u.a.O(u.e.childNodes(a));return u.a.C.fa(a,h),u.w(function(){var o,r,f=u.a.c(s());if("string"==typeof f?o=f:(o=u.a.c(f.name),r=u.a.c(f.params)),!o)throw Error("No component name specified");var m=c=++n;u.g.get(o,function(n){if(c===m){if(h(),!n)throw Error("Unknown component '"+o+"'");e(o,n,a);var s=i(n,a,p,r);n=l.createChildContext(s,t,function(t){t.$component=s,t.$componentTemplateNodes=p}),d=s,u.Ja(n,a)}})},null,{q:a}),{controlsDescendantBindings:!0}}},u.e.R.component=!0}();var g={"class":"className","for":"htmlFor"};u.d.attr={update:function(e,i){var n=u.a.c(i())||{};u.a.A(n,function(i,n){n=u.a.c(n);var a=!1===n||null===n||n===t;a&&e.removeAttribute(i),8>=u.a.M&&i in g?(i=g[i],a?e.removeAttribute(i):e[i]=n):a||e.setAttribute(i,n.toString()),"name"===i&&u.a.Rb(e,a?"":n.toString())})}},function(){u.d.checked={after:["value","attr"],init:function(e,i,n){function a(){var t=e.checked,a=c?o():t;if(!u.Z.Ca()&&(!l||t)){var s=u.k.u(i);h?d!==a?(t&&(u.a.ga(s,a,!0),u.a.ga(s,d,!1)),d=a):u.a.ga(s,a,t):u.h.ra(s,n,"checked",a,!0)}}function s(){var t=u.a.c(i());e.checked=h?0<=u.a.m(t,o()):r?t:o()===t}var o=u.Nb(function(){return n.has("checkedValue")?u.a.c(n.get("checkedValue")):n.has("value")?u.a.c(n.get("value")):e.value}),r="checkbox"==e.type,l="radio"==e.type;if(r||l){var h=r&&u.a.c(i())instanceof Array,d=h?o():t,c=l||h;l&&!e.name&&u.d.uniqueName.init(e,function(){return!0}),u.w(a,null,{q:e}),u.a.n(e,"click",a),u.w(s,null,{q:e})}}},u.h.V.checked=!0,u.d.checkedValue={update:function(t,e){t.value=u.a.c(e())}}}(),u.d.css={update:function(t,e){var i=u.a.c(e());null!==i&&"object"==typeof i?u.a.A(i,function(e,i){i=u.a.c(i),u.a.Ia(t,e,i)}):(i=String(i||""),u.a.Ia(t,t.__ko__cssValue,!1),t.__ko__cssValue=i,u.a.Ia(t,i,!0))}},u.d.enable={update:function(t,e){var i=u.a.c(e());i&&t.disabled?t.removeAttribute("disabled"):i||t.disabled||(t.disabled=!0)}},u.d.disable={update:function(t,e){u.d.enable.update(t,function(){return!u.a.c(e())})}},u.d.event={init:function(t,e,i,n,a){var s=e()||{};u.a.A(s,function(s){"string"==typeof s&&u.a.n(t,s,function(t){var o,r=e()[s];if(r){try{var l=u.a.O(arguments);n=a.$data,l.unshift(n),o=r.apply(n,l)}finally{!0!==o&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===i.get(s+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},u.d.foreach={Ib:function(t){return function(){var e=t(),i=u.a.cb(e);return i&&"number"!=typeof i.length?(u.a.c(e),{foreach:i.data,as:i.as,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,beforeMove:i.beforeMove,afterMove:i.afterMove,templateEngine:u.P.Va}):{foreach:e,templateEngine:u.P.Va}}},init:function(t,e){return u.d.template.init(t,u.d.foreach.Ib(e))},update:function(t,e,i,n,a){return u.d.template.update(t,u.d.foreach.Ib(e),i,n,a)}},u.h.ka.foreach=!1,u.e.R.foreach=!0,u.d.hasfocus={init:function(t,e,i){function n(n){t.__ko_hasfocusUpdating=!0;var a=t.ownerDocument;if("activeElement"in a){var s;try{s=a.activeElement}catch(o){s=a.body}n=s===t}a=e(),u.h.ra(a,i,"hasfocus",n,!0),t.__ko_hasfocusLastValue=n,t.__ko_hasfocusUpdating=!1}var a=n.bind(null,!0),s=n.bind(null,!1);u.a.n(t,"focus",a),u.a.n(t,"focusin",a),u.a.n(t,"blur",s),u.a.n(t,"focusout",s)},update:function(t,e){var i=!!u.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===i||(i?t.focus():t.blur(),u.k.u(u.a.qa,null,[t,i?"focusin":"focusout"]))}},u.h.V.hasfocus=!0,u.d.hasFocus=u.d.hasfocus,u.h.V.hasFocus=!0,u.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){u.a.gb(t,e())}},c("if"),c("ifnot",!1,!0),c("with",!0,!1,function(t,e){return t.createChildContext(e)});var v={};u.d.options={init:function(t){if("select"!==u.a.v(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(e,i,n){function a(){return u.a.xa(e.options,function(t){return t.selected})}function s(t,e,i){var n=typeof e;return"function"==n?e(t):"string"==n?t[e]:i}function o(t,i){if(m&&d)u.i.Y(e,u.a.c(n.get("value")),!0);else if(f.length){var a=0<=u.a.m(f,u.i.s(i[0]));u.a.Sb(i[0],a),m&&!a&&u.k.u(u.a.qa,null,[e,"change"])}}var r=e.multiple,l=0!=e.length&&r?e.scrollTop:null,h=u.a.c(i()),d=n.get("valueAllowUnset")&&n.has("value"),c=n.get("optionsIncludeDestroyed");i={};var p,f=[];d||(r?f=u.a.Ka(a(),u.i.s):0<=e.selectedIndex&&f.push(u.i.s(e.options[e.selectedIndex]))),h&&("undefined"==typeof h.length&&(h=[h]),p=u.a.xa(h,function(e){return c||e===t||null===e||!u.a.c(e._destroy)}),n.has("optionsCaption")&&(h=u.a.c(n.get("optionsCaption")),null!==h&&h!==t&&p.unshift(v)));var m=!1;i.beforeRemove=function(t){e.removeChild(t)},h=o,n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(h=function(e,i){o(0,i),u.k.u(n.get("optionsAfterRender"),null,[i[0],e!==v?e:t])}),u.a.fb(e,p,function(i,a,o){return o.length&&(f=!d&&o[0].selected?[u.i.s(o[0])]:[],m=!0),a=e.ownerDocument.createElement("option"),i===v?(u.a.Ha(a,n.get("optionsCaption")),u.i.Y(a,t)):(o=s(i,n.get("optionsValue"),i),u.i.Y(a,u.a.c(o)),i=s(i,n.get("optionsText"),o),u.a.Ha(a,i)),[a]},i,h),u.k.u(function(){d?u.i.Y(e,u.a.c(n.get("value")),!0):(r?f.length&&a().length<f.length:f.length&&0<=e.selectedIndex?u.i.s(e.options[e.selectedIndex])!==f[0]:f.length||0<=e.selectedIndex)&&u.a.qa(e,"change")}),u.a.kc(e),l&&20<Math.abs(l-e.scrollTop)&&(e.scrollTop=l)}},u.d.options.ab=u.a.f.I(),u.d.selectedOptions={after:["options","foreach"],init:function(t,e,i){u.a.n(t,"change",function(){var n=e(),a=[];u.a.o(t.getElementsByTagName("option"),function(t){t.selected&&a.push(u.i.s(t))}),u.h.ra(n,i,"selectedOptions",a)})},update:function(t,e){if("select"!=u.a.v(t))throw Error("values binding applies only to SELECT elements");var i=u.a.c(e());i&&"number"==typeof i.length&&u.a.o(t.getElementsByTagName("option"),function(t){var e=0<=u.a.m(i,u.i.s(t));u.a.Sb(t,e)})}},u.h.V.selectedOptions=!0,u.d.style={update:function(e,i){var n=u.a.c(i()||{});u.a.A(n,function(i,n){n=u.a.c(n),null!==n&&n!==t&&!1!==n||(n=""),e.style[i]=n})}},u.d.submit={init:function(t,e,i,n,a){if("function"!=typeof e())throw Error("The value for a submit binding must be a function");u.a.n(t,"submit",function(i){var n,s=e();try{n=s.call(a.$data,t)}finally{!0!==n&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}},u.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){u.a.Ha(t,e())}},u.e.R.text=!0,function(){if(e&&e.navigator)var i=function(t){if(t)return parseFloat(t[1])},n=e.opera&&e.opera.version&&parseInt(e.opera.version()),a=e.navigator.userAgent,s=i(a.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=i(a.match(/Firefox\/([^ ]*)/));if(10>u.a.M)var r=u.a.f.I(),l=u.a.f.I(),h=function(t){var e=this.activeElement;(e=e&&u.a.f.get(e,l))&&e(t)},d=function(t,e){var i=t.ownerDocument;u.a.f.get(i,r)||(u.a.f.set(i,r,!0),u.a.n(i,"selectionchange",h)),u.a.f.set(t,l,e)};u.d.textInput={init:function(e,i,a){function r(t,i){u.a.n(e,t,i)}function l(){var n=u.a.c(i());null!==n&&n!==t||(n=""),f!==t&&n===f?setTimeout(l,4):e.value!==n&&(m=n,e.value=n)}function h(){p||(f=e.value,p=setTimeout(c,4))}function c(){clearTimeout(p),f=p=t;var n=e.value;m!==n&&(m=n,u.h.ra(i(),a,"textInput",n))}var p,f,m=e.value;10>u.a.M?(r("propertychange",function(t){"value"===t.propertyName&&c()}),8==u.a.M&&(r("keyup",c),r("keydown",c)),8<=u.a.M&&(d(e,c),r("dragend",h))):(r("input",c),5>s&&"textarea"===u.a.v(e)?(r("keydown",h),r("paste",h),r("cut",h)):11>n?r("keydown",h):4>o&&(r("DOMAutoComplete",c),r("dragdrop",c),r("drop",c))),r("change",c),u.w(l,null,{q:e})}},u.h.V.textInput=!0,u.d.textinput={preprocess:function(t,e,i){i("textInput",t)}}}(),u.d.uniqueName={init:function(t,e){if(e()){var i="ko_unique_"+ ++u.d.uniqueName.fc;u.a.Rb(t,i)}}},u.d.uniqueName.fc=0,u.d.value={after:["options","foreach"],init:function(t,e,i){if("input"!=t.tagName.toLowerCase()||"checkbox"!=t.type&&"radio"!=t.type){var n=["change"],a=i.get("valueUpdate"),s=!1,o=null;a&&("string"==typeof a&&(a=[a]),u.a.ia(n,a),n=u.a.wb(n));var r=function(){o=null,s=!1;var n=e(),a=u.i.s(t);u.h.ra(n,i,"value",a)};!u.a.M||"input"!=t.tagName.toLowerCase()||"text"!=t.type||"off"==t.autocomplete||t.form&&"off"==t.form.autocomplete||-1!=u.a.m(n,"propertychange")||(u.a.n(t,"propertychange",function(){s=!0}),u.a.n(t,"focus",function(){s=!1}),u.a.n(t,"blur",function(){s&&r()})),u.a.o(n,function(e){var i=r;u.a.Dc(e,"after")&&(i=function(){o=u.i.s(t),setTimeout(r,0)},e=e.substring(5)),u.a.n(t,e,i)});var l=function(){var n=u.a.c(e()),a=u.i.s(t);if(null!==o&&n===o)setTimeout(l,0);else if(n!==a)if("select"===u.a.v(t)){var s=i.get("valueAllowUnset"),a=function(){u.i.Y(t,n,s)};a(),s||n===u.i.s(t)?setTimeout(a,0):u.k.u(u.a.qa,null,[t,"change"])}else u.i.Y(t,n)};u.w(l,null,{q:t})}else u.va(t,{checkedValue:e})},update:function(){}},u.h.V.value=!0,u.d.visible={update:function(t,e){var i=u.a.c(e()),n="none"!=t.style.display;i&&!n?t.style.display="":!i&&n&&(t.style.display="none")}},function(t){u.d[t]={init:function(e,i,n,a,s){return u.d.event.init.call(this,e,function(){var e={};return e[t]=i(),e},n,a,s)}}}("click"),u.J=function(){},u.J.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},u.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},u.J.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=e||i;var n=e.getElementById(t);if(!n)throw Error("Cannot find template with ID "+t);return new u.t.l(n)}if(1==t.nodeType||8==t.nodeType)return new u.t.ha(t);throw Error("Unknown template type: "+t)},u.J.prototype.renderTemplate=function(t,e,i,n){return t=this.makeTemplateSource(t,n),this.renderTemplateSource(t,e,i,n)},u.J.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting||this.makeTemplateSource(t,e).data("isRewritten")},u.J.prototype.rewriteTemplate=function(t,e,i){t=this.makeTemplateSource(t,i),e=e(t.text()),t.text(e),t.data("isRewritten",!0)},u.b("templateEngine",u.J),u.kb=function(){function t(t,e,i,n){t=u.h.bb(t);for(var a=u.h.ka,s=0;s<t.length;s++){var o=t[s].key;if(a.hasOwnProperty(o)){var r=a[o];if("function"==typeof r){if(o=r(t[s].value))throw Error(o)}else if(!r)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+u.h.Ea(t,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",n.createJavaScriptEvaluatorBlock(i)+e}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(t,e,i){e.isTemplateRewritten(t,i)||e.rewriteTemplate(t,function(t){return u.kb.xc(t,e)},i)},xc:function(n,a){return n.replace(e,function(e,i,n,s,o){return t(o,i,n,a)}).replace(i,function(e,i){return t(i,"<!-- ko -->","#comment",a)})},dc:function(t,e){return u.H.$a(function(i,n){var a=i.nextSibling;a&&a.nodeName.toLowerCase()===e&&u.va(a,t,n)})}}}(),u.b("__tr_ambtns",u.kb.dc),function(){u.t={},u.t.l=function(t){this.l=t},u.t.l.prototype.text=function(){var t=u.a.v(this.l),t="script"===t?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.l[t];var e=arguments[0];"innerHTML"===t?u.a.gb(this.l,e):this.l[t]=e};var e=u.a.f.I()+"_";u.t.l.prototype.data=function(t){return 1===arguments.length?u.a.f.get(this.l,e+t):void u.a.f.set(this.l,e+t,arguments[1])};var i=u.a.f.I();u.t.ha=function(t){this.l=t},u.t.ha.prototype=new u.t.l,u.t.ha.prototype.text=function(){if(0==arguments.length){var e=u.a.f.get(this.l,i)||{};return e.lb===t&&e.Na&&(e.lb=e.Na.innerHTML),e.lb}u.a.f.set(this.l,i,{lb:arguments[0]})},u.t.l.prototype.nodes=function(){return 0==arguments.length?(u.a.f.get(this.l,i)||{}).Na:void u.a.f.set(this.l,i,{Na:arguments[0]})},u.b("templateSources",u.t),u.b("templateSources.domElement",u.t.l),u.b("templateSources.anonymousTemplate",u.t.ha)}(),function(){function e(t,e,i){var n;for(e=u.e.nextSibling(e);t&&(n=t)!==e;)t=u.e.nextSibling(n),i(n,t)}function i(t,i){if(t.length){var n=t[0],a=t[t.length-1],s=n.parentNode,o=u.L.instance,r=o.preprocessNode;if(r){if(e(n,a,function(t,e){var i=t.previousSibling,s=r.call(o,t);s&&(t===n&&(n=s[0]||e),t===a&&(a=s[s.length-1]||i))}),t.length=0,!n)return;n===a?t.push(n):(t.push(n,a),u.a.na(t,s))}e(n,a,function(t){1!==t.nodeType&&8!==t.nodeType||u.ub(i,t)}),e(n,a,function(t){1!==t.nodeType&&8!==t.nodeType||u.H.Xb(t,[i])}),u.a.na(t,s)}}function n(t){return t.nodeType?t:0<t.length?t[0]:null}function a(t,e,a,s,r){r=r||{};var l=(t&&n(t)||a||{}).ownerDocument,h=r.templateEngine||o;if(u.kb.lc(a,h,l),a=h.renderTemplate(a,s,r,l),"number"!=typeof a.length||0<a.length&&"number"!=typeof a[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,e){case"replaceChildren":u.e.T(t,a),l=!0;break;case"replaceNode":u.a.Qb(t,a),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return l&&(i(a,s),r.afterRender&&u.k.u(r.afterRender,null,[a,s.$data])),a}function s(t,e,i){return u.F(t)?t():"function"==typeof t?t(e,i):t}var o;u.hb=function(e){if(e!=t&&!(e instanceof u.J))throw Error("templateEngine must inherit from ko.templateEngine");o=e},u.eb=function(e,i,r,l,h){if(r=r||{},(r.templateEngine||o)==t)throw Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",l){var d=n(l);return u.j(function(){var t=i&&i instanceof u.N?i:new u.N(u.a.c(i)),o=s(e,t.$data,t),t=a(l,h,o,t,r);"replaceNode"==h&&(l=t,d=n(l))},null,{Pa:function(){return!d||!u.a.Qa(d)},q:d&&"replaceNode"==h?d.parentNode:d})}return u.H.$a(function(t){u.eb(e,i,r,t,"replaceNode")})},u.Cc=function(e,n,o,r,l){function h(t,e){i(e,c),o.afterRender&&o.afterRender(e,t),c=null}function d(t,i){c=l.createChildContext(t,o.as,function(t){t.$index=i});var n=s(e,t,c);return a(null,"ignoreTargetNode",n,c,o)}var c;return u.j(function(){var e=u.a.c(n)||[];"undefined"==typeof e.length&&(e=[e]),e=u.a.xa(e,function(e){return o.includeDestroyed||e===t||null===e||!u.a.c(e._destroy)}),u.k.u(u.a.fb,null,[r,e,d,o,h])},null,{q:r})};var r=u.a.f.I();u.d.template={init:function(t,e){var i=u.a.c(e());if("string"==typeof i||i.name)u.e.ma(t);else{if("nodes"in i){if(i=i.nodes||[],u.F(i))throw Error('The "nodes" option must be a plain, non-observable array.')}else i=u.e.childNodes(t);i=u.a.Jb(i),new u.t.ha(t).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,i,n,a,s){var o,l=i();i=u.a.c(l),n=!0,a=null,"string"==typeof i?i={}:(l=i.name,"if"in i&&(n=u.a.c(i["if"])),n&&"ifnot"in i&&(n=!u.a.c(i.ifnot)),o=u.a.c(i.data)),"foreach"in i?a=u.Cc(l||e,n&&i.foreach||[],i,e,s):n?(s="data"in i?s.createChildContext(o,i.as):s,a=u.eb(l||e,s,i,e)):u.e.ma(e),s=a,(o=u.a.f.get(e,r))&&"function"==typeof o.p&&o.p(),u.a.f.set(e,r,s&&s.$()?s:t)}},u.h.ka.template=function(t){return t=u.h.bb(t),1==t.length&&t[0].unknown||u.h.vc(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},u.e.R.template=!0}(),u.b("setTemplateEngine",u.hb),u.b("renderTemplate",u.eb),u.a.Cb=function(t,e,i){if(t.length&&e.length){var n,a,s,o,r;for(n=a=0;(!i||n<i)&&(o=t[a]);++a){for(s=0;r=e[s];++s)if(o.value===r.value){o.moved=r.index,r.moved=o.index,e.splice(s,1),n=s=0;break}n+=s}}},u.a.Ma=function(){function t(t,e,i,n,a){var s,o,r,l,h,d=Math.min,c=Math.max,p=[],f=t.length,m=e.length,g=m-f||1,v=f+m+1;for(s=0;s<=f;s++)for(l=r,p.push(r=[]),h=d(m,s+g),o=c(0,s-1);o<=h;o++)r[o]=o?s?t[s-1]===e[o-1]?l[o-1]:d(l[o]||v,r[o-1]||v)+1:o+1:s+1;for(d=[],c=[],g=[],s=f,o=m;s||o;)m=p[s][o]-1,o&&m===p[s][o-1]?c.push(d[d.length]={status:i,value:e[--o],index:o}):s&&m===p[s-1][o]?g.push(d[d.length]={status:n,value:t[--s],index:s}):(--o,--s,a.sparse||d.push({status:"retained",value:e[o]}));return u.a.Cb(c,g,10*f),d.reverse()}return function(e,i,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},e=e||[],i=i||[],e.length<=i.length?t(e,i,"added","deleted",n):t(i,e,"deleted","added",n)}}(),u.b("utils.compareArrays",u.a.Ma),function(){function e(e,i,n,a,s){var o=[],r=u.j(function(){var t=i(n,s,u.a.na(o,e))||[];0<o.length&&(u.a.Qb(o,t),a&&u.k.u(a,null,[n,t,s])),o.length=0,u.a.ia(o,t)},null,{q:e,Pa:function(){return!u.a.tb(o)}});return{aa:o,j:r.$()?r:t}}var i=u.a.f.I();u.a.fb=function(n,a,s,o,r){function l(t,e){b=c[e],v!==e&&(T[t]=b),b.Ua(v++),u.a.na(b.aa,n),m.push(b),x.push(b)}function h(t,e){if(t)for(var i=0,n=e.length;i<n;i++)e[i]&&u.a.o(e[i].aa,function(n){t(n,i,e[i].wa)})}a=a||[],o=o||{};var d=u.a.f.get(n,i)===t,c=u.a.f.get(n,i)||[],p=u.a.Ka(c,function(t){return t.wa}),f=u.a.Ma(p,a,o.dontLimitMoves),m=[],g=0,v=0,y=[],x=[];a=[];for(var b,_,w,T=[],p=[],k=0;_=f[k];k++)switch(w=_.moved,_.status){case"deleted":w===t&&(b=c[g],b.j&&b.j.p(),y.push.apply(y,u.a.na(b.aa,n)),o.beforeRemove&&(a[k]=b,x.push(b))),g++;break;case"retained":l(k,g++);break;case"added":w!==t?l(k,w):(b={wa:_.value,Ua:u.r(v++)},m.push(b),x.push(b),d||(p[k]=b))}h(o.beforeMove,T),u.a.o(y,o.beforeRemove?u.S:u.removeNode);for(var C,k=0,d=u.e.firstChild(n);b=x[k];k++){for(b.aa||u.a.extend(b,e(n,s,b.wa,r,b.Ua)),g=0;f=b.aa[g];d=f.nextSibling,C=f,g++)f!==d&&u.e.Fb(n,f,C);!b.rc&&r&&(r(b.wa,b.aa,b.Ua),b.rc=!0)}h(o.beforeRemove,a),h(o.afterMove,T),h(o.afterAdd,p),u.a.f.set(n,i,m)}}(),u.b("utils.setDomNodeChildrenFromArrayMapping",u.a.fb),u.P=function(){this.allowTemplateRewriting=!1},u.P.prototype=new u.J,u.P.prototype.renderTemplateSource=function(t,e,i,n){return(e=(9>u.a.M?0:t.nodes)?t.nodes():null)?u.a.O(e.cloneNode(!0).childNodes):(t=t.text(),u.a.ca(t,n))},u.P.Va=new u.P,u.hb(u.P.Va),u.b("nativeTemplateEngine",u.P),function(){u.Ya=function(){var t=this.uc=function(){if(!a||!a.tmpl)return 0;try{if(0<=a.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(e,n,s,o){if(o=o||i,s=s||{},2>t)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var r=e.data("precompiled");return r||(r=e.text()||"",r=a.template(null,"{{ko_with $item.koBindingContext}}"+r+"{{/ko_with}}"),e.data("precompiled",r)),e=[n.$data],n=a.extend({koBindingContext:n},s.templateOptions),n=a.tmpl(r,e,n),n.appendTo(o.createElement("div")),a.fragments={},n},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){i.write("<script type='text/html' id='"+t+"'>"+e+"</script>")},0<t&&(a.tmpl.tag.ko_code={open:"__.push($1 || '');"},a.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},u.Ya.prototype=new u.J;var t=new u.Ya;0<t.uc&&u.hb(t),u.b("jqueryTmplTemplateEngine",u.Ya)}()})}()}(),function(t){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?t(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],t):t(ko,ko.mapping={})}(function(t,e){function i(t,n){var a,s;for(s in n)if(n.hasOwnProperty(s)&&n[s])if(a=e.getType(t[s]),s&&t[s]&&"array"!==a&&"string"!==a)i(t[s],n[s]);else if("array"===e.getType(t[s])&&"array"===e.getType(n[s])){a=t;for(var o=s,r=t[s],l=n[s],h={},d=r.length-1;0<=d;--d)h[r[d]]=r[d];for(d=l.length-1;0<=d;--d)h[l[d]]=l[d];r=[],l=void 0;for(l in h)r.push(h[l]);a[o]=r}else t[s]=n[s]}function n(t,e){var n={};return i(n,t),i(n,e),n}function a(t,e){for(var i=n({},t),a=b.length-1;0<=a;a--){
var o=b[a];i[o]&&(i[""]instanceof Object||(i[""]={}),i[""][o]=i[o],delete i[o])}return e&&(i.ignore=s(e.ignore,i.ignore),i.include=s(e.include,i.include),i.copy=s(e.copy,i.copy),i.observe=s(e.observe,i.observe)),i.ignore=s(i.ignore,T.ignore),i.include=s(i.include,T.include),i.copy=s(i.copy,T.copy),i.observe=s(i.observe,T.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function s(i,n){return"array"!==e.getType(i)&&(i="undefined"===e.getType(i)?[]:[i]),"array"!==e.getType(n)&&(n="undefined"===e.getType(n)?[]:[n]),t.utils.arrayGetDistinctValues(i.concat(n))}function o(i,a,s,l,p,f,x){var b="array"===e.getType(t.utils.unwrapObservable(a));if(f=f||"",e.isMapped(i)){var w=t.utils.unwrapObservable(i)[v];s=n(w,s)}var T=x||p,k=function(){return s[l]&&s[l].create instanceof Function},C=function(e){var i=m,n=t.dependentObservable;return t.dependentObservable=function(e,n,a){a=a||{},e&&"object"==typeof e&&(a=e);var s=a.deferEvaluation,o=!1;if(a.deferEvaluation=!0,e=new y(e,n,a),!s){var r=e,s=t.dependentObservable;t.dependentObservable=y,e=t.isWriteableObservable(r),t.dependentObservable=s,s=y({read:function(){return o||(t.utils.arrayRemoveItem(i,r),o=!0),r.apply(r,arguments)},write:e&&function(t){return r(t)},deferEvaluation:!0}),s.__DO=r,e=s,i.push(e)}return e},t.dependentObservable.fn=y.fn,t.computed=t.dependentObservable,e=t.utils.unwrapObservable(p)instanceof Array?s[l].create({data:e||a,parent:T,skip:_}):s[l].create({data:e||a,parent:T}),t.dependentObservable=n,t.computed=t.dependentObservable,e},S=function(){return s[l]&&s[l].update instanceof Function},M=function(e,i){var n={data:i||a,parent:T,target:t.utils.unwrapObservable(e)};return t.isWriteableObservable(e)&&(n.observable=e),s[l].update(n)};if(x=g.get(a))return x;if(l=l||"",b){var b=[],A=!1,P=function(t){return t};s[l]&&s[l].key&&(P=s[l].key,A=!0),t.isObservable(i)||(i=t.observableArray([]),i.mappedRemove=function(t){var e="function"==typeof t?t:function(e){return e===P(t)};return i.remove(function(t){return e(P(t))})},i.mappedRemoveAll=function(e){var n=d(e,P);return i.remove(function(e){return-1!=t.utils.arrayIndexOf(n,P(e))})},i.mappedDestroy=function(t){var e="function"==typeof t?t:function(e){return e===P(t)};return i.destroy(function(t){return e(P(t))})},i.mappedDestroyAll=function(e){var n=d(e,P);return i.destroy(function(e){return-1!=t.utils.arrayIndexOf(n,P(e))})},i.mappedIndexOf=function(e){var n=d(i(),P);return e=P(e),t.utils.arrayIndexOf(n,e)},i.mappedGet=function(t){return i()[i.mappedIndexOf(t)]},i.mappedCreate=function(e){if(-1!==i.mappedIndexOf(e))throw Error("There already is an object with the key that you specified.");var n=k()?C(e):e;return S()&&(e=M(n,e),t.isWriteableObservable(n)?n(e):n=e),i.push(n),n}),x=d(t.utils.unwrapObservable(i),P).sort(),w=d(a,P),A&&w.sort(),A=t.utils.compareArrays(x,w),x={};var E,D=t.utils.unwrapObservable(a),F={},I=!0,w=0;for(E=D.length;w<E;w++){var $=P(D[w]);if(void 0===$||$ instanceof Object){I=!1;break}F[$]=D[w]}var D=[],z=0,w=0;for(E=A.length;w<E;w++){var L,$=A[w],B=f+"["+w+"]";switch($.status){case"added":var O=I?F[$.value]:h(t.utils.unwrapObservable(a),$.value,P);L=o(void 0,O,s,l,i,B,p),k()||(L=t.utils.unwrapObservable(L)),B=r(t.utils.unwrapObservable(a),O,x),L===_?z++:D[B-z]=L,x[B]=!0;break;case"retained":O=I?F[$.value]:h(t.utils.unwrapObservable(a),$.value,P),L=h(i,$.value,P),o(L,O,s,l,i,B,p),B=r(t.utils.unwrapObservable(a),O,x),D[B]=L,x[B]=!0;break;case"deleted":L=h(i,$.value,P)}b.push({event:$.status,item:L})}i(D),s[l]&&s[l].arrayChanged&&t.utils.arrayForEach(b,function(t){s[l].arrayChanged(t.event,t.item)})}else if(u(a)){if(i=t.utils.unwrapObservable(i),!i){if(k())return A=C(),S()&&(A=M(A)),A;if(S())return M(A);i={}}if(S()&&(i=M(i)),g.save(a,i),S())return i;c(a,function(e){var n=f.length?f+"."+e:e;if(-1==t.utils.arrayIndexOf(s.ignore,n))if(-1!=t.utils.arrayIndexOf(s.copy,n))i[e]=a[e];else if("object"!=typeof a[e]&&"array"!=typeof a[e]&&0<s.observe.length&&-1==t.utils.arrayIndexOf(s.observe,n))i[e]=a[e],s.copiedProperties[n]=!0;else{var r=g.get(a[e]),l=o(i[e],a[e],s,e,i,n,i),r=r||l;0<s.observe.length&&-1==t.utils.arrayIndexOf(s.observe,n)?(i[e]=r(),s.copiedProperties[n]=!0):(t.isWriteableObservable(i[e])?(r=t.utils.unwrapObservable(r),i[e]()!==r&&i[e](r)):(r=void 0===i[e]?r:t.utils.unwrapObservable(r),i[e]=r),s.mappedProperties[n]=!0)}})}else switch(e.getType(a)){case"function":S()?t.isWriteableObservable(a)?(a(M(a)),i=a):i=M(a):i=a;break;default:if(t.isWriteableObservable(i))return L=S()?M(i):t.utils.unwrapObservable(a),i(L),L;k()||S(),i=k()?C():t.observable(t.utils.unwrapObservable(a)),S()&&i(M(i))}return i}function r(t,e,i){for(var n=0,a=t.length;n<a;n++)if(!0!==i[n]&&t[n]===e)return n;return null}function l(i,n){var a;return n&&(a=n(i)),"undefined"===e.getType(a)&&(a=i),t.utils.unwrapObservable(a)}function h(e,i,n){e=t.utils.unwrapObservable(e);for(var a=0,s=e.length;a<s;a++){var o=e[a];if(l(o,n)===i)return o}throw Error("When calling ko.update*, the key '"+i+"' was not found!")}function d(e,i){return t.utils.arrayMap(t.utils.unwrapObservable(e),function(t){return i?l(t,i):t})}function c(t,i){if("array"===e.getType(t))for(var n=0;n<t.length;n++)i(n);else for(n in t)i(n)}function u(t){var i=e.getType(t);return("object"===i||"array"===i)&&null!==t}function p(){var e=[],i=[];this.save=function(n,a){var s=t.utils.arrayIndexOf(e,n);0<=s?i[s]=a:(e.push(n),i.push(a))},this.get=function(n){return n=t.utils.arrayIndexOf(e,n),0<=n?i[n]:void 0}}function f(){var t={},e=function(e){var i;try{i=e}catch(n){i="$$$"}return e=t[i],void 0===e&&(e=new p,t[i]=e),e};this.save=function(t,i){e(t).save(t,i)},this.get=function(t){return e(t).get(t)}}var m,g,v="__ko_mapping__",y=t.dependentObservable,x=0,b=["create","update","key","arrayChanged"],_={},w={include:["_destroy"],ignore:[],copy:[],observe:[]},T=w;e.isMapped=function(e){return(e=t.utils.unwrapObservable(e))&&e[v]},e.fromJS=function(t){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{x++||(m=[],g=new f);var e,i;2==arguments.length&&(arguments[1][v]?i=arguments[1]:e=arguments[1]),3==arguments.length&&(e=arguments[1],i=arguments[2]),i&&(e=n(e,i[v])),e=a(e);var s=o(i,t,e);if(i&&(s=i),!--x)for(;m.length;){var r=m.pop();r&&(r(),r.__DO.throttleEvaluation=r.throttleEvaluation)}return s[v]=n(s[v],e),s}catch(l){throw x=0,l}},e.fromJSON=function(i){var n=t.utils.parseJson(i);return arguments[0]=n,e.fromJS.apply(this,arguments)},e.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},e.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},e.toJS=function(i,n){if(T||e.resetDefaultOptions(),0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==e.getType(T.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==e.getType(T.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==e.getType(T.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");return n=a(n,i[v]),e.visitModel(i,function(e){return t.utils.unwrapObservable(e)},n)},e.toJSON=function(i,n){var a=e.toJS(i,n);return t.utils.stringifyJson(a)},e.defaultOptions=function(){return 0<arguments.length?void(T=arguments[0]):T},e.resetDefaultOptions=function(){T={include:w.include.slice(0),ignore:w.ignore.slice(0),copy:w.copy.slice(0)}},e.getType=function(t){if(t&&"object"==typeof t){if(t.constructor===Date)return"date";if(t.constructor===Array)return"array"}return typeof t},e.visitModel=function(i,n,s){s=s||{},s.visitedObjects=s.visitedObjects||new f;var o,r=t.utils.unwrapObservable(i);if(!u(r))return n(i,s.parentName);s=a(s,r[v]),n(i,s.parentName),o="array"===e.getType(r)?[]:{},s.visitedObjects.save(i,o);var l=s.parentName;return c(r,function(i){if(!s.ignore||-1==t.utils.arrayIndexOf(s.ignore,i)){var a=r[i],h=s,d=l||"";if("array"===e.getType(r)?l&&(d+="["+i+"]"):(l&&(d+="."),d+=i),h.parentName=d,-1!==t.utils.arrayIndexOf(s.copy,i)||-1!==t.utils.arrayIndexOf(s.include,i)||!r[v]||!r[v].mappedProperties||r[v].mappedProperties[i]||!r[v].copiedProperties||r[v].copiedProperties[i]||"array"===e.getType(r))switch(e.getType(t.utils.unwrapObservable(a))){case"object":case"array":case"undefined":h=s.visitedObjects.get(a),o[i]="undefined"!==e.getType(h)?h:e.visitModel(a,n,s);break;default:o[i]=n(a,s.parentName)}}}),o}}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&void 0);var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function n(){var n,a;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),a=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),void 0!==a&&a)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i;return t(this[0]).is("form")?e=this.validate().form():(e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e})),e},removeAttrs:function(e){var i={},n=this;return t.each(e.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(e,i){var n,a,s,o,r,l,h=this[0];if(e)switch(n=t.data(h.form,"validator").settings,a=n.rules,s=t.validator.staticRules(h),e){case"add":t.extend(s,t.validator.normalizeRule(i)),delete s.messages,a[h.name]=s,i.messages&&(n.messages[h.name]=t.extend(n.messages[h.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=s[i],delete s[i],"required"===i&&t(h).removeAttr("aria-required")}),l):(delete a[h.name],s)}return o=t.validator.normalizeRules(t.extend({},t.validator.classRules(h),t.validator.attributeRules(h),t.validator.dataRules(h),t.validator.staticRules(h)),h),o.required&&(r=o.required,delete o.required,o=t.extend({required:r},o),t(h).attr("aria-required","true")),o.remote&&(r=o.remote,delete o.remote,o=t.extend(o,{remote:r})),o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,""),a=i.settings;a[n]&&!this.is(a.ignore)&&a[n].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),n=this.validationTargetFor(i),a=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=t(n),a=this.check(n)!==!1,a?delete this.invalid[n.name]:this.invalid[n.name]=!0),t(e).attr("aria-invalid",!a),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&void 0,!(this.name in i||!e.objectLength(t(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n=t(e),a=e.type;return"radio"===a||"checkbox"===a?t("input[name='"+e.name+"']:checked").val():"number"===a&&"undefined"!=typeof e.validity?!e.validity.badInput&&n.val():(i=n.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,a,s=t(e).rules(),o=t.map(s,function(t,e){return e}).length,r=!1,l=this.elementValue(e);for(n in s){a={method:n,parameters:s[n]};try{if(i=t.validator.methods[n].call(this,l,e,a.parameters),"dependency-mismatch"===i&&1===o){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,a),!1}catch(h){throw this.settings.debug&&window.console&&void 0,h}}if(!r)return this.objectLength(s)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var n=this.defaultMessage(e,i.method),a=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,e):a.test(n)&&(n=t.validator.format(n.replace(a,"{$1}"),i.parameters)),this.errorList.push({message:n,element:e,method:i.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,a,s,o=this.errorsFor(e),r=this.idOrName(e),l=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(o=t("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(i||""),n=o,this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e),o.is("label")?o.attr("for",r):0===o.parents("label[for='"+r+"']").length&&(s=o.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),l?l.match(new RegExp("\\b"+s+"\\b"))||(l+=" "+s):l=s,t(e).attr("aria-describedby",l),a=this.groups[e.name],a&&t.each(this.groups,function(e,i){i===a&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var i=this.idOrName(e),n=t(e).attr("aria-describedby"),a="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(a=a+", #"+n.replace(/\s+/g,", #")),this.errors().filter(a)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i,n,a={},s=t(e),o=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=s.attr(i),/min|max/.test(i)&&(null===o||/number|range|text/.test(o))&&(n=Number(n)),n||0===n?a[i]=n:o===i&&"range"!==o&&(a[i]=!0);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var i,n,a={},s=t(e);for(i in t.validator.methods)n=s.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==n&&(a[i]=n);return a},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,a){if(a===!1)return void delete e[n];if(a.param||a.depends){var s=!0;switch(typeof a.depends){case"string":s=!!t(a.depends,i.form).length;break;case"function":s=a.depends.call(i,i)}s?e[n]=void 0===a.param||a.param:delete e[n]}}),t.each(e,function(n,a){e[n]=t.isFunction(a)?a(i):a}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var a=t(i).val();return a&&a.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,a=0,s=0,o=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),s=parseInt(n,10),o&&(s*=2)>9&&(s-=9),a+=s,o=!o;return a%10===0},minlength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||a>=n},maxlength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=a},rangelength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||a>=n[0]&&a<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var a=t(n);return this.settings.onfocusout&&a.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===a.val()},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var a,s,o=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),o.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=o.message,n="string"==typeof n&&{url:n}||n,o.old===e?o.valid:(o.old=e,a=this,this.startRequest(i),s={},s[i.name]=e,t.ajax(t.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:a.currentForm,success:function(n){var s,r,l,h=n===!0||"true"===n;a.settings.messages[i.name].remote=o.originalMessage,h?(l=a.formSubmitted,a.prepareElement(i),a.formSubmitted=l,a.successList.push(i),delete a.invalid[i.name],a.showErrors()):(s={},r=n||a.defaultMessage(i,"remote"),s[i.name]=o.message=t.isFunction(r)?r(e):r,a.invalid[i.name]=!0,a.showErrors(s)),o.valid=h,a.stopRequest(i,h)}},n)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var a=t.port;"abort"===t.mode&&(i[a]&&i[a].abort(),i[a]=n)}):(e=t.ajax,t.ajax=function(n){var a=("mode"in n?n:t.ajaxSettings).mode,s=("port"in n?n:t.ajaxSettings).port;return"abort"===a?(i[s]&&i[s].abort(),i[s]=e.apply(this,arguments),i[s]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,i,n){return this.bind(i,function(i){var a=t(i.target);return a.is(e)?n.apply(a,arguments):void 0})}})}),!function(t){"function"==typeof define&&define.amd?define(["jquery","../jquery.validate.min"],t):t(jQuery)}(function(t){t.extend(t.validator.messages,{required:"Hãy nhập.",remote:"Hãy sửa cho đúng.",email:"Hãy nhập email.",url:"Hãy nhập URL.",date:"Hãy nhập ngày.",dateISO:"Hãy nhập ngày (ISO).",number:"Hãy nhập số.",digits:"Hãy nhập chữ số.",creditcard:"Hãy nhập số thẻ tín dụng.",equalTo:"Hãy nhập thêm lần nữa.",extension:"Phần mở rộng không đúng.",maxlength:t.validator.format("Hãy nhập từ {0} kí tự trở xuống."),minlength:t.validator.format("Hãy nhập từ {0} kí tự trở lên."),rangelength:t.validator.format("Hãy nhập từ {0} đến {1} kí tự."),range:t.validator.format("Hãy nhập từ {0} đến {1}."),max:t.validator.format("Hãy nhập từ {0} trở xuống."),min:t.validator.format("Hãy nhập từ {1} trở lên.")})}),!function(t){return"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i){"use strict";var n,a,s,o,r,l,h,d,c,u,p,f,m,g,v,y,x,b,_,w,T,k,C,S,M,A,P,E,D,F,I;C={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},b="scrollbar",x="scroll",c="mousedown",u="mouseenter",p="mousemove",m="mousewheel",f="mouseup",y="resize",r="drag",l="enter",w="up",v="panedown",s="DOMMouseScroll",o="down",T="wheel",h="keydown",d="keyup",_="touchmove",n="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,a=null,P=e.requestAnimationFrame,k=e.cancelAnimationFrame,D=i.createElement("div").style,I=function(){var t,e,i,n,a,s;for(n=["t","webkitT","MozT","msT","OT"],t=a=0,s=n.length;s>a;t=++a)if(i=n[t],e=n[t]+"ransform",e in D)return n[t].substr(0,n[t].length-1);return!1}(),F=function(t){return I!==!1&&(""===I?t:I+t.charAt(0).toUpperCase()+t.substr(1))},E=F("transform"),M=E!==!1,S=function(){var t,e,n;
return t=i.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=x,e.top="-9999px",i.body.appendChild(t),n=t.offsetWidth-t.clientWidth,i.body.removeChild(t),n},A=function(){var t,i,n;return i=e.navigator.userAgent,!!(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(i))&&(n=/Firefox\/\d{2}\./.exec(i),n&&(n=n[0].replace(/\D+/g,"")),t&&+n>23)},g=function(){function h(n,s){this.el=n,this.options=s,a||(a=S()),this.$el=t(this.el),this.doc=t(this.options.documentContext||i),this.win=t(this.options.windowContext||e),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return h.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===s)(e===o&&t.originalEvent.detail>0||e===w&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===m){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===o&&t.originalEvent.wheelDelta<0||e===w&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},h.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},h.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},h.prototype.setOnScrollStyles=function(){var t;M?(t={},t[E]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},P?(k&&this.scrollRAF&&k(this.scrollRAF),this.scrollRAF=P(function(e){return function(){return e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},h.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.slider.is(e.target)||(t.offsetY=0),t.pane.addClass(t.options.activeClass),t.doc.bind(p,t.events[r]).bind(f,t.events[w]),t.body.bind(u,t.events[l]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.paneTop-(t.offsetY||.5*t.sliderHeight),t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(e){return t.isBeingDragged=!1,t.pane.removeClass(t.options.activeClass),t.doc.unbind(p,t.events[r]).unbind(f,t.events[w]),t.body.unbind(u,t.events[l]),!1}}(this),resize:function(t){return function(e){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,o),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,w),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var i;if(null!=e)return i=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,i&&(t.sliderY+=-i/3),t.scroll(),!1}}(this),enter:function(t){return function(e){var i;if(t.isBeingDragged)return 1!==(e.buttons||e.which)?(i=t.events)[w].apply(i,arguments):void 0}}(this)}},h.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(y,t[y]),this.iOSNativeScrolling||(this.slider.bind(c,t[o]),this.pane.bind(c,t[v]).bind(""+m+" "+s,t[T])),this.$content.bind(""+x+" "+m+" "+s+" "+_,t[x])},h.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(y,t[y]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+x+" "+m+" "+s+" "+_,t[x])},h.prototype.generate=function(){var t,i,n,s,o,r,l;return s=this.options,r=s.paneClass,l=s.sliderClass,t=s.contentClass,(o=this.$el.children("."+r)).length||o.children("."+l).length||this.$el.append('<div class="'+r+'"><div class="'+l+'" /></div>'),this.pane=this.$el.children("."+r),this.slider=this.pane.find("."+l),0===a&&A()?(n=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),i={right:-14,paddingRight:+n+14}):a&&(i={right:-a},this.$el.addClass(s.enabledClass)),null!=i&&this.$content.css(i),this},h.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},h.prototype.reset=function(){var t,e,i,s,o,r,l,h,d,c,u,p;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,s=t.style,o=s.overflowY,n&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+a,c=parseInt(this.$el.css("max-height"),10),c>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>c?c:t.scrollHeight)),l=this.pane.outerHeight(!1),d=parseInt(this.pane.css("top"),10),r=parseInt(this.pane.css("bottom"),10),h=l+d+r,p=Math.round(h/e*l),p<this.options.sliderMinHeight?p=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&p>this.options.sliderMaxHeight&&(p=this.options.sliderMaxHeight),o===x&&s.overflowX!==x&&(p+=a),this.maxSliderTop=h-p,this.contentHeight=e,this.paneHeight=l,this.paneOuterHeight=h,this.sliderHeight=p,this.paneTop=d,this.slider.height(p),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&o!==x?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&o===x?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),i=this.$content.css("position"),("static"===i||"relative"===i)&&(u=parseInt(this.$content.css("right"),10),u&&this.$content.css({right:"",marginRight:u})),this)},h.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},h.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(m),this.stop().restore(),this):void 0},h.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(m),this.stop().restore(),this):void 0},h.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},h.prototype.stop=function(){return k&&this.scrollRAF&&(k(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},h.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),n&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},h.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout(function(t){return function(){t.pane.removeClass(t.options.flashedClass)}}(this),this.options.flashDelay),this):void 0},h}(),t.fn.nanoScroller=function(e){return this.each(function(){var i,n;if((n=this.nanoscroller)||(i=t.extend({},C,e),this.nanoscroller=n=new g(this,i)),e&&"object"==typeof e){if(t.extend(n.options,e),null!=e.scrollBottom)return n.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return n.scrollTop(e.scrollTop);if(e.scrollTo)return n.scrollTo(e.scrollTo);if("bottom"===e.scroll)return n.scrollBottom(0);if("top"===e.scroll)return n.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return n.scrollTo(e.scroll);if(e.stop)return n.stop();if(e.destroy)return n.destroy();if(e.flash)return n.flash()}return n.reset()})},t.fn.nanoScroller.Constructor=g}),!function(t){t(["jquery"],function(t){return function(){function e(t,e,i){return f({type:_.error,iconClass:m().iconClasses.error,message:t,optionsOverride:i,title:e})}function i(e,i){return e||(e=m()),v=t("#"+e.containerId),v.length?v:(i&&(v=c(e)),v)}function n(t,e,i){return f({type:_.info,iconClass:m().iconClasses.info,message:t,optionsOverride:i,title:e})}function a(t){y=t}function s(t,e,i){return f({type:_.success,iconClass:m().iconClasses.success,message:t,optionsOverride:i,title:e})}function o(t,e,i){return f({type:_.warning,iconClass:m().iconClasses.warning,message:t,optionsOverride:i,title:e})}function r(t){var e=m();v||i(e),d(t,e)||h(e)}function l(e){var n=m();return v||i(n),e&&0===t(":focus",e).length?void g(e):void(v.children().length&&v.remove())}function h(e){for(var i=v.children(),n=i.length-1;n>=0;n--)d(t(i[n]),e)}function d(e,i){return!(!e||0!==t(":focus",e).length)&&(e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){g(e)}}),!0)}function c(e){return v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(t(e.target)),v}function u(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function p(t){y&&y(t)}function f(e){function n(e){return!t(":focus",d).length||e?(clearTimeout(_.intervalId),d[r.hideMethod]({duration:r.hideDuration,easing:r.hideEasing,complete:function(){g(d),r.onHidden&&"hidden"!==w.state&&r.onHidden(),w.state="hidden",w.endTime=new Date,p(w)}})):void 0}function a(){(r.timeOut>0||r.extendedTimeOut>0)&&(h=setTimeout(n,r.extendedTimeOut),_.maxHideTime=parseFloat(r.extendedTimeOut),_.hideEta=(new Date).getTime()+_.maxHideTime)}function s(){clearTimeout(h),_.hideEta=0,d.stop(!0,!0)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}function o(){var t=(_.hideEta-(new Date).getTime())/_.maxHideTime*100;f.width(t+"%")}var r=m(),l=e.iconClass||r.iconClass;if("undefined"!=typeof e.optionsOverride&&(r=t.extend(r,e.optionsOverride),l=e.optionsOverride.iconClass||l),r.preventDuplicates){if(e.message===x)return;x=e.message}b++,v=i(r,!0);var h=null,d=t("<div/>"),c=t("<div/>"),u=t("<div/>"),f=t("<div/>"),y=t(r.closeHtml),_={intervalId:null,hideEta:null,maxHideTime:null},w={toastId:b,state:"visible",startTime:new Date,options:r,map:e};return e.iconClass&&d.addClass(r.toastClass).addClass(l),e.title&&(c.append(e.title).addClass(r.titleClass),d.append(c)),e.message&&(u.append(e.message).addClass(r.messageClass),d.append(u)),r.closeButton&&(y.addClass("toast-close-button").attr("role","button"),d.prepend(y)),r.progressBar&&(f.addClass("toast-progress"),d.prepend(f)),d.hide(),r.newestOnTop?v.prepend(d):v.append(d),d[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown}),r.timeOut>0&&(h=setTimeout(n,r.timeOut),_.maxHideTime=parseFloat(r.timeOut),_.hideEta=(new Date).getTime()+_.maxHideTime,r.progressBar&&(_.intervalId=setInterval(o,10))),d.hover(s,a),!r.onclick&&r.tapToDismiss&&d.click(n),r.closeButton&&y&&y.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),n(!0)}),r.onclick&&d.click(function(){r.onclick(),n()}),p(w),r.debug&&console&&void 0,d}function m(){return t.extend({},u(),w.options)}function g(t){v||(v=i()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&(v.remove(),x=void 0))}var v,y,x,b=0,_={error:"error",info:"info",success:"success",warning:"warning"},w={clear:r,remove:l,error:e,getContainer:i,info:n,options:{},subscribe:a,success:s,version:"2.1.0",warning:o};return w}()})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)}),function(t){function e(t,e){return t+".touchspin_"+e}function i(i,n){return t.map(i,function(t){return e(t,n)})}var n=0;t.fn.TouchSpin=function(e){if("destroy"===e)return void this.each(function(){var e=t(this),n=e.data();t(document).off(i(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],n.spinnerid).join(" "))});var a={min:0,max:100,initval:"",replacementval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},s={min:"min",max:"max",initval:"init-val",replacementval:"replacement-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function o(){z.data("alreadyinitialized")||(z.data("alreadyinitialized",!0),n+=1,z.data("spinnerid",n),z.is("input")&&(h(),r(),b(),u(),m(),g(),v(),y(),P.input.css("display","block")))}function r(){""!==M.initval&&""===z.val()&&z.val(M.initval)}function l(t){c(t),b();var e=P.input.val();""!==e&&(e=Number(P.input.val()),P.input.val(e.toFixed(M.decimals)))}function h(){M=t.extend({},a,L,d(),e)}function d(){var e={};return t.each(s,function(t,i){var n="bts-"+i;z.is("[data-"+n+"]")&&(e[t]=z.data(n))}),e}function c(e){M=t.extend({},M,e)}function u(){var t=z.val(),e=z.parent();""!==t&&(t=Number(t).toFixed(M.decimals)),z.data("initvalue",t).val(t),z.addClass("form-control"),e.hasClass("input-group")?p(e):f()}function p(e){e.addClass("bootstrap-touchspin");var i,n,a=z.prev(),s=z.next(),o='<span class="input-group-addon bootstrap-touchspin-prefix">'+M.prefix+"</span>",r='<span class="input-group-addon bootstrap-touchspin-postfix">'+M.postfix+"</span>";a.hasClass("input-group-btn")?(i='<button class="'+M.buttondown_class+' bootstrap-touchspin-down" type="button">'+M.buttondown_txt+"</button>",a.append(i)):(i='<span class="input-group-btn"><button class="'+M.buttondown_class+' bootstrap-touchspin-down" type="button">'+M.buttondown_txt+"</button></span>",t(i).insertBefore(z)),s.hasClass("input-group-btn")?(n='<button class="'+M.buttonup_class+' bootstrap-touchspin-up" type="button">'+M.buttonup_txt+"</button>",s.prepend(n)):(n='<span class="input-group-btn"><button class="'+M.buttonup_class+' bootstrap-touchspin-up" type="button">'+M.buttonup_txt+"</button></span>",t(n).insertAfter(z)),t(o).insertBefore(z),t(r).insertAfter(z),A=e}function f(){var e;e=M.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+M.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+M.postfix+'</span><span class="input-group-btn-vertical"><button class="'+M.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+M.verticalupclass+'"></i></button><button class="'+M.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+M.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+M.buttondown_class+' bootstrap-touchspin-down" type="button">'+M.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+M.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+M.postfix+'</span><span class="input-group-btn"><button class="'+M.buttonup_class+' bootstrap-touchspin-up" type="button">'+M.buttonup_txt+"</button></span></div>",A=t(e).insertBefore(z),t(".bootstrap-touchspin-prefix",A).after(z),z.hasClass("input-sm")?A.addClass("input-group-sm"):z.hasClass("input-lg")&&A.addClass("input-group-lg")}function m(){P={down:t(".bootstrap-touchspin-down",A),up:t(".bootstrap-touchspin-up",A),input:t("input",A),prefix:t(".bootstrap-touchspin-prefix",A).addClass(M.prefix_extraclass),postfix:t(".bootstrap-touchspin-postfix",A).addClass(M.postfix_extraclass)}}function g(){""===M.prefix&&P.prefix.hide(),""===M.postfix&&P.postfix.hide()}function v(){z.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==O&&(w(),C()),t.preventDefault()):40===e&&("down"!==O&&(T(),k()),t.preventDefault())}),z.on("keyup",function(t){var e=t.keyCode||t.which;38===e?S():40===e&&S()}),z.on("blur",function(){b()}),P.down.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("down"!==O&&(T(),k()),t.preventDefault())}),P.down.on("keyup",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||S()}),P.up.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("up"!==O&&(w(),C()),t.preventDefault())}),P.up.on("keyup",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||S()}),P.down.on("mousedown.touchspin",function(t){P.down.off("touchstart.touchspin"),z.is(":disabled")||(T(),k(),t.preventDefault(),t.stopPropagation())}),P.down.on("touchstart.touchspin",function(t){P.down.off("mousedown.touchspin"),z.is(":disabled")||(T(),k(),t.preventDefault(),t.stopPropagation())}),P.up.on("mousedown.touchspin",function(t){P.up.off("touchstart.touchspin"),z.is(":disabled")||(w(),C(),t.preventDefault(),t.stopPropagation())}),P.up.on("touchstart.touchspin",function(t){P.up.off("mousedown.touchspin"),z.is(":disabled")||(w(),C(),t.preventDefault(),t.stopPropagation())}),P.up.on("mouseout touchleave touchend touchcancel",function(t){O&&(t.stopPropagation(),S())}),P.down.on("mouseout touchleave touchend touchcancel",function(t){O&&(t.stopPropagation(),S())}),P.down.on("mousemove touchmove",function(t){O&&(t.stopPropagation(),t.preventDefault())}),P.up.on("mousemove touchmove",function(t){O&&(t.stopPropagation(),t.preventDefault())}),t(document).on(i(["mouseup","touchend","touchcancel"],n).join(" "),function(t){O&&(t.preventDefault(),S())}),t(document).on(i(["mousemove","touchmove","scroll","scrollstart"],n).join(" "),function(t){O&&(t.preventDefault(),S())}),z.on("mousewheel DOMMouseScroll",function(t){if(M.mousewheel&&z.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),e<0?T():w()}})}function y(){z.on("touchspin.uponce",function(){S(),w()}),z.on("touchspin.downonce",function(){S(),T()}),z.on("touchspin.startupspin",function(){C()}),z.on("touchspin.startdownspin",function(){k()}),z.on("touchspin.stopspin",function(){S()}),z.on("touchspin.updatesettings",function(t,e){l(e)})}function x(t){switch(M.forcestepdivisibility){case"round":return(Math.round(t/M.step)*M.step).toFixed(M.decimals);case"floor":return(Math.floor(t/M.step)*M.step).toFixed(M.decimals);case"ceil":return(Math.ceil(t/M.step)*M.step).toFixed(M.decimals);default:return t}}function b(){var t,e,i;return t=z.val(),""===t?void(""!==M.replacementval&&(z.val(M.replacementval),z.trigger("change"))):void(M.decimals>0&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=""!==M.replacementval?M.replacementval:0),i=e,e.toString()!==t&&(i=e),e<M.min&&(i=M.min),e>M.max&&(i=M.max),i=x(i),Number(t).toString()!==i.toString()&&(z.val(i),z.trigger("change"))))}function _(){if(M.booster){var t=Math.pow(2,Math.floor(B/M.boostat))*M.step;return M.maxboostedstep&&t>M.maxboostedstep&&(t=M.maxboostedstep,E=Math.round(E/t)*t),Math.max(M.step,t)}return M.step}function w(){b(),E=parseFloat(P.input.val()),isNaN(E)&&(E=0);var t=E,e=_();E+=e,E>M.max&&(E=M.max,z.trigger("touchspin.on.max"),S()),P.input.val(Number(E).toFixed(M.decimals)),t!==E&&z.trigger("change")}function T(){b(),E=parseFloat(P.input.val()),isNaN(E)&&(E=0);var t=E,e=_();E-=e,E<M.min&&(E=M.min,z.trigger("touchspin.on.min"),S()),P.input.val(E.toFixed(M.decimals)),t!==E&&z.trigger("change")}function k(){S(),B=0,O="down",z.trigger("touchspin.on.startspin"),z.trigger("touchspin.on.startdownspin"),I=setTimeout(function(){D=setInterval(function(){B++,T()},M.stepinterval)},M.stepintervaldelay)}function C(){S(),B=0,O="up",z.trigger("touchspin.on.startspin"),z.trigger("touchspin.on.startupspin"),$=setTimeout(function(){F=setInterval(function(){B++,w()},M.stepinterval)},M.stepintervaldelay)}function S(){switch(clearTimeout(I),clearTimeout($),clearInterval(D),clearInterval(F),O){case"up":z.trigger("touchspin.on.stopupspin"),z.trigger("touchspin.on.stopspin");break;case"down":z.trigger("touchspin.on.stopdownspin"),z.trigger("touchspin.on.stopspin")}B=0,O=!1}var M,A,P,E,D,F,I,$,z=t(this),L=z.data(),B=0,O=!1;o()})}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){!function(t){"use strict";function e(e){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(i,function(){e=e.replace(this.re,this.ch)}),e}function i(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),a=new RegExp(i,"g"),s=null==t?"":""+t;return n.test(s)?s.replace(a,function(t){return e[t]}):s}function n(e,i){var n=arguments,a=e,s=i;[].shift.apply(n);var r,l=this.each(function(){var e=t(this);if(e.is("select")){var i=e.data("selectpicker"),l="object"==typeof a&&a;if(i){if(l)for(var h in l)l.hasOwnProperty(h)&&(i.options[h]=l[h])}else{var d=t.extend({},o.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),l);d.template=t.extend({},o.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,l.template),e.data("selectpicker",i=new o(this,d,s))}"string"==typeof a&&(r=i[a]instanceof Function?i[a].apply(i,n):i.options[a])}});return"undefined"!=typeof r?r:l}String.prototype.includes||!function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(n){}return i}(),i="".indexOf,n=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var a=n.length,s=String(e),o=s.length,r=arguments.length>1?arguments[1]:void 0,l=r?Number(r):0;l!=l&&(l=0);var h=Math.min(Math.max(l,0),a);return!(o+h>a)&&i.call(n,s,l)!=-1};e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),String.prototype.startsWith||!function(){var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(n){}return i}(),e={}.toString,i=function(t){if(null==this)throw new TypeError;var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var n=i.length,a=String(t),s=a.length,o=arguments.length>1?arguments[1]:void 0,r=o?Number(o):0;r!=r&&(r=0);var l=Math.min(Math.max(r,0),n);if(s+l>n)return!1;for(var h=-1;++h<s;)if(i.charCodeAt(l+h)!=a.charCodeAt(h))return!1;return!0};t?t(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(t,e,i){i=[];for(e in t)i.hasOwnProperty.call(t,e)&&i.push(e);return i});var a={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,i){return i&&!a.useDefault&&t(e).data("selected",!0),a._set.apply(this,arguments)};var s=null;t.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?("function"==typeof Event?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(t,!0,!1)),i.dispatchEvent(e)):i.fireEvent?(e=document.createEventObject(),e.eventType=t,i.fireEvent("on"+t,e)):this.trigger(t)},t.expr.pseudos.icontains=function(e,i,n){var a=t(e),s=(a.data("tokens")||a.text()).toString().toUpperCase();return s.includes(n[3].toUpperCase())},t.expr.pseudos.ibegins=function(e,i,n){var a=t(e),s=(a.data("tokens")||a.text()).toString().toUpperCase();return s.startsWith(n[3].toUpperCase())},t.expr.pseudos.aicontains=function(e,i,n){var a=t(e),s=(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase();return s.includes(n[3].toUpperCase())},t.expr.pseudos.aibegins=function(e,i,n){var a=t(e),s=(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase();return s.startsWith(n[3].toUpperCase())};var o=function(e,i,n){a.useDefault||(t.valHooks.select.set=a._set,a.useDefault=!0),n&&(n.stopPropagation(),n.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=o.prototype.val,this.render=o.prototype.render,this.refresh=o.prototype.refresh,this.setStyle=o.prototype.setStyle,this.selectAll=o.prototype.selectAll,this.deselectAll=o.prototype.deselectAll,this.destroy=o.prototype.destroy,this.remove=o.prototype.remove,this.show=o.prototype.show,this.hide=o.prototype.hide,this.init()};o.VERSION="1.11.2",o.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},o.prototype={constructor:o,init:function(){var e=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid").focus(),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",a=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+i(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",h='<div class="btn-group bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+a+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+s+o+r+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+l+"</div></div>";return t(h)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menuInner[0].innerHTML=t},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var n=this,a=[],s=0,o=document.createElement("option"),r=-1,l=function(t,e,i,n){return"<li"+("undefined"!=typeof i&""!==i?' class="'+i+'"':"")+("undefined"!=typeof e&null!==e?' data-original-index="'+e+'"':"")+("undefined"!=typeof n&null!==n?'data-optgroup="'+n+'"':"")+">"+t+"</li>"},h=function(t,a,s,o){return'<a tabindex="0"'+("undefined"!=typeof a?' class="'+a+'"':"")+("undefined"!=typeof s?' style="'+s+'"':"")+(n.options.liveSearchNormalize?' data-normalized-text="'+e(i(t))+'"':"")+("undefined"!=typeof o||null!==o?' data-tokens="'+o+'"':"")+' role="option">'+t+'<span class="'+n.options.iconBase+" "+n.options.tickIcon+' check-mark"></span></a>';
};if(this.options.title&&!this.multiple&&(r--,!this.$element.find(".bs-title-option").length)){var d=this.$element[0];o.className="bs-title-option",o.appendChild(document.createTextNode(this.options.title)),o.value="",d.insertBefore(o,d.firstChild);var c=t(d.options[d.selectedIndex]);void 0===c.attr("selected")&&void 0===this.$element.data("selected")&&(o.selected=!0)}return this.$element.find("option").each(function(e){var i=t(this);if(r++,!i.hasClass("bs-title-option")){var o=this.className||"",d=this.style.cssText,c=i.data("content")?i.data("content"):i.html(),u=i.data("tokens")?i.data("tokens"):null,p="undefined"!=typeof i.data("subtext")?'<small class="text-muted">'+i.data("subtext")+"</small>":"",f="undefined"!=typeof i.data("icon")?'<span class="'+n.options.iconBase+" "+i.data("icon")+'"></span> ':"",m=i.parent(),g="OPTGROUP"===m[0].tagName,v=g&&m[0].disabled,y=this.disabled||v;if(""!==f&&y&&(f="<span>"+f+"</span>"),n.options.hideDisabled&&(y&&!g||v))return void r--;if(i.data("content")||(c=f+'<span class="text">'+c+p+"</span>"),g&&i.data("divider")!==!0){if(n.options.hideDisabled&&y){if(void 0===m.data("allOptionsDisabled")){var x=m.children();m.data("allOptionsDisabled",x.filter(":disabled").length===x.length)}if(m.data("allOptionsDisabled"))return void r--}var b=" "+m[0].className||"";if(0===i.index()){s+=1;var _=m[0].label,w="undefined"!=typeof m.data("subtext")?'<small class="text-muted">'+m.data("subtext")+"</small>":"",T=m.data("icon")?'<span class="'+n.options.iconBase+" "+m.data("icon")+'"></span> ':"";_=T+'<span class="text">'+_+w+"</span>",0!==e&&a.length>0&&(r++,a.push(l("",null,"divider",s+"div"))),r++,a.push(l(_,null,"dropdown-header"+b,s))}if(n.options.hideDisabled&&y)return void r--;a.push(l(h(c,"opt "+o+b,d,u),e,"",s))}else if(i.data("divider")===!0)a.push(l("",e,"divider"));else if(i.data("hidden")===!0)a.push(l(h(c,o,d,u),e,"hidden is-hidden"));else{var k=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!k&&n.options.hideDisabled)for(var C=t(this).prevAll(),S=0;S<C.length;S++)if("OPTGROUP"===C[S].tagName){for(var M=0,A=0;A<S;A++){var P=C[A];(P.disabled||t(P).data("hidden")===!0)&&M++}M===S&&(k=!0);break}k&&(r++,a.push(l("",null,"divider",s+"div"))),a.push(l(h(c,o,d,u),e))}n.liObj[e]=r}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i,n=this;e!==!1&&this.$element.find("option").each(function(t){var e=n.findLis().eq(n.liObj[t]);n.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),n.setSelected(t,this.selected,e)}),this.togglePlaceholder(),this.tabIndex();var a=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,i=t(this),a=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return e=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"","undefined"!=typeof i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content"):a+i.html()+e}}).toArray(),s=this.multiple?a.join(this.options.multipleSeparator):a[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var o=this.options.selectedTextFormat.split(">");if(o.length>1&&a.length>o[1]||1==o.length&&a.length>=2){i=this.options.hideDisabled?", [disabled]":"";var r=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(a.length,r):this.options.countSelectedText;s=l.replace("{0}",a.length.toString()).replace("{1}",r.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(s=this.options.title),s||(s="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",t.trim(s.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(s),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t?t:this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||this.options.size!==!1&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),a=document.createElement("ul"),s=document.createElement("li"),o=document.createElement("li"),r=document.createElement("a"),l=document.createElement("span"),h=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",a.className="dropdown-menu inner",s.className="divider",l.appendChild(document.createTextNode("Inner text")),r.appendChild(l),o.appendChild(r),a.appendChild(o),a.appendChild(s),h&&n.appendChild(h),d){var p=document.createElement("span");d.className="bs-searchbox",p.className="form-control",d.appendChild(p),n.appendChild(d)}c&&n.appendChild(c),n.appendChild(a),u&&n.appendChild(u),i.appendChild(n),document.body.appendChild(i);var f=r.offsetHeight,m=h?h.offsetHeight:0,g=d?d.offsetHeight:0,v=c?c.offsetHeight:0,y=u?u.offsetHeight:0,x=t(s).outerHeight(!0),b="function"==typeof getComputedStyle&&getComputedStyle(n),_=b?null:t(n),w={vert:parseInt(b?b.paddingTop:_.css("paddingTop"))+parseInt(b?b.paddingBottom:_.css("paddingBottom"))+parseInt(b?b.borderTopWidth:_.css("borderTopWidth"))+parseInt(b?b.borderBottomWidth:_.css("borderBottomWidth")),horiz:parseInt(b?b.paddingLeft:_.css("paddingLeft"))+parseInt(b?b.paddingRight:_.css("paddingRight"))+parseInt(b?b.borderLeftWidth:_.css("borderLeftWidth"))+parseInt(b?b.borderRightWidth:_.css("borderRightWidth"))},T={vert:w.vert+parseInt(b?b.marginTop:_.css("marginTop"))+parseInt(b?b.marginBottom:_.css("marginBottom"))+2,horiz:w.horiz+parseInt(b?b.marginLeft:_.css("marginLeft"))+parseInt(b?b.marginRight:_.css("marginRight"))+2};document.body.removeChild(i),this.sizeInfo={liHeight:f,headerHeight:m,searchHeight:g,actionsHeight:v,doneButtonHeight:y,dividerHeight:x,menuPadding:w,menuExtras:T}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var e,i,n,a,s,o,r,l,h=this,d=this.$menu,c=this.$menuInner,u=t(window),p=this.$newElement[0].offsetHeight,f=this.$newElement[0].offsetWidth,m=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,v=this.sizeInfo.searchHeight,y=this.sizeInfo.actionsHeight,x=this.sizeInfo.doneButtonHeight,b=this.sizeInfo.dividerHeight,_=this.sizeInfo.menuPadding,w=this.sizeInfo.menuExtras,T=this.options.hideDisabled?".disabled":"",k=function(){var e,i=h.$newElement.offset(),n=t(h.options.container);h.options.container&&!n.is("body")?(e=n.offset(),e.top+=parseInt(n.css("borderTopWidth")),e.left+=parseInt(n.css("borderLeftWidth"))):e={top:0,left:0},s=i.top-e.top-u.scrollTop(),o=u.height()-s-p-e.top,r=i.left-e.left-u.scrollLeft(),l=u.width()-r-f-e.left};if(k(),"auto"===this.options.size){var C=function(){var u,p=function(e,i){return function(n){return i?n.classList?n.classList.contains(e):t(n).hasClass(e):!(n.classList?n.classList.contains(e):t(n).hasClass(e))}},b=h.$menuInner[0].getElementsByTagName("li"),T=Array.prototype.filter?Array.prototype.filter.call(b,p("hidden",!1)):h.$lis.not(".hidden"),C=Array.prototype.filter?Array.prototype.filter.call(T,p("dropdown-header",!0)):T.filter(".dropdown-header");k(),e=o-w.vert,i=l-w.horiz,h.options.container?(d.data("height")||d.data("height",d.height()),n=d.data("height"),d.data("width")||d.data("width",d.width()),a=d.data("width")):(n=d.height(),a=d.width()),h.options.dropupAuto&&h.$newElement.toggleClass("dropup",s>o&&e-w.vert<n),h.$newElement.hasClass("dropup")&&(e=s-w.vert),"auto"===h.options.dropdownAlignRight&&d.toggleClass("dropdown-menu-right",r>l&&i-w.horiz<a-f),u=T.length+C.length>3?3*m+w.vert-2:0,d.css({"max-height":e+"px",overflow:"hidden","min-height":u+g+v+y+x+"px"}),c.css({"max-height":e-g-v-y-x-_.vert+"px","overflow-y":"auto","min-height":Math.max(u-_.vert,0)+"px"})};C(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",C),u.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",C)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(T).length>this.options.size){var S=this.$lis.not(".divider").not(T).children().slice(0,this.options.size).last().parent().index(),M=this.$lis.slice(0,S+1).filter(".divider").length;e=m*this.options.size+M*b+_.vert,h.options.container?(d.data("height")||d.data("height",d.height()),n=d.data("height")):n=d.height(),h.options.dropupAuto&&this.$newElement.toggleClass("dropup",s>o&&e-w.vert<n),d.css({"max-height":e+g+v+y+x+"px",overflow:"hidden","min-height":""}),c.css({"max-height":e-_.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),n=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,i,n,a=this,s=t(this.options.container),o=function(t){a.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),s.is("body")?i={top:0,left:0}:(i=s.offset(),i.top+=parseInt(s.css("borderTopWidth"))-s.scrollTop(),i.left+=parseInt(s.css("borderLeftWidth"))-s.scrollLeft()),n=t.hasClass("dropup")?0:t[0].offsetHeight,a.$bsContainer.css({top:e.top-i.top+n,left:e.left-i.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var e=t(this);a.isDisabled()||(o(a.$newElement),a.$bsContainer.appendTo(a.options.container).toggleClass("open",!e.hasClass("open")).append(a.$menu))}),t(window).on("resize scroll",function(){o(a.$newElement)}),this.$element.on("hide.bs.select",function(){a.$menu.data("height",a.$menu.height()),a.$bsContainer.detach()})},setSelected:function(t,e,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e).find("a").attr("aria-selected",e)},setDisabled:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),this.$button.attr("tabindex")!=-1||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,i=t(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),i.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&i.data("spaceSelect")&&(t.preventDefault(),i.data("spaceSelect",!1))}),this.$button.on("click",function(){e.setSize()}),this.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||e.options.size===!1)return;var i=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;i=i-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=i}}else e.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(i){var n=t(this),a=n.parent().data("originalIndex"),o=e.$element.val(),r=e.$element.prop("selectedIndex"),l=!0;if(e.multiple&&1!==e.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var h=e.$element.find("option"),d=h.eq(a),c=d.prop("selected"),u=d.parent("optgroup"),p=e.options.maxOptions,f=u.data("maxOptions")||!1;if(e.multiple){if(d.prop("selected",!c),e.setSelected(a,!c),n.blur(),p!==!1||f!==!1){var m=p<h.filter(":selected").length,g=f<u.find("option:selected").length;if(p&&m||f&&g)if(p&&1==p)h.prop("selected",!1),d.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(a,!0);else if(f&&1==f){u.find("option:selected").prop("selected",!1),d.prop("selected",!0);var v=n.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected"),e.setSelected(a,!0)}else{var y="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,x="function"==typeof y?y(p,f):y,b=x[0].replace("{n}",p),_=x[1].replace("{n}",f),w=t('<div class="notify"></div>');x[2]&&(b=b.replace("{var}",x[2][p>1?0:1]),_=_.replace("{var}",x[2][f>1?0:1])),d.prop("selected",!1),e.$menu.append(w),p&&m&&(w.append(t("<div>"+b+"</div>")),l=!1,e.$element.trigger("maxReached.bs.select")),f&&g&&(w.append(t("<div>"+_+"</div>")),l=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(a,!1)},10),w.delay(750).fadeOut(300,function(){t(this).remove()})}}}else h.prop("selected",!1),d.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),e.setSelected(a,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.focus():e.options.liveSearch&&e.$searchbox.focus(),l&&(o!=e.$element.val()&&e.multiple||r!=e.$element.prop("selectedIndex")&&!e.multiple)&&(s=[a,d.prop("selected"),c],e.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),e.options.liveSearch&&!t(i.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$element.change(function(){e.render(!1),e.$element.trigger("changed.bs.select",s),s=null})},liveSearchListener:function(){var n=this,a=t('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var s=n.$lis.not(".is-hidden").removeClass("hidden").children("a");s=n.options.liveSearchNormalize?s.not(":a"+n._searchStyle()+'("'+e(n.$searchbox.val())+'")'):s.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")'),s.parent().addClass("hidden"),n.$lis.filter(".dropdown-header").each(function(){var e=t(this),i=e.data("optgroup");0===n.$lis.filter("[data-optgroup="+i+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),n.$lis.filter("[data-optgroup="+i+"div]").addClass("hidden"))});var o=n.$lis.not(".hidden");o.each(function(e){var i=t(this);i.hasClass("divider")&&(i.index()===o.first().index()||i.index()===o.last().index()||o.eq(e+1).hasClass("divider"))&&i.addClass("hidden")}),n.$lis.not(".hidden, .no-results").length?a.parent().length&&a.remove():(a.parent().length&&a.remove(),a.html(n.options.noneResultsText.replace("{0}",'"'+i(n.$searchbox.val())+'"')).show(),n.$menuInner.append(a))}else n.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove();n.$lis.filter(".active").removeClass("active"),n.$searchbox.val()&&n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),t(this).focus()})},_searchStyle:function(){var t={begins:"ibegins",startsWith:"ibegins"};return t[this.options.liveSearchStyle]||"icontains"},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){"undefined"==typeof e&&(e=!0),this.findLis();var i=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),a=n.length,s=[];if(e){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",e);for(var o=0;o<a;o++){var r=n[o].getAttribute("data-original-index");s[s.length]=i.eq(r)[0]}t(s).prop("selected",e),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){t=t||window.event,t&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(i){var n,a,s,o,r,l,h,d,c,u=t(this),p=u.is("input")?u.parent().parent():u.parent(),f=p.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=u.parent().parent()),f.options.container&&(p=f.$menu),n=t('[role="listbox"] li',p),c=f.$newElement.hasClass("open"),!c&&(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||i.keyCode>=65&&i.keyCode<=90))return f.options.container?f.$button.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),c=!0),void f.$searchbox.focus();if(f.options.liveSearch&&(/(^9$|27)/.test(i.keyCode.toString(10))&&c&&(i.preventDefault(),i.stopPropagation(),f.$button.click().focus()),n=t('[role="listbox"] li'+m,p),u.val()||/(38|40)/.test(i.keyCode.toString(10))||0===n.filter(".active").length&&(n=f.$menuInner.find("li"),n=f.options.liveSearchNormalize?n.filter(":a"+f._searchStyle()+"("+e(g[i.keyCode])+")"):n.filter(":"+f._searchStyle()+"("+g[i.keyCode]+")"))),n.length){if(/(38|40)/.test(i.keyCode.toString(10)))a=n.index(n.find("a").filter(":focus").parent()),o=n.filter(m).first().index(),r=n.filter(m).last().index(),s=n.eq(a).nextAll(m).eq(0).index(),l=n.eq(a).prevAll(m).eq(0).index(),h=n.eq(s).prevAll(m).eq(0).index(),f.options.liveSearch&&(n.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),a=n.index(n.filter(".active")),o=n.first().data("index"),r=n.last().data("index"),s=n.eq(a).nextAll().eq(0).data("index"),l=n.eq(a).prevAll().eq(0).data("index"),h=n.eq(s).prevAll().eq(0).data("index")),d=u.data("prevIndex"),38==i.keyCode?(f.options.liveSearch&&a--,a!=h&&a>l&&(a=l),a<o&&(a=o),a==d&&(a=r)):40==i.keyCode&&(f.options.liveSearch&&a++,a==-1&&(a=0),a!=h&&a<s&&(a=s),a>r&&(a=r),a==d&&(a=o)),u.data("prevIndex",a),f.options.liveSearch?(i.preventDefault(),u.hasClass("dropdown-toggle")||(n.removeClass("active").eq(a).addClass("active").children("a").focus(),u.focus())):n.eq(a).children("a").focus();else if(!u.is("input")){var v,y,x=[];n.each(function(){t(this).hasClass("disabled")||t.trim(t(this).children("a").text().toLowerCase()).substring(0,1)==g[i.keyCode]&&x.push(t(this).index())}),v=t(document).data("keycount"),v++,t(document).data("keycount",v),y=t.trim(t(":focus").text().toLowerCase()).substring(0,1),y!=g[i.keyCode]?(v=1,t(document).data("keycount",v)):v>=x.length&&(t(document).data("keycount",0),v>x.length&&(v=1)),n.eq(x[v-1]).children("a").focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&f.options.selectOnTab)&&c){if(/(32)/.test(i.keyCode.toString(10))||i.preventDefault(),f.options.liveSearch)/(32)/.test(i.keyCode.toString(10))||(f.$menuInner.find(".active a").click(),u.focus());else{var b=t(":focus");b.click(),b.focus(),i.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(i.keyCode.toString(10))&&c&&(f.multiple||f.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!c)&&(f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var r=t.fn.selectpicker;t.fn.selectpicker=n,t.fn.selectpicker.Constructor=o,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=r,this},t(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',o.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);n.call(e,e.data())})})}(t)}),function(t){t.fn.selectpicker.defaults={noneSelectedText:"- Chọn -",noneResultsText:"Không có kết quả cho {0}",countSelectedText:function(t,e){return"{0} mục đã chọn"},maxOptionsText:function(t,e){return["Chọn tối đa {n} mục","Chọn tối đa {n} mục trong nhóm này"]},selectAllText:"Chọn tất cả",deselectAllText:"Bỏ chọn tất cả",multipleSeparator:", "}}(jQuery),function(t){function e(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function i(t,e){return Mt.call(t,e)}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(t){_t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&void 0}function s(t,e){var i=!0;return f(function(){return i&&(a(t),i=!1),e.apply(this,arguments)},e)}function o(t,e){ye[t]||(a(e),ye[t]=!0)}function r(t,e){return function(i){return v(t.call(this,i),e)}}function l(t,e){return function(i){return this.localeData().ordinal(t.call(this,i),e)}}function h(t,e){var i,n,a=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(a,"months");return 0>e-s?(i=t.clone().add(a-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(a+1,"months"),n=(e-s)/(i-s)),-(a+n)}function d(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function c(){}function u(t,e){e!==!1&&I(t),m(this,t),this._d=new Date((+t._d)),be===!1&&(be=!0,_t.updateOffset(this),be=!1)}function p(t){var e=S(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||0,o=e.day||0,r=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*h+6e4*l+36e5*r,this._days=+o+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=_t.localeData(),this._bubble()}function f(t,e){for(var n in e)i(e,n)&&(t[n]=e[n]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var i,n,a;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Lt.length>0)for(i in Lt)n=Lt[i],a=e[n],"undefined"!=typeof a&&(t[n]=a);return t}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t,e,i){for(var n=""+Math.abs(t),a=t>=0;n.length<e;)n="0"+n;return(a?i?"+":"":"-")+n}function y(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function x(t,e){var i;return e=O(e,t),t.isBefore(e)?i=y(t,e):(i=y(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function b(t,e){return function(i,n){var a,s;return null===n||isNaN(+n)||(o(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,a=_t.duration(i,n),_(this,a,t),this}}function _(t,e,i,n){var a=e._milliseconds,s=e._days,o=e._months;n=null==n||n,a&&t._d.setTime(+t._d+a*i),s&&mt(t,"Date",ft(t,"Date")+s*i),o&&pt(t,ft(t,"Month")+o*i),n&&_t.updateOffset(t,s||o)}function w(t){return"[object Array]"===Object.prototype.toString.call(t)}function T(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function k(t,e,i){var n,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;a>n;n++)(i&&t[n]!==e[n]||!i&&A(t[n])!==A(e[n]))&&o++;return o+s}function C(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ce[t]||ue[e]||e}return t}function S(t){var e,n,a={};for(n in t)i(t,n)&&(e=C(n),e&&(a[e]=t[n]));return a}function M(e){var i,n;if(0===e.indexOf("week"))i=7,n="day";else{if(0!==e.indexOf("month"))return;i=12,n="month"}_t[e]=function(a,s){var o,r,l=_t._locale[e],h=[];if("number"==typeof a&&(s=a,a=t),r=function(t){var e=_t().utc().set(n,t);return l.call(_t._locale,e,a||"")},null!=s)return r(s);for(o=0;i>o;o++)h.push(r(o));return h}}function A(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function P(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function E(t,e,i){return ht(_t([t,11,31+e-i]),e,i).week}function D(t){return F(t)?366:365}function F(t){return t%4===0&&t%100!==0||t%400===0}function I(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Pt]<0||t._a[Pt]>11?Pt:t._a[Et]<1||t._a[Et]>P(t._a[At],t._a[Pt])?Et:t._a[Dt]<0||t._a[Dt]>24||24===t._a[Dt]&&(0!==t._a[Ft]||0!==t._a[It]||0!==t._a[$t])?Dt:t._a[Ft]<0||t._a[Ft]>59?Ft:t._a[It]<0||t._a[It]>59?It:t._a[$t]<0||t._a[$t]>999?$t:-1,t._pf._overflowDayOfYear&&(At>e||e>Et)&&(e=Et),t._pf.overflow=e)}function $(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function z(t){return t?t.toLowerCase().replace("_","-"):t}function L(t){for(var e,i,n,a,s=0;s<t.length;){for(a=z(t[s]).split("-"),e=a.length,i=z(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=B(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&k(a,i,!0)>=e-1)break;e--}s++}return null}function B(t){var e=null;if(!zt[t]&&Bt)try{e=_t.locale(),require("./locale/"+t),_t.locale(e)}catch(i){}return zt[t]}function O(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(_t.isMoment(t)||T(t)?+t:+_t(t))-+i,i._d.setTime(+i._d+n),_t.updateOffset(i,!1),i):_t(t).local()}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Y(t){var e,i,n=t.match(Xt);for(e=0,i=n.length;i>e;e++)n[e]=ve[n[e]]?ve[n[e]]:N(n[e]);return function(a){var s="";for(e=0;i>e;e++)s+=n[e]instanceof Function?n[e].call(a,t):n[e];return s}}function X(t,e){return t.isValid()?(e=j(e,t.localeData()),pe[e]||(pe[e]=Y(e)),pe[e](t)):t.localeData().invalidDate()}function j(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(jt.lastIndex=0;n>=0&&jt.test(t);)t=t.replace(jt,i),jt.lastIndex=0,n-=1;return t}function R(t,e){var i,n=e._strict;switch(t){case"Q":return Zt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return n?ie:Wt;case"Y":case"G":case"g":return ae;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?ne:Ut;case"S":if(n)return Zt;case"SS":if(n)return te;case"SSS":if(n)return ee;case"DDD":return Ht;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Vt;case"a":case"A":return e._locale._meridiemParse;case"x":return Kt;case"X":return Qt;case"Z":case"ZZ":return Gt;case"T":return Jt;case"SSSS":return qt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?te:Rt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rt;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return i=new RegExp(Q(K(t.replace("\\","")),"i"))}}function H(t){t=t||"";var e=t.match(Gt)||[],i=e[e.length-1]||[],n=(i+"").match(he)||["-",0,0],a=+(60*n[1])+A(n[2]);return"+"===n[0]?a:-a}function W(t,e,i){var n,a=i._a;switch(t){case"Q":null!=e&&(a[Pt]=3*(A(e)-1));break;case"M":case"MM":null!=e&&(a[Pt]=A(e)-1);break;case"MMM":case"MMMM":n=i._locale.monthsParse(e,t,i._strict),null!=n?a[Pt]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(a[Et]=A(e));break;case"Do":null!=e&&(a[Et]=A(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=A(e));break;case"YY":a[At]=_t.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":a[At]=A(e);break;case"a":case"A":i._meridiem=e;break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":a[Dt]=A(e);break;case"m":case"mm":a[Ft]=A(e);break;case"s":case"ss":a[It]=A(e);
break;case"S":case"SS":case"SSS":case"SSSS":a[$t]=A(1e3*("0."+e));break;case"x":i._d=new Date(A(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=H(e);break;case"dd":case"ddd":case"dddd":n=i._locale.weekdaysParse(e),null!=n?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=A(e));break;case"gg":case"GG":i._w=i._w||{},i._w[t]=_t.parseTwoDigitYear(e)}}function U(t){var i,n,a,s,o,r,l;i=t._w,null!=i.GG||null!=i.W||null!=i.E?(o=1,r=4,n=e(i.GG,t._a[At],ht(_t(),1,4).year),a=e(i.W,1),s=e(i.E,1)):(o=t._locale._week.dow,r=t._locale._week.doy,n=e(i.gg,t._a[At],ht(_t(),o,r).year),a=e(i.w,1),null!=i.d?(s=i.d,o>s&&++a):s=null!=i.e?i.e+o:o),l=dt(n,a,s,r,o),t._a[At]=l.year,t._dayOfYear=l.dayOfYear}function q(t){var i,n,a,s,o=[];if(!t._d){for(a=G(t),t._w&&null==t._a[Et]&&null==t._a[Pt]&&U(t),t._dayOfYear&&(s=e(t._a[At],a[At]),t._dayOfYear>D(s)&&(t._pf._overflowDayOfYear=!0),n=st(s,0,t._dayOfYear),t._a[Pt]=n.getUTCMonth(),t._a[Et]=n.getUTCDate()),i=0;3>i&&null==t._a[i];++i)t._a[i]=o[i]=a[i];for(;7>i;i++)t._a[i]=o[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[Dt]&&0===t._a[Ft]&&0===t._a[It]&&0===t._a[$t]&&(t._nextDay=!0,t._a[Dt]=0),t._d=(t._useUTC?st:at).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Dt]=24)}}function V(t){var e;t._d||(e=S(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],q(t))}function G(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function J(e){if(e._f===_t.ISO_8601)return void tt(e);e._a=[],e._pf.empty=!0;var i,n,a,s,o,r=""+e._i,l=r.length,h=0;for(a=j(e._f,e._locale).match(Xt)||[],i=0;i<a.length;i++)s=a[i],n=(r.match(R(s,e))||[])[0],n&&(o=r.substr(0,r.indexOf(n)),o.length>0&&e._pf.unusedInput.push(o),r=r.slice(r.indexOf(n)+n.length),h+=n.length),ve[s]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(s),W(s,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-h,r.length>0&&e._pf.unusedInput.push(r),e._pf.bigHour===!0&&e._a[Dt]<=12&&(e._pf.bigHour=t),e._a[Dt]=d(e._locale,e._a[Dt],e._meridiem),q(e),I(e)}function K(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,a){return e||i||n||a})}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t){var e,i,a,s,o;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=n(),e._f=t._f[s],J(e),$(e)&&(o+=e._pf.charsLeftOver,o+=10*e._pf.unusedTokens.length,e._pf.score=o,(null==a||a>o)&&(a=o,i=e));f(t,i||e)}function tt(t){var e,i,n=t._i,a=se.exec(n);if(a){for(t._pf.iso=!0,e=0,i=re.length;i>e;e++)if(re[e][1].exec(n)){t._f=re[e][0]+(a[6]||" ");break}for(e=0,i=le.length;i>e;e++)if(le[e][1].exec(n)){t._f+=le[e][0];break}n.match(Gt)&&(t._f+="Z"),J(t)}else t._isValid=!1}function et(t){tt(t),t._isValid===!1&&(delete t._isValid,_t.createFromInputFallback(t))}function it(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function nt(e){var i,n=e._i;n===t?e._d=new Date:T(n)?e._d=new Date((+n)):null!==(i=Ot.exec(n))?e._d=new Date((+i[1])):"string"==typeof n?et(e):w(n)?(e._a=it(n.slice(0),function(t){return parseInt(t,10)}),q(e)):"object"==typeof n?V(e):"number"==typeof n?e._d=new Date(n):_t.createFromInputFallback(e)}function at(t,e,i,n,a,s,o){var r=new Date(t,e,i,n,a,s,o);return 1970>t&&r.setFullYear(t),r}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function ot(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function rt(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}function lt(t,e,i){var n=_t.duration(t).abs(),a=St(n.as("s")),s=St(n.as("m")),o=St(n.as("h")),r=St(n.as("d")),l=St(n.as("M")),h=St(n.as("y")),d=a<fe.s&&["s",a]||1===s&&["m"]||s<fe.m&&["mm",s]||1===o&&["h"]||o<fe.h&&["hh",o]||1===r&&["d"]||r<fe.d&&["dd",r]||1===l&&["M"]||l<fe.M&&["MM",l]||1===h&&["y"]||["yy",h];return d[2]=e,d[3]=+t>0,d[4]=i,rt.apply({},d)}function ht(t,e,i){var n,a=i-e,s=i-t.day();return s>a&&(s-=7),a-7>s&&(s+=7),n=_t(t).add(s,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function dt(t,e,i,n,a){var s,o,r=st(t,0,1).getUTCDay();return r=0===r?7:r,i=null!=i?i:a,s=a-r+(r>n?7:0)-(a>r?7:0),o=7*(e-1)+(i-a)+s+1,{year:o>0?t:t-1,dayOfYear:o>0?o:D(t-1)+o}}function ct(e){var i,n=e._i,a=e._f;return e._locale=e._locale||_t.localeData(e._l),null===n||a===t&&""===n?_t.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),_t.isMoment(n)?new u(n,(!0)):(a?w(a)?Z(e):J(e):nt(e),i=new u(e),i._nextDay&&(i.add(1,"d"),i._nextDay=t),i))}function ut(t,e){var i,n;if(1===e.length&&w(e[0])&&(e=e[0]),!e.length)return _t();for(i=e[0],n=1;n<e.length;++n)e[n][t](i)&&(i=e[n]);return i}function pt(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),P(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function ft(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function mt(t,e,i){return"Month"===e?pt(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function gt(t,e){return function(i){return null!=i?(mt(this,t,i),_t.updateOffset(this,e),this):ft(this,t)}}function vt(t){return 400*t/146097}function yt(t){return 146097*t/400}function xt(t){_t.duration.fn[t]=function(){return this._data[t]}}function bt(t){"undefined"==typeof ender&&(wt=Ct.moment,Ct.moment=t?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",_t):_t)}for(var _t,wt,Tt,kt="2.9.0",Ct="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,St=Math.round,Mt=Object.prototype.hasOwnProperty,At=0,Pt=1,Et=2,Dt=3,Ft=4,It=5,$t=6,zt={},Lt=[],Bt="undefined"!=typeof module&&module&&module.exports,Ot=/^\/?Date\((\-?\d+)/i,Nt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Yt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Xt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,jt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rt=/\d\d?/,Ht=/\d{1,3}/,Wt=/\d{1,4}/,Ut=/[+\-]?\d{1,6}/,qt=/\d+/,Vt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gt=/Z|[\+\-]\d\d:?\d\d/gi,Jt=/T/i,Kt=/[\+\-]?\d+/,Qt=/[\+\-]?\d+(\.\d{1,3})?/,Zt=/\d/,te=/\d\d/,ee=/\d{3}/,ie=/\d{4}/,ne=/[+-]?\d{6}/,ae=/[+-]?\d+/,se=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oe="YYYY-MM-DDTHH:mm:ssZ",re=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],le=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],he=/([\+\-]|\d\d)/gi,de=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ce={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ue={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pe={},fe={s:45,m:45,h:22,d:26,M:11},me="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return v(A(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(A(t/60),2)+":"+v(A(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(A(t/60),2)+v(A(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ye={},xe=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],be=!1;me.length;)Tt=me.pop(),ve[Tt+"o"]=l(ve[Tt],Tt);for(;ge.length;)Tt=ge.pop(),ve[Tt+Tt]=r(ve[Tt],2);ve.DDDD=r(ve.DDD,3),f(c.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var n,a,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(a=_t.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=_t([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.apply(e,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var a=this._relativeTime[i];return"function"==typeof a?a(t,e,i,n):a.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ht(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),_t=function(e,i,a,s){var o;return"boolean"==typeof a&&(s=a,a=t),o={},o._isAMomentObject=!0,o._i=e,o._f=i,o._l=a,o._strict=s,o._isUTC=!1,o._pf=n(),ct(o)},_t.suppressDeprecationWarnings=!1,_t.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),_t.min=function(){var t=[].slice.call(arguments,0);return ut("isBefore",t)},_t.max=function(){var t=[].slice.call(arguments,0);return ut("isAfter",t)},_t.utc=function(e,i,a,s){var o;return"boolean"==typeof a&&(s=a,a=t),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=a,o._i=e,o._f=i,o._strict=s,o._pf=n(),ct(o).utc()},_t.unix=function(t){return _t(1e3*t)},_t.duration=function(t,e){var n,a,s,o,r=t,l=null;return _t.isDuration(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(l=Nt.exec(t))?(n="-"===l[1]?-1:1,r={y:0,d:A(l[Et])*n,h:A(l[Dt])*n,m:A(l[Ft])*n,s:A(l[It])*n,ms:A(l[$t])*n}):(l=Yt.exec(t))?(n="-"===l[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},r={y:s(l[2]),M:s(l[3]),d:s(l[4]),h:s(l[5]),m:s(l[6]),s:s(l[7]),w:s(l[8])}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=x(_t(r.from),_t(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new p(r),_t.isDuration(t)&&i(t,"_locale")&&(a._locale=t._locale),a},_t.version=kt,_t.defaultFormat=oe,_t.ISO_8601=function(){},_t.momentProperties=Lt,_t.updateOffset=function(){},_t.relativeTimeThreshold=function(e,i){return fe[e]!==t&&(i===t?fe[e]:(fe[e]=i,!0))},_t.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return _t.locale(t,e)}),_t.locale=function(t,e){var i;return t&&(i="undefined"!=typeof e?_t.defineLocale(t,e):_t.localeData(t),i&&(_t.duration._locale=_t._locale=i)),_t._locale._abbr},_t.defineLocale=function(t,e){return null!==e?(e.abbr=t,zt[t]||(zt[t]=new c),zt[t].set(e),_t.locale(t),zt[t]):(delete zt[t],null)},_t.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return _t.localeData(t)}),_t.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return _t._locale;if(!w(t)){if(e=B(t))return e;t=[t]}return L(t)},_t.isMoment=function(t){return t instanceof u||null!=t&&i(t,"_isAMomentObject")},_t.isDuration=function(t){return t instanceof p};for(Tt=xe.length-1;Tt>=0;--Tt)M(xe[Tt]);_t.normalizeUnits=function(t){return C(t)},_t.invalid=function(t){var e=_t.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},_t.parseZone=function(){return _t.apply(null,arguments).parseZone()},_t.parseTwoDigitYear=function(t){return A(t)+(A(t)>68?1900:2e3)},_t.isDate=T,f(_t.fn=u.prototype,{clone:function(){return _t(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){var t=_t(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():X(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return $(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&k(this._a,(this._isUTC?_t.utc(this._a):_t(this._a)).toArray())>0)},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=X(this,t||_t.defaultFormat);return this.localeData().postformat(e)},add:b(1,"add"),subtract:b(-1,"subtract"),diff:function(t,e,i){var n,a,s=O(t,this),o=6e4*(s.utcOffset()-this.utcOffset());return e=C(e),"year"===e||"month"===e||"quarter"===e?(a=h(this,s),"quarter"===e?a/=3:"year"===e&&(a/=12)):(n=this-s,a="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-o)/864e5:"week"===e?(n-o)/6048e5:n),i?a:g(a)},from:function(t,e){return _t.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(_t(),t)},calendar:function(t){var e=t||_t(),i=O(e,this).startOf("day"),n=this.diff(i,"days",!0),a=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,_t(e)))},isLeapYear:function(){return F(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ot(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=C(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=C(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var i;return e=C("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=_t.isMoment(t)?t:_t(t),+this>+t):(i=_t.isMoment(t)?+t:+_t(t),i<+this.clone().startOf(e))},isBefore:function(t,e){var i;return e=C("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=_t.isMoment(t)?t:_t(t),+t>+this):(i=_t.isMoment(t)?+t:+_t(t),+this.clone().endOf(e)<i)},isBetween:function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},isSame:function(t,e){var i;return e=C(e||"millisecond"),"millisecond"===e?(t=_t.isMoment(t)?t:_t(t),+this===+t):(i=+_t(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=_t.apply(null,arguments),this>t?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=_t.apply(null,arguments),t>this?this:t}),zone:s("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var i,n=this._offset||0;return null!=t?("string"==typeof t&&(t=H(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?_(this,_t.duration(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(H(this._i)),this},hasAlignedHourOffset:function(t){return t=t?_t(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return P(this.year(),this.month())},dayOfYear:function(t){var e=St((_t(this).startOf("day")-_t(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ht(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ht(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return E(this.year(),t.dow,t.doy)},get:function(t){return t=C(t),this[t]()},set:function(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else t=C(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var i;return e===t?this._locale._abbr:(i=_t.localeData(e),null!=i&&(this._locale=i),this)},lang:s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),_t.fn.millisecond=_t.fn.milliseconds=gt("Milliseconds",!1),_t.fn.second=_t.fn.seconds=gt("Seconds",!1),_t.fn.minute=_t.fn.minutes=gt("Minutes",!1),_t.fn.hour=_t.fn.hours=gt("Hours",!0),_t.fn.date=gt("Date",!0),_t.fn.dates=s("dates accessor is deprecated. Use date instead.",gt("Date",!0)),_t.fn.year=gt("FullYear",!0),_t.fn.years=s("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),_t.fn.days=_t.fn.day,_t.fn.months=_t.fn.month,_t.fn.weeks=_t.fn.week,_t.fn.isoWeeks=_t.fn.isoWeek,_t.fn.quarters=_t.fn.quarter,_t.fn.toJSON=_t.fn.toISOString,_t.fn.isUTC=_t.fn.isUtc,f(_t.duration.fn=p.prototype,{_bubble:function(){var t,e,i,n=this._milliseconds,a=this._days,s=this._months,o=this._data,r=0;o.milliseconds=n%1e3,t=g(n/1e3),o.seconds=t%60,e=g(t/60),o.minutes=e%60,i=g(e/60),o.hours=i%24,a+=g(i/24),r=g(vt(a)),a-=g(yt(r)),s+=g(a/30),a%=30,r+=g(s/12),s%=12,o.days=a,o.months=s,o.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(t){var e=lt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var i=_t.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=_t.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=C(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,i;if(t=C(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,i=this._months+12*vt(e),"month"===t?i:i/12;switch(e=this._days+Math.round(yt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:_t.fn.lang,locale:_t.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),a=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||a||s?"T":"")+(n?n+"H":"")+(a?a+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),_t.duration.fn.toString=_t.duration.fn.toISOString;for(Tt in de)i(de,Tt)&&xt(Tt.toLowerCase());_t.duration.fn.asMilliseconds=function(){return this.as("ms")},_t.duration.fn.asSeconds=function(){return this.as("s")},_t.duration.fn.asMinutes=function(){return this.as("m")},_t.duration.fn.asHours=function(){return this.as("h")},_t.duration.fn.asDays=function(){return this.as("d")},_t.duration.fn.asWeeks=function(){return this.as("weeks")},_t.duration.fn.asMonths=function(){return this.as("M")},_t.duration.fn.asYears=function(){return this.as("y")},_t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===A(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),Bt?module.exports=_t:"function"==typeof define&&define.amd?(define(function(t,e,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(Ct.moment=wt),_t}),bt(!0)):bt()}.call(this),function(t){function e(e,i){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=i&&i.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(i)}function i(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(t){return t[i]}}}function n(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(){return i}}}function a(t){return t?l.text(t).html():""}function s(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}function o(e,i){var n=!1;return t.each(i,function(t,i){if("number"==typeof i&&e.which===i)return n=!0,!1;if(e.which===i.which){var a=!i.hasOwnProperty("altKey")||e.altKey===i.altKey,s=!i.hasOwnProperty("shiftKey")||e.shiftKey===i.shiftKey,o=!i.hasOwnProperty("ctrlKey")||e.ctrlKey===i.ctrlKey;if(a&&s&&o)return n=!0,!1}}),n}var r={tagClass:function(t){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},itemTitle:function(t){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!0,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};e.prototype={constructor:e,add:function(e,i,n){var s=this;if(!(s.options.maxTags&&s.itemsArray.length>=s.options.maxTags)&&(e===!1||e)){if("string"==typeof e&&s.options.trimValue&&(e=t.trim(e)),"object"==typeof e&&!s.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(s.isSelect&&!s.multiple&&s.itemsArray.length>0&&s.remove(s.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var o=s.options.delimiterRegex?s.options.delimiterRegex:s.options.delimiter,r=e.split(o);if(r.length>1){for(var l=0;l<r.length;l++)this.add(r[l],!0);return void(i||s.pushVal())}}var h=s.options.itemValue(e),d=s.options.itemText(e),c=s.options.tagClass(e),u=s.options.itemTitle(e),p=t.grep(s.itemsArray,function(t){return s.options.itemValue(t)===h})[0];if(!p||s.options.allowDuplicates){if(!(s.items().toString().length+e.length+1>s.options.maxInputLength)){var f=t.Event("beforeItemAdd",{item:e,cancel:!1,options:n});if(s.$element.trigger(f),!f.cancel){s.itemsArray.push(e);var m=t('<span class="tag '+a(c)+(null!==u?'" title="'+u:"")+'">'+a(d)+'<span data-role="remove"></span></span>');if(m.data("item",e),s.findInputWrapper().before(m),m.after(" "),s.isSelect&&!t('option[value="'+encodeURIComponent(h)+'"]',s.$element)[0]){var g=t("<option selected>"+a(d)+"</option>");g.data("item",e),g.attr("value",h),s.$element.append(g)}i||s.pushVal(),s.options.maxTags!==s.itemsArray.length&&s.items().toString().length!==s.options.maxInputLength||s.$container.addClass("bootstrap-tagsinput-max"),s.$element.trigger(t.Event("itemAdded",{item:e,options:n}))}}}else if(s.options.onTagExists){var v=t(".tag",s.$container).filter(function(){return t(this).data("item")===p});s.options.onTagExists(e,v)}}}},remove:function(e,i,n){var a=this;if(a.objectItems&&(e="object"==typeof e?t.grep(a.itemsArray,function(t){return a.options.itemValue(t)==a.options.itemValue(e)}):t.grep(a.itemsArray,function(t){return a.options.itemValue(t)==e}),e=e[e.length-1]),e){var s=t.Event("beforeItemRemove",{item:e,cancel:!1,options:n});if(a.$element.trigger(s),s.cancel)return;t(".tag",a.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",a.$element).filter(function(){return t(this).data("item")===e}).remove(),t.inArray(e,a.itemsArray)!==-1&&a.itemsArray.splice(t.inArray(e,a.itemsArray),1)}i||a.pushVal(),a.options.maxTags>a.itemsArray.length&&a.$container.removeClass("bootstrap-tagsinput-max"),a.$element.trigger(t.Event("itemRemoved",{item:e,options:n}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var i=t(this),n=i.data("item"),s=e.options.itemValue(n),o=e.options.itemText(n),r=e.options.tagClass(n);if(i.attr("class",null),i.addClass("tag "+a(r)),i.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=a(o),e.isSelect){var l=t("option",e.$element).filter(function(){return t(this).data("item")===n});l.attr("value",s)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,i=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(i,!0).trigger("change")},build:function(e){var a=this;if(a.options=t.extend({},r,e),a.objectItems&&(a.options.freeInput=!1),i(a.options,"itemValue"),i(a.options,"itemText"),n(a.options,"tagClass"),
a.options.typeahead){var l=a.options.typeahead||{};n(l,"source"),a.$input.typeahead(t.extend({},l,{source:function(e,i){function n(t){for(var e=[],n=0;n<t.length;n++){var o=a.options.itemText(t[n]);s[o]=t[n],e.push(o)}i(e)}this.map={};var s=this.map,o=l.source(e);t.isFunction(o.success)?o.success(n):t.isFunction(o.then)?o.then(n):t.when(o).then(n)},updater:function(t){return a.add(this.map[t]),this.map[t]},matcher:function(t){return t.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(a.options.typeaheadjs){var h=null,d={},c=a.options.typeaheadjs;t.isArray(c)?(h=c[0],d=c[1]):d=c,a.$input.typeahead(h,d).on("typeahead:selected",t.proxy(function(t,e){d.valueKey?a.add(e[d.valueKey]):a.add(e),a.$input.typeahead("val","")},a))}a.$container.on("click",t.proxy(function(t){a.$element.attr("disabled")||a.$input.removeAttr("disabled"),a.$input.focus()},a)),a.options.addOnBlur&&a.options.freeInput&&a.$input.on("focusout",t.proxy(function(e){0===t(".typeahead, .twitter-typeahead",a.$container).length&&(a.add(a.$input.val()),a.$input.val(""))},a)),a.$container.on("keydown","input",t.proxy(function(e){var i=t(e.target),n=a.findInputWrapper();if(a.$element.attr("disabled"))return void a.$input.attr("disabled","disabled");switch(e.which){case 8:if(0===s(i[0])){var o=n.prev();o.length&&a.remove(o.data("item"))}break;case 46:if(0===s(i[0])){var r=n.next();r.length&&a.remove(r.data("item"))}break;case 37:var l=n.prev();0===i.val().length&&l[0]&&(l.before(n),i.focus());break;case 39:var h=n.next();0===i.val().length&&h[0]&&(h.after(n),i.focus())}var d=i.val().length;Math.ceil(d/5);i.attr("size",Math.max(this.inputSize,i.val().length))},a)),a.$container.on("keypress","input",t.proxy(function(e){var i=t(e.target);if(a.$element.attr("disabled"))return void a.$input.attr("disabled","disabled");var n=i.val(),s=a.options.maxChars&&n.length>=a.options.maxChars;a.options.freeInput&&(o(e,a.options.confirmKeys)||s)&&(0!==n.length&&(a.add(s?n.substr(0,a.options.maxChars):n),i.val("")),a.options.cancelConfirmKeysOnEmpty===!1&&e.preventDefault());var r=i.val().length;Math.ceil(r/5);i.attr("size",Math.max(this.inputSize,i.val().length))},a)),a.$container.on("click","[data-role=remove]",t.proxy(function(e){a.$element.attr("disabled")||a.remove(t(e.target).closest(".tag").data("item"))},a)),a.options.itemValue===r.itemValue&&("INPUT"===a.$element[0].tagName?a.add(a.$element.val()):t("option",a.$element).each(function(){a.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],i=this.$container[0];e&&e.parentNode!==i;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(i,n,a){var s=[];return this.each(function(){var o=t(this).data("tagsinput");if(o)if(i||n){if(void 0!==o[i]){if(3===o[i].length&&void 0!==a)var r=o[i](n,null,a);else var r=o[i](n);void 0!==r&&s.push(r)}}else s.push(o);else o=new e(this,i),t(this).data("tagsinput",o),s.push(o),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof i?s.length>1?s:s[0]:s},t.fn.tagsinput.Constructor=e;var l=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(){function t(t,i){t.prototype=e(i.prototype),t.prototype.constructor=t,t.parent=i.prototype}function e(t){function e(){}return e.prototype=t,new e}function n(t,e,i){return"millisecond"===i?t.setMilliseconds(t.getMilliseconds()+1*e):"second"===i?t.setSeconds(t.getSeconds()+1*e):"minute"===i?t.setMinutes(t.getMinutes()+1*e):"hour"===i?t.setHours(t.getHours()+1*e):"day"===i?t.setDate(t.getDate()+1*e):"week"===i?t.setDate(t.getDate()+7*e):"month"===i?t.setMonth(t.getMonth()+1*e):"year"===i&&t.setFullYear(t.getFullYear()+1*e),t}function a(t,e){return j[e+"Duration"]*t}function s(t,e){var i=!1;for(0>t&&(i=!0,t*=-1),t=""+t,e=e?e:1;t.length<e;)t="0"+t;return i?"-"+t:t}function o(t){if(!t)return t;t=t.replace(/^\s\s*/,"");for(var e=/\s/,i=t.length;e.test(t.charAt(--i)););return t.slice(0,i+1)}function r(t){t.roundRect=function(t,e,i,n,a,s,o,r){o&&(this.fillStyle=o),r&&(this.strokeStyle=r),"undefined"==typeof a&&(a=5),this.lineWidth=s,this.beginPath(),this.moveTo(t+a,e),this.lineTo(t+i-a,e),this.quadraticCurveTo(t+i,e,t+i,e+a),this.lineTo(t+i,e+n-a),this.quadraticCurveTo(t+i,e+n,t+i-a,e+n),this.lineTo(t+a,e+n),this.quadraticCurveTo(t,e+n,t,e+n-a),this.lineTo(t,e+a),this.quadraticCurveTo(t,e,t+a,e),this.closePath(),o&&this.fill(),r&&0<s&&this.stroke()}}function l(t,e){return t-e}function h(t,e){return t.x-e.x}function d(t){var e=((16711680&t)>>16).toString(16),i=((65280&t)>>8).toString(16);return t=((255&t)>>0).toString(16),e=2>e.length?"0"+e:e,i=2>i.length?"0"+i:i,t=2>t.length?"0"+t:t,"#"+e+i+t}function c(t,e,i){i=i||"normal";var n=t+"_"+e+"_"+i,a=R[n];if(isNaN(a)){try{if(t="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+i+";",!H){var s=document.body;H=document.createElement("span"),H.innerHTML="";var o=document.createTextNode("Mpgyi");H.appendChild(o),s.appendChild(H)}H.style.display="",H.setAttribute("style",t),a=Math.round(H.offsetHeight),H.style.display="none"}catch(r){a=Math.ceil(1.1*e)}a=Math.max(a,e),R[n]=a}return a}function u(t,e,i,n){if(t.addEventListener)t.addEventListener(e,i,n||!1);else{if(!t.attachEvent)return!1;t.attachEvent("on"+e,function(e){e=e||window.event,e.preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},i.call(t,e)})}}function p(t,e,i){for(t*=K,e*=K,t=i.getImageData(t,e,2,2).data,e=!0,i=0;4>i;i++)if(t[i]!==t[i+4]|t[i]!==t[i+8]|t[i]!==t[i+12]){e=!1;break}return e?t[0]<<16|t[1]<<8|t[2]:0}function f(t,e,i){var n;n=t?t+"FontStyle":"fontStyle";var a=t?t+"FontWeight":"fontWeight",s=t?t+"FontSize":"fontSize";return t=t?t+"FontFamily":"fontFamily",n=""+(e[n]?e[n]+" ":i&&i[n]?i[n]+" ":""),n+=e[a]?e[a]+" ":i&&i[a]?i[a]+" ":"",n+=e[s]?e[s]+"px ":i&&i[s]?i[s]+"px ":"",e=e[t]?e[t]+"":i&&i[t]?i[t]+"":"",!B&&e&&(e=e.split(",")[0],"'"!==e[0]&&'"'!==e[0]&&(e="'"+e+"'")),n+=e}function m(t,e,i){return t in e?e[t]:i[t]}function g(t,e,i){if(B&&V){var n=t.getContext("2d");J=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,K=G/J,t.width=e*K,t.height=i*K,G!==J&&(t.style.width=e+"px",t.style.height=i+"px",n.scale(K,K))}else t.width=e,t.height=i}function v(t,e){var i=document.createElement("canvas");return i.setAttribute("class","canvasjs-chart-canvas"),g(i,t,e),B||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(i),i}function y(t,e,i){if(t&&e&&i){i=i+"."+("jpeg"===e?"jpg":e);var n="image/"+e;t=t.toDataURL(n);var a=!1,s=document.createElement("a");if(s.download=i,s.href=t,s.target="_blank","undefined"!=typeof Blob&&new Blob){for(var o=t.replace(/^data:[a-z\/]*;base64,/,""),o=atob(o),r=new ArrayBuffer(o.length),l=new Uint8Array(r),h=0;h<o.length;h++)l[h]=o.charCodeAt(h);e=new Blob([r],{type:"image/"+e});try{window.navigator.msSaveBlob(e,i),a=!0}catch(d){s.dataset.downloadurl=[n,s.download,s.href].join(":"),s.href=window.URL.createObjectURL(e)}}if(!a)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent?s.dispatchEvent(event):s.fireEvent&&s.fireEvent("onclick")}catch(c){e=window.open(),e.document.write("<img src='"+t+"'></img><div>Please right click on the image and save it to your device</div>"),e.document.close()}}}function x(t,e,i){e.getAttribute("state")!==i&&(e.setAttribute("state",i),e.setAttribute("type","button"),e.style.position="relative",e.style.margin="0px 0px 0px 0px",e.style.padding="3px 4px 0px 4px",e.style.cssFloat="left",e.setAttribute("title",t._cultureInfo[i+"Text"]),e.innerHTML="<img style='height:16px;' src='"+Q[i].image+"' alt='"+t._cultureInfo[i+"Text"]+"' />")}function b(){for(var t=null,e=0;e<arguments.length;e++)t=arguments[e],t.style&&(t.style.display="inline")}function _(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function w(t,e,i){this._defaultsKey=t;var n={};i&&X[i]&&X[i][t]&&(n=X[i][t]),this._options=e?e:{},this.setOptions(this._options,n)}function T(t,e,i){this._publicChartReference=i,e=e||{},T.parent.constructor.call(this,"Chart",e,e.theme?e.theme:"theme1");var n=this;this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.panEnabled=this.disableToolTip=this.animatedRender=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this._container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this._container.innerHTML="",e=t=0,t=this._options.width?this.width:0<this._container.clientWidth?this._container.clientWidth:this.width,e=this._options.height?this.height:0<this._container.clientHeight?this._container.clientHeight:this.height,this.width=t,this.height=e,this._selectedColorSet="undefined"!=typeof Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",B||(this._canvasJSContainer.style.height="0px"),this._container.appendChild(this._canvasJSContainer),this.canvas=v(t,e),this.canvas.style.position="absolute",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",r(this.ctx),B?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=v(t,e),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=v(t,e),this.overlaidCanvas.style.position="absolute",this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",this._eventManager=new $(this),u(window,"resize",function(){n._updateSize()&&n.render()}),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 2px; top: 0px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},u(this.overlaidCanvas,"click",function(t){n._mouseEventHandler(t)}),u(this.overlaidCanvas,"mousemove",function(t){n._mouseEventHandler(t)}),u(this.overlaidCanvas,"mouseup",function(t){n._mouseEventHandler(t)}),u(this.overlaidCanvas,"mousedown",function(t){n._mouseEventHandler(t),_(n._dropdownMenu)}),u(this.overlaidCanvas,"mouseout",function(t){n._mouseEventHandler(t)}),u(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(t){n._touchEventHandler(t)}),u(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(t){n._touchEventHandler(t)}),u(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(t){n._touchEventHandler(t)}),u(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(t){n._touchEventHandler(t)}),this._creditLink||(this._creditLink=document.createElement("a"),this._creditLink.setAttribute("class","canvasjs-chart-credit"),this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:"+(this.height-14)+"px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),this._creditLink.setAttribute("tabIndex",-1),this._creditLink.setAttribute("target","_blank")),this._toolTip=new I(this,this._options.toolTip,this.theme),this.layoutManager=new C(this),this.axisY2=this.axisY=this.axisX=this.data=null,this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},axisY2:{internalMinimum:null,internalMaximum:null}})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function k(t,e){for(var i=[],n=0;n<t.length;n++)if(0==n)i.push(t[0]);else{var a,s,o;o=n-1,a=0===o?0:o-1,s=o===t.length-1?o:o+1,i[i.length]={x:t[o].x+(t[s].x-t[a].x)/e/3,y:t[o].y+(t[s].y-t[a].y)/e/3},o=n,a=0===o?0:o-1,s=o===t.length-1?o:o+1,i[i.length]={x:t[o].x-(t[s].x-t[a].x)/e/3,y:t[o].y-(t[s].y-t[a].y)/e/3},i[i.length]=t[n]}return i}function C(t){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=0,this.chart=t}function S(t,e){S.parent.constructor.call(this,"TextBlock",e),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._lineHeight=c(this.fontFamily,this.fontSize,this.fontWeight)}function M(t,e){M.parent.constructor.call(this,"Title",e,t.theme),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function A(t,e,i){A.parent.constructor.call(this,"Legend",e,i),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.height=this.width=0,this.orientation=null,this.horizontalSpacing=10,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=c(this.fontFamily,this.fontSize,this.fontWeight)}function P(t,e){P.parent.constructor.call(this,e),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx}function E(t,e,i,n,a){E.parent.constructor.call(this,"DataSeries",e,i),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=n,this.noDataPointsInPlotArea=0,this.id=a,this.chart._eventManager.objectMap[a]={id:a,objectType:"dataSeries",dataSeriesIndex:n},this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),"undefined"==typeof this._options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function D(t,e,i,n){if(D.parent.constructor.call(this,"Axis",e,t.theme),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalstartTimePercent=this.maxHeight=this.maxWidth=0,this.labels=[],this._labels=null,this.dataInfo={min:1/0,max:-(1/0),viewPortMin:1/0,viewPortMax:-(1/0),minDiff:1/0},"axisX"===i?(this.sessionVariables=this.chart.sessionVariables[i],this._options.interval||(this.intervalType=null)):this.sessionVariables="left"===n||"top"===n?this.chart.sessionVariables.axisY:this.chart.sessionVariables.axisY2,"undefined"==typeof this._options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),"undefined"==typeof this._options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=i,"axisX"!==i||e&&"undefined"!=typeof e.gridThickness||(this.gridThickness=0),this._position=n,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:180<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:270<this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this._options.stripLines&&0<this._options.stripLines.length)for(this.stripLines=[],e=0;e<this._options.stripLines.length;e++)this.stripLines.push(new F(this.chart,this._options.stripLines[e],t.theme,(++this.chart._eventManager.lastObjectId)));this._absoluteMaximum=this._absoluteMinimum=this._titleTextBlock=null,this.hasOptionChanged("minimum")&&(this.sessionVariables.internalMinimum=this.minimum),this.hasOptionChanged("maximum")&&(this.sessionVariables.internalMaximum=this.maximum),this.trackChanges("minimum"),this.trackChanges("maximum")}function F(t,e,i,n){F.parent.constructor.call(this,"StripLine",e,i),this._thicknessType="pixel",this.id=n,null!==this.startValue&&null!==this.endValue&&(this.value=((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this.thickness=Math.max(this.endValue-this.startValue),this._thicknessType="value")}function I(t,e,i){I.parent.constructor.call(this,"ToolTip",e,i),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._timerId=0,this._prevY=this._prevX=NaN,this._initialize()}function $(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=v(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function z(t,e){var i;e&&N[e]&&(i=N[e]),M.parent.constructor.call(this,"CultureInfo",i,t.theme),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx}function L(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}var B=!!document.createElement("canvas").getContext,O={Chart:{width:500,height:400,zoomEnabled:!1,backgroundColor:"white",theme:"theme1",animationEnabled:!1,animationDuration:1200,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS.com",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart"},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null},ToolTip:{enabled:!0,borderColor:null,shared:!1,animationEnabled:!0,content:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!1,labelWrap:!0,labelMaxWidth:null,prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2,stripLines:[]},StripLine:{value:null,startValue:null,endValue:null,color:"orange",thickness:2,label:"",labelBackgroundColor:"#EEEEEE",labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal"},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,cursor:null,indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:null,indexLabelLineThickness:1,indexLabelMaxWidth:null,indexLabelWrap:!0,lineThickness:2,color:null,risingColor:"white",fillOpacity:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:null,legendMarkerBorderThickness:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPG",savePNGText:"Save as PNG",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}},N={en:{}},Y={colorSet1:"#369EAD #C24642 #7F6084 #86B402 #A2D1CF #C8B631 #6DBCEB #52514E #4F81BC #A064A1 #F79647".split(" "),colorSet2:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #33558B".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},X={theme1:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:B?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:B?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontFamily:B?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:B?"monospace, sans-serif,arial black":"calibri"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:B?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineThickness:1}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:B?"monospace, sans-serif,arial black":"arial",titleFontWeight:"bold",labelFontFamily:B?"monospace, Courier New, Courier":"arial",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:B?"monospace, sans-serif,arial black":"arial"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:B?"Courier New, Courier, monospace":"arial",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:B?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:32,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:B?"Verdana, Geneva, Calibri, sans-serif":"calibri",labelFontFamily:B?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:B?"monospace, sans-serif,arial black":"calibri"},DataSeries:{bevelEnabled:!0,indexLabelFontColor:"grey",indexLabelFontFamily:B?"Candara, Optima, Calibri, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},j={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},R={},H=null,W=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),i="Sun Mon Tue Wed Thu Fri Sat".split(" "),n="January February March April May June July August September October November December".split(" "),a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g;return function(l,h,d){var c=d?d.days:e,u=d?d.months:n,p=d?d.shortDays:i,f=d?d.shortMonths:a;d="";var m=!1;if(l=l&&l.getTime?l:l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");"UTC:"===h.slice(0,4)&&(h=h.slice(4),m=!0),d=m?"getUTC":"get";var g=l[d+"Date"](),v=l[d+"Day"](),y=l[d+"Month"](),x=l[d+"FullYear"](),b=l[d+"Hours"](),_=l[d+"Minutes"](),w=l[d+"Seconds"](),T=l[d+"Milliseconds"](),k=m?0:l.getTimezoneOffset();return d=h.replace(t,function(t){switch(t){case"D":return g;case"DD":return s(g,2);case"DDD":return p[v];case"DDDD":return c[v];case"M":return y+1;case"MM":return s(y+1,2);case"MMM":return f[y];case"MMMM":return u[y];case"Y":return parseInt(String(x).slice(-2));case"YY":return s(String(x).slice(-2),2);case"YYY":return s(String(x).slice(-3),3);case"YYYY":return s(x,4);case"h":return b%12||12;case"hh":return s(b%12||12,2);case"H":return b;case"HH":return s(b,2);case"m":return _;case"mm":return s(_,2);case"s":return w;case"ss":return s(w,2);case"f":return String(T).slice(0,1);case"ff":return s(String(T).slice(0,2),2);case"fff":return s(String(T).slice(0,3),3);case"t":return 12>b?"a":"p";case"tt":return 12>b?"am":"pm";case"T":return 12>b?"A":"P";case"TT":return 12>b?"AM":"PM";case"K":return m?"UTC":(String(l).match(o)||[""]).pop().replace(r,"");case"z":return(0<k?"-":"+")+Math.floor(Math.abs(k)/60);case"zz":return(0<k?"-":"+")+s(Math.floor(Math.abs(k)/60),2);case"zzz":return(0<k?"-":"+")+s(Math.floor(Math.abs(k)/60),2)+s(Math.abs(k)%60,2);default:return t.slice(1,t.length-1)}})}}(),U=function(t,e,i){if(null===t)return"";t=Number(t);var n=0>t;n&&(t*=-1);var a=i?i.decimalSeparator:".",o=i?i.digitGroupSeparator:",",r="";e=String(e);var r=1,l=i="",h=-1,d=[],c=[],u=0,p=0,f=0,m=!1,g=0,l=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);e=null;for(var v=0;l&&v<l.length;v++)if(e=l[v],"."===e&&0>h)h=v;else{if("%"===e)r*=100;else{if("‰"===e){r*=1e3;continue}if(","===e[0]&&"."===e[e.length-1]){r/=Math.pow(1e3,e.length-1),h=v+e.length-1;continue}"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||(m=!0)}0>h?(d.push(e),"#"===e||"0"===e?u++:","===e&&f++):(c.push(e),"#"!==e&&"0"!==e||p++)}for(m&&(e=Math.floor(t),g=(0===e?"":String(e)).length-u,r/=Math.pow(10,g)),0>h&&(h=v),r=(t*r).toFixed(p),e=r.split("."),r=(e[0]+"").split(""),t=(e[1]+"").split(""),r&&"0"===r[0]&&r.shift(),v=m=l=p=h=0;0<d.length;)if(e=d.pop(),"#"===e||"0"===e)if(h++,h===u){var y=r,r=[];if("0"===e)for(e=u-p-(y?y.length:0);0<e;)y.unshift("0"),e--;for(;0<y.length;)i=y.pop()+i,v++,0===v%m&&l===f&&0<y.length&&(i=o+i);n&&(i="-"+i)}else 0<r.length?(i=r.pop()+i,p++,v++):"0"===e&&(i="0"+i,p++,v++),0===v%m&&l===f&&0<r.length&&(i=o+i);else"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?","===e?(l++,m=v,v=0,0<r.length&&(i=o+i)):i=1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?e.slice(1,e.length-1)+i:e+i:(e=0>g?e.replace("+","").replace("-",""):e.replace("-",""),i+=e.replace(/[0]+/,function(t){return s(g,t.length)}));for(n="",o=!1;0<c.length;)e=c.shift(),"#"===e||"0"===e?0<t.length&&0!==Number(t.join(""))?(n+=t.shift(),o=!0):"0"===e&&(n+="0",o=!0):1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?n+=e.slice(1,e.length-1):"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?n+=e:(e=0>g?e.replace("+","").replace("-",""):e.replace("-",""),n+=e.replace(/[0]+/,function(t){return s(g,t.length)}));return i+((o?a:"")+n)},q=function(t){var e=0,i=0;return t=t||window.event,t.offsetX||0===t.offsetX?(e=t.offsetX,i=t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,i=t.layerY):(e=t.pageX-t.target.offsetLeft,i=t.pageY-t.target.offsetTop),{x:e,y:i}},V=!0,G=window.devicePixelRatio||1,J=1,K=V?G/J:1,Q={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAKRSURBVEiJrdY/iF1FFMfxzwnZrGISUSR/JLGIhoh/QiRNBLWxMLIWEkwbgiAoFgoW2mhlY6dgpY2IlRBRxBSKhSAKIklWJRYuMZKAhiyopAiaTY7FvRtmZ+/ed9/zHRjezLw5v/O9d86cuZGZpmURAfdn5o9DfdZNLXpjz+LziPgyIl6MiG0jPTJzZBuyDrP4BVm0P/AKbljTb4ToY/gGewYA7KyCl+1b3DUYANvwbiHw0gCAGRzBOzjTAXEOu0cC4Ch+r5x/HrpdrcZmvIDFSucMtnYCYC++6HmNDw8FKDT34ETrf639/azOr5vwRk/g5fbeuABtgC04XWk9VQLciMP4EH/3AFzErRNC7MXlQmsesSoHsGPE23hmEoBW+61K66HMXFmIMvN8myilXS36R01ub+KfYvw43ZXwYDX+AHP4BAci4pFJomfmr/ihmNofESsBImJGk7mlncrM45n5JPbhz0kAWpsv+juxaX21YIPmVJS2uNzJMS6ZNexC0d+I7fUWXLFyz2kSZlpWPvASlmqAf/FXNXf3FAF2F/1LuFifAlionB6dRuSI2IwHi6lzmXmp6xR8XY0fiIh7psAwh+3FuDkRHQVjl+a8lkXjo0kLUKH7XaV5oO86PmZ1FTzyP4K/XGl9v/zwfbW7BriiuETGCP5ch9bc9f97HF/vcFzCa5gdEPgWq+t/4v0V63oE1uF4h0DiFJ7HnSWMppDdh1dxtsPvJ2wcBNAKbsJXa0Ck5opdaBPsRNu/usba09i1KsaAVzmLt3sghrRjuK1Tf4xkegInxwy8gKf7dKMVH2QRsV5zXR/Cftyu+aKaKbbkQrsdH+PTzLzcqzkOQAVzM+7FHdiqqe2/YT4zF/t8S/sPmawyvC974vcAAAAASUVORK5CYII="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJVSURBVFiFvZe7a1RBGMV/x2hWI4JpfKCIiSBKOoOCkID/wP4BFqIIFkE02ChIiC8QDKlSiI3YqRBsBVGwUNAUdiIEUgjiAzQIIsuKJsfizsXr5t7d+8jmwLDfzHz3nLOzc7+ZxTZlGyDgZiWOCuJ9wH2gCUyuqQFgF/AGcKJNrYkBYBj40CIet+muGQi/96kM4WS7C/Tm5VUg7whJg8BkEGkCR4BDYfodsADUgP6wErO5iCtswsuJb32hdbXy8qzL5TIdmzJinHdZoZIBZcSFkGlAKs1Z3YCketZcBtouuaQNkrblMiBpBrhme7mAgU4wMCvpcFsDkq4C54DFVRTH9h+i6vlE0r5UA5ImgCuh28jB28iIs7BIVCOeStoZD64P4uPAjUTygKSx2FsK2TIwkugfk9Qkfd/E+yMWHQCeSRqx/R3gOp3LazfaS2C4B5gHDgD7U9x3E3uAH7KNpC3AHHAwTL4FHgM9GQ8vAaPA0dB/Abxqk2/gBLA9MXba9r1k/d4LfA3JtwueBeM58ucS+edXnAW23wP10N3advEi9CXizTnyN4bPS7Zn4sH/dq3t18AY4e1YLYSy3g/csj2VnFshZPuOpOeSKHCodUINuGj7YetE6je1PV9QoNPJ9StNHKodx7nRbiWrGHBGXAi5DUiqtQwtpcWK0Jubt8CltA5MEV1IfwO7+VffPwGfia5m34CT4bXujIIX0Qna1/cGMNqV/wUJE2czxD8CQ4X5Sl7Jz7SILwCDpbjKPBRMHAd+EtX4HWV5Spdc2w8kDQGPbH8py/MXMygM69/FKz4AAAAASUVORK5CYII="},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAMqSURBVFiFvdfbj91TFMDxz57U6GUEMS1aYzyMtCSSDhWjCZMInpAI3khE/QHtgzdRkXgSCS8SES9epKLi0oRKNETjRahREq2KS1stdRujtDPtbA97n5zdn9+5zJxTK9k5v3POXmt991p7r71+IcaoGwkhTOIebMRqzOBTvIG3Y4zTXRmqSoyx5cAKbMJOHMFJnMZ8/jyFaXyMR7G6nb1aH22cP4BvcBxziG3GKfyTIR9D6BYg1KUghPBCDveFlb/24Av8iuUYw41YVsz5G7uxKcZ4aMEpwGt5NY3V/YbHsQ6rcAHOw/kYxigewr5CZw4fYGxBKcCLOFEYehXrMdRhr5yLETxVScsOLOkKAPfn1TYMPIvLFrShUlS2FDZm8XRHACzFAWl3R2xbqPMCYhmeLCAOYEMngAczbcTvuHYxzguIy/FesR9e6gSwU/OoPYHBHgHgviIKX2Flq7k34KhmcVnbi/PC8JX4MgMcxb118wZwdz5aISscqx7VRcox7MrPQ7i+btIAJrAkf9+bI9EPmZY2IAxiTSuAldLq4Y9+AcSUh78KP0tbAcwU35cXMD1JCIFUoGiehlqAz6TNB1f1C0DK+0h+nsNPrQC2a4bqGmlD9kOGcWt+Po6pVgDvSxfJaSkFd4UQBvoAsBYbCoB3a2flM7slA0R8iyt6rAFDeDPbm8eOTpVwGD9qVq7nLbIaZnmksPU1JtsCZMXNmpdRxFasWITzh6Xj3LCzra1OxcD2QjHiGVzdpfORnMqZio2PcF23ABdJF1Np4BPptlyPi6WzPYBzpJZtHe7A6xW9cnyP8TqA//SEIYRL8Bxul7rihvwgtVn78WcGGZXa9HGd5TDujDHuOePXNiHdKjWgZX/YbsxLx/ktqbjVzTlcjUSnvI5JrdlUVp6WesZZ6R1hRrpq9+EVTGS9jTjYAuKIouGpbcurEkIYxC051KNSamazsc+xK8b4S0VnEi/j0hqTP+M27O258egQwZuzs7pI7Mf4WQXIEDc5s9sux+5+1Py2EmP8UOq6GvWhIScxfdYjUERiAt9Jd84J6a16zf8JEKT3yCm8g1UxRv8CC4pyRhzR1uUAAAAASUVORK5CYII="
},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDcvMTUvMTTPsvU0AAAAP0lEQVRIie2SMQoAIBDDUvH/X667g8sJJ9KOhYYOkW0qGaU1MPdC0vGSbV19EACo3YMPAFH5BUBUjsqfAPpVXtNgGDfxEDCtAAAAAElFTkSuQmCC"}};w.prototype.setOptions=function(t,e){if(O[this._defaultsKey]){var i,n=O[this._defaultsKey];for(i in n)this[i]=t&&i in t?t[i]:e&&i in e?e[i]:n[i]}},w.prototype.updateOption=function(t){var e=O[this._defaultsKey],i=this._options.theme?this._options.theme:this.chart&&this.chart._options.theme?this.chart._options.theme:"theme1",n={},a=this[t];return i&&X[i]&&X[i][this._defaultsKey]&&(n=X[i][this._defaultsKey]),t in e&&(a=t in this._options?this._options[t]:n&&t in n?n[t]:e[t]),a!==this[t]&&(this[t]=a,!0)},w.prototype.trackChanges=function(t){this._options._oldOptions||(this._options._oldOptions={}),this._options._oldOptions[t]=this._options[t]},w.prototype.isBeingTracked=function(t){return this._options._oldOptions||(this._options._oldOptions={}),!!this._options._oldOptions[t]},w.prototype.hasOptionChanged=function(t){return this._options._oldOptions||(this._options._oldOptions={}),this._options._oldOptions[t]!==this._options[t]},t(T,w),T.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet="undefined"!=typeof Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new z(this,this._options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&B,this._options.zoomEnabled?(this._zoomButton||(_(this._zoomButton=document.createElement("button")),x(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),u(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,x(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,x(t,t._zoomButton,"pan")),t.render()})),this._resetButton||(_(this._resetButton=document.createElement("button")),x(this,this._resetButton,"reset"),this._toolBar.appendChild(this._resetButton),u(this._resetButton,"click",function(){t._toolTip.hide(),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,x(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX.internalMinimum=t._options.axisX&&t._options.axisX.minimum?t._options.axisX.minimum:null,t.sessionVariables.axisX.internalMaximum=t._options.axisX&&t._options.axisX.maximum?t._options.axisX.maximum:null,t.resetOverlayedCanvas(),_(t._zoomButton,t._resetButton),t.render()}),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),b(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))):this.panEnabled=this.zoomEnabled=!1,"undefined"!=typeof this._options.exportFileName&&(this.exportFileName=this._options.exportFileName),"undefined"!=typeof this._options.exportEnabled&&(this.exportEnabled=this._options.exportEnabled),this._menuButton?this.exportEnabled?b(this._menuButton):_(this._menuButton):this.exportEnabled&&B&&(this._menuButton=document.createElement("button"),x(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),u(this._menuButton,"click",function(){"none"!==t._dropdownMenu.style.display||t._dropDownCloseTime&&500>=(new Date).getTime()-t._dropDownCloseTime.getTime()||(t._dropdownMenu.style.display="block",t._menuButton.blur(),t._dropdownMenu.focus())},!0)),!this._dropdownMenu&&this.exportEnabled&&B){this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1),this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 1px;top: 25px;min-width: 120px;outline: 0;border: 1px solid silver;font-size: 14px;font-family: Calibri, Verdana, sans-serif;padding: 5px 0px 5px 0px;text-align: left;background-color: #fff;line-height: 20px;box-shadow: 2px 2px 10px #888888;",t._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),u(this._dropdownMenu,"blur",function(){_(t._dropdownMenu),t._dropDownCloseTime=new Date},!0);var e=document.createElement("div");e.style.cssText="padding: 2px 15px 2px 10px",e.innerHTML=this._cultureInfo.saveJPGText,this._dropdownMenu.appendChild(e),u(e,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),u(e,"mouseout",function(){this.style.backgroundColor="transparent"},!0),u(e,"click",function(){y(t.canvas,"jpg",t.exportFileName),_(t._dropdownMenu)},!0),e=document.createElement("div"),e.style.cssText="padding: 2px 15px 2px 10px",e.innerHTML=this._cultureInfo.savePNGText,this._dropdownMenu.appendChild(e),u(e,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),u(e,"mouseout",function(){this.style.backgroundColor="transparent"},!0),u(e,"click",function(){y(t.canvas,"png",t.exportFileName),_(t._dropdownMenu)},!0)}if("none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?x(t,t._zoomButton,"zoom"):x(t,t._zoomButton,"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&x(t,t._resetButton,"reset")),"undefined"==typeof O.Chart.creditHref)this.creditHref="http://canvasjs.com/",this.creditText="CanvasJS.com";else var i=this.updateOption("creditText"),n=this.updateOption("creditHref");(0===this.renderCount||i||n)&&(this._creditLink.setAttribute("href",this.creditHref),this._creditLink.innerHTML=this.creditText),this.creditHref&&this.creditText?this._creditLink.parentElement||this._canvasJSContainer.appendChild(this._creditLink):this._creditLink.parentElement&&this._canvasJSContainer.removeChild(this._creditLink),this._options.toolTip&&this._toolTip._options!==this._options.toolTip&&(this._toolTip._options=this._options.toolTip),this._toolTip.updateOption("enabled"),this._toolTip.updateOption("shared"),this._toolTip.updateOption("animationEnabled"),this._toolTip.updateOption("borderColor"),this._toolTip.updateOption("content")},T.prototype._updateSize=function(){var t=0,e=0;return this._options.width?t=this.width:this.width=t=0<this._container.clientWidth?this._container.clientWidth:this.width,this._options.height?e=this.height:this.height=e=0<this._container.clientHeight?this._container.clientHeight:this.height,(this.canvas.width!==t*K||this.canvas.height!==e*K)&&(g(this.canvas,t,e),g(this.overlaidCanvas,t,e),g(this._eventManager.ghostCanvas,t,e),!0)},T.prototype._initialize=function(){this._animator?this._animator.cancelAllAnimations():this._animator=new L(this),this.disableToolTip=!1,this.pieDoughnutClickHandler=null,this.animationRequestId&&this.cancelRequestAnimFrame.call(window,this.animationRequestId),this._updateOptions(),this.animatedRender=B&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisY2=this.axisY=this.axisX=null,this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]},this.layoutManager.reset(),this.data=[];for(var t=0,e=0;e<this._options.data.length;e++)if(t++,!this._options.data[e].type||0<=T._supportedChartTypes.indexOf(this._options.data[e].type)){var i=new E(this,this._options.data[e],this.theme,t-1,(++this._eventManager.lastObjectId));null===i.name&&(i.name="DataSeries "+t),null===i.color?1<this._options.data.length?(i._colorSet=[this._selectedColorSet[i.index%this._selectedColorSet.length]],i.color=this._selectedColorSet[i.index%this._selectedColorSet.length]):i._colorSet="line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"candlestick"===i.type||"ohlc"===i.type?[this._selectedColorSet[0]]:this._selectedColorSet:i._colorSet=[i.color],null===i.markerSize&&(("line"===i.type||"stepLine"===i.type||"spline"===i.type)&&i.dataPoints&&i.dataPoints.length<this.width/16||"scatter"===i.type)&&(i.markerSize=8),"bubble"!==i.type&&"scatter"!==i.type||!i.dataPoints||i.dataPoints.sort(h),this.data.push(i);var n,a=i.axisPlacement;if("normal"===a?"xySwapped"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===a?"normal"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"==a&&("normal"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?n='You cannot combine "'+i.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none")),n&&window.console)return void window.console.log(n)}this._objectsInitialized=!0},T._supportedChartTypes="line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc rangeColumn rangeBar rangeArea rangeSplineArea pie doughnut funnel".split(" "),T._supportedChartTypes.indexOf||(T._supportedChartTypes.indexOf=function(t,e){var i=this.length>>>0,n=Number(e)||0,n=0>n?Math.ceil(n):Math.floor(n);for(0>n&&(n+=i);n<i;n++)if(n in this&&this[n]===t)return n;return-1}),T.prototype.render=function(t){for(t&&(this._options=t),this._initialize(),t=0;t<this.data.length;t++)"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||(this.data[t].axisYType&&"primary"!==this.data[t].axisYType?"secondary"===this.data[t].axisYType&&(this.axisY2||("normal"===this.plotInfo.axisPlacement?this.axisY2=new D(this,this._options.axisY2,"axisY","right"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY2=new D(this,this._options.axisY2,"axisY","top"))),this.data[t].axisY=this.axisY2):(this.axisY||("normal"===this.plotInfo.axisPlacement?this.axisY=new D(this,this._options.axisY,"axisY","left"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY=new D(this,this._options.axisY,"axisY","bottom"))),this.data[t].axisY=this.axisY),this.axisX||("normal"===this.plotInfo.axisPlacement?this.axisX=new D(this,this._options.axisX,"axisX","bottom"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisX=new D(this,this._options.axisX,"axisX","left"))),this.data[t].axisX=this.axisX);for(this._processData(),this._options.title&&(this._title=new M(this,this._options.title),this._title.render()),this.legend=new A(this,this._options.legend,this.theme),t=0;t<this.data.length;t++)this.data[t].showInLegend&&this.legend.dataSeries.push(this.data[t]);if(this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)this.layoutManager.getFreeSpace(),D.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}var e=[];if(this.animatedRender){var i=v(this.width,this.height);i.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(t=0;t<this.plotInfo.plotTypes.length;t++)for(var n=this.plotInfo.plotTypes[t],a=0;a<n.plotUnits.length;a++){var s=n.plotUnits[a],o=null;s.targetCanvas=null,this.animatedRender&&(s.targetCanvas=v(this.width,this.height),s.targetCanvasCtx=s.targetCanvas.getContext("2d")),"line"===s.type?o=this.renderLine(s):"stepLine"===s.type?o=this.renderStepLine(s):"spline"===s.type?o=this.renderSpline(s):"column"===s.type?o=this.renderColumn(s):"bar"===s.type?o=this.renderBar(s):"area"===s.type?o=this.renderArea(s):"stepArea"===s.type?o=this.renderStepArea(s):"splineArea"===s.type?o=this.renderSplineArea(s):"stackedColumn"===s.type?o=this.renderStackedColumn(s):"stackedColumn100"===s.type?o=this.renderStackedColumn100(s):"stackedBar"===s.type?o=this.renderStackedBar(s):"stackedBar100"===s.type?o=this.renderStackedBar100(s):"stackedArea"===s.type?o=this.renderStackedArea(s):"stackedArea100"===s.type?o=this.renderStackedArea100(s):"bubble"===s.type?o=o=this.renderBubble(s):"scatter"===s.type?o=this.renderScatter(s):"pie"===s.type?this.renderPie(s):"doughnut"===s.type?this.renderPie(s):"candlestick"===s.type?o=this.renderCandlestick(s):"ohlc"===s.type?o=this.renderCandlestick(s):"rangeColumn"===s.type?o=this.renderRangeColumn(s):"rangeBar"===s.type?o=this.renderRangeBar(s):"rangeArea"===s.type?o=this.renderRangeArea(s):"rangeSplineArea"===s.type&&(o=this.renderRangeSplineArea(s));for(var r=0;r<s.dataSeriesIndexes.length;r++)this._dataInRenderedOrder.push(this.data[s.dataSeriesIndexes[r]]);this.animatedRender&&o&&e.push(o)}this.animatedRender&&0<this._indexLabels.length&&(t=v(this.width,this.height).getContext("2d"),e.push(this.renderIndexLabels(t)));var l=this;0<e.length?(l.disableToolTip=!0,l._animator.animate(200,l.animationDuration,function(t){l.ctx.clearRect(0,0,l.width,l.height),l.ctx.drawImage(i,0,0,Math.floor(l.width*K),Math.floor(l.height*K),0,0,l.width,l.height);for(var n=0;n<e.length;n++)o=e[n],1>t&&"undefined"!=typeof o.startTimePercent?t>=o.startTimePercent&&o.animationCallback(o.easingFunction(t-o.startTimePercent,0,1,1-o.startTimePercent),o):o.animationCallback(o.easingFunction(t,0,1,1),o)},function(){e=[];for(var t=0;t<l.plotInfo.plotTypes.length;t++)for(var n=l.plotInfo.plotTypes[t],a=0;a<n.plotUnits.length;a++)n.plotUnits[a].targetCanvas=null;i=null,l.disableToolTip=!1})):0<l._indexLabels.length&&l.renderIndexLabels(),this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||_(this._zoomButton,this._resetButton),this._toolTip._updateToolTip(),this.renderCount++},T.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},T.prototype.categoriseDataSeries=function(){for(var t="",e=0;e<this.data.length;e++)if(t=this.data[e],t.dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=T._supportedChartTypes.indexOf(t.type)){for(var i=null,n=!1,a=null,s=!1,o=0;o<this.plotInfo.plotTypes.length;o++)if(this.plotInfo.plotTypes[o].type===t.type){n=!0,i=this.plotInfo.plotTypes[o];break}for(n||(i={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i)),o=0;o<i.plotUnits.length;o++)if(i.plotUnits[o].axisYType===t.axisYType){s=!0,a=i.plotUnits[o];break}s||(a={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisYType:t.axisYType,axisY:"primary"===t.axisYType?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[],yTotals:[]},i.plotUnits.push(a)),i.totalDataSeries++,a.dataSeriesIndexes.push(e),t.plotUnit=a}for(e=0;e<this.plotInfo.plotTypes.length;e++)for(i=this.plotInfo.plotTypes[e],o=t=0;o<i.plotUnits.length;o++)i.plotUnits[o].previousDataSeriesCount=t,t+=i.plotUnits[o].dataSeriesIndexes.length},T.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var i=e.dataPoints.length,n=0;n<i;n++)e.dataPointIds[n]=++this._eventManager.lastObjectId}},T.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++){var n=e.plotUnits[i];"line"===n.type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type?this._processMultiseriesPlotUnit(n):"stackedColumn"===n.type||"stackedBar"===n.type||"stackedArea"===n.type?this._processStackedPlotUnit(n):"stackedColumn100"===n.type||"stackedBar100"===n.type||"stackedArea100"===n.type?this._processStacked100PlotUnit(n):"candlestick"!==n.type&&"ohlc"!==n.type&&"rangeColumn"!==n.type&&"rangeBar"!==n.type&&"rangeArea"!==n.type&&"rangeSplineArea"!==n.type||this._processMultiYPlotUnit(n)}},T.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,n=t.axisY.dataInfo,a=t.axisX.dataInfo,s=!1,o=0;o<t.dataSeriesIndexes.length;o++){var r=this.data[t.dataSeriesIndexes[o]],l=0,h=!1,d=!1;if("normal"===r.axisPlacement||"xySwapped"===r.axisPlacement)var c=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),u=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((r.dataPoints[l].x&&r.dataPoints[l].x.getTime||"dateTime"===r.xValueType)&&(s=!0),l=0;l<r.dataPoints.length;l++){if("undefined"==typeof r.dataPoints[l].x&&(r.dataPoints[l].x=l),r.dataPoints[l].x.getTime?(s=!0,e=r.dataPoints[l].x.getTime()):e=r.dataPoints[l].x,i=r.dataPoints[l].y,e<a.min&&(a.min=e),e>a.max&&(a.max=e),i<n.min&&(n.min=i),i>n.max&&(n.max=i),0<l){var p=e-r.dataPoints[l-1].x;0>p&&(p*=-1),a.minDiff>p&&0!==p&&(a.minDiff=p)}if(!(e<c)||h){if(!h&&(h=!0,0<l)){l-=2;continue}if(e>u&&!d)d=!0;else if(e>u&&d)continue;r.dataPoints[l].label&&(t.axisX.labels[e]=r.dataPoints[l].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),null!==i&&(i<n.viewPortMin&&(n.viewPortMin=i),i>n.viewPortMax&&(n.viewPortMax=i))}}this.plotInfo.axisXValueType=r.xValueType=s?"dateTime":"number"}},T.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,i,n=t.axisY.dataInfo,a=t.axisX.dataInfo,s=!1,o=[],r=[],l=0;l<t.dataSeriesIndexes.length;l++){var h=this.data[t.dataSeriesIndexes[l]],d=0,c=!1,u=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var p=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),f=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((h.dataPoints[d].x&&h.dataPoints[d].x.getTime||"dateTime"===h.xValueType)&&(s=!0),d=0;d<h.dataPoints.length;d++){if("undefined"==typeof h.dataPoints[d].x&&(h.dataPoints[d].x=d),h.dataPoints[d].x.getTime?(s=!0,e=h.dataPoints[d].x.getTime()):e=h.dataPoints[d].x,i=h.dataPoints[d].y,e<a.min&&(a.min=e),e>a.max&&(a.max=e),0<d){var m=e-h.dataPoints[d-1].x;0>m&&(m*=-1),a.minDiff>m&&0!==m&&(a.minDiff=m)}if(!(e<p)||c){if(!c&&(c=!0,0<d)){d-=2;continue}if(e>f&&!u)u=!0;else if(e>f&&u)continue;h.dataPoints[d].label&&(t.axisX.labels[e]=h.dataPoints[d].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),null!==i&&(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+Math.abs(i),0<=i?o[e]=o[e]?o[e]+i:i:r[e]=r[e]?r[e]+i:i)}}this.plotInfo.axisXValueType=h.xValueType=s?"dateTime":"number"}for(d in o)isNaN(d)||(t=o[d],t<n.min&&(n.min=t),t>n.max&&(n.max=t),d<a.viewPortMin||d>a.viewPortMax||(t<n.viewPortMin&&(n.viewPortMin=t),t>n.viewPortMax&&(n.viewPortMax=t)));for(d in r)isNaN(d)||(t=r[d],t<n.min&&(n.min=t),t>n.max&&(n.max=t),d<a.viewPortMin||d>a.viewPortMax||(t<n.viewPortMin&&(n.viewPortMin=t),t>n.viewPortMax&&(n.viewPortMax=t)))}},T.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,i,n=t.axisY.dataInfo,a=t.axisX.dataInfo,s=!1,o=!1,r=!1,l=[],h=0;h<t.dataSeriesIndexes.length;h++){var d=this.data[t.dataSeriesIndexes[h]],c=0,u=!1,p=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var f=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),m=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((d.dataPoints[c].x&&d.dataPoints[c].x.getTime||"dateTime"===d.xValueType)&&(s=!0),c=0;c<d.dataPoints.length;c++){if("undefined"==typeof d.dataPoints[c].x&&(d.dataPoints[c].x=c),d.dataPoints[c].x.getTime?(s=!0,e=d.dataPoints[c].x.getTime()):e=d.dataPoints[c].x,i=d.dataPoints[c].y,e<a.min&&(a.min=e),e>a.max&&(a.max=e),0<c){var g=e-d.dataPoints[c-1].x;0>g&&(g*=-1),a.minDiff>g&&0!==g&&(a.minDiff=g)}if(!(e<f)||u){if(!u&&(u=!0,0<c)){c-=2;continue}if(e>m&&!p)p=!0;else if(e>m&&p)continue;d.dataPoints[c].label&&(t.axisX.labels[e]=d.dataPoints[c].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),null!==i&&(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+Math.abs(i),0<=i?o=!0:r=!0,l[e]=l[e]?l[e]+Math.abs(i):Math.abs(i))}}this.plotInfo.axisXValueType=d.xValueType=s?"dateTime":"number"}o&&!r?(n.max=99,n.min=1):o&&r?(n.max=99,n.min=-99):!o&&r&&(n.max=-1,n.min=-99),n.viewPortMin=n.min,n.viewPortMax=n.max,t.dataPointYSums=l}},T.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,i,n,a,s=t.axisY.dataInfo,o=t.axisX.dataInfo,r=!1,l=0;l<t.dataSeriesIndexes.length;l++){var h=this.data[t.dataSeriesIndexes[l]],d=0,c=!1,u=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var p=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-(1/0),f=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((h.dataPoints[d].x&&h.dataPoints[d].x.getTime||"dateTime"===h.xValueType)&&(r=!0),d=0;d<h.dataPoints.length;d++){if("undefined"==typeof h.dataPoints[d].x&&(h.dataPoints[d].x=d),h.dataPoints[d].x.getTime?(r=!0,e=h.dataPoints[d].x.getTime()):e=h.dataPoints[d].x,(i=h.dataPoints[d].y)&&i.length&&(n=Math.min.apply(null,i),a=Math.max.apply(null,i)),e<o.min&&(o.min=e),e>o.max&&(o.max=e),n<s.min&&(s.min=n),a>s.max&&(s.max=a),0<d){var m=e-h.dataPoints[d-1].x;0>m&&(m*=-1),o.minDiff>m&&0!==m&&(o.minDiff=m)}if(!(e<p)||c){if(!c&&(c=!0,0<d)){d-=2;continue}if(e>f&&!u)u=!0;else if(e>f&&u)continue;h.dataPoints[d].label&&(t.axisX.labels[e]=h.dataPoints[d].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),null!==i&&(n<s.viewPortMin&&(s.viewPortMin=n),a>s.viewPortMax&&(s.viewPortMax=a))}}this.plotInfo.axisXValueType=h.xValueType=r?"dateTime":"number"}},T.prototype.getDataPointAtXY=function(t,e,i){i=i||!1;for(var n=[],a=this._dataInRenderedOrder.length-1;0<=a;a--){var s=null;(s=this._dataInRenderedOrder[a].getDataPointAtXY(t,e,i))&&n.push(s)}for(t=null,e=!1,i=0;i<n.length;i++)if(("line"===n[i].dataSeries.type||"stepLine"===n[i].dataSeries.type||"area"===n[i].dataSeries.type||"stepArea"===n[i].dataSeries.type)&&(a=m("markerSize",n[i].dataPoint,n[i].dataSeries)||8,n[i].distance<=a/2)){e=!0;break}for(i=0;i<n.length;i++)e&&"line"!==n[i].dataSeries.type&&"stepLine"!==n[i].dataSeries.type&&"area"!==n[i].dataSeries.type&&"stepArea"!==n[i].dataSeries.type||(t?n[i].distance<=t.distance&&(t=n[i]):t=n[i]);return t},T.prototype.getObjectAtXY=function(t,e,i){var n=null;if(i=this.getDataPointAtXY(t,e,i||!1))n=i.dataSeries.dataPointIds[i.dataPointIndex];else if(B)n=p(t,e,this._eventManager.ghostCtx);else for(i=0;i<this.legend.items.length;i++){var a=this.legend.items[i];t>=a.x1&&t<=a.x2&&e>=a.y1&&e<=a.y2&&(n=a.id)}return n},T.prototype.getAutoFontSize=function(t,e,i){return t/=400,Math.round(Math.min(this.width,this.height)*t)},T.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},T.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},T.prototype.attachEvent=function(t){this._events.push(t)},T.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],i=t.changedTouches,n=i?i[0]:t,a=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=q(n),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&1<i.length)){a=q(n),a.time=new Date;try{var s=a.y-this._lastTouchData.y,o=a.time-this._lastTouchData.time;if(15<Math.abs(s)&&(this._lastTouchData.scroll||200>o)){this._lastTouchData.scroll=!0;var r=window.parent||window;r&&r.scrollBy&&r.scrollBy(0,-s)}}catch(l){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(i=0;i<e.length;i++)a=e[i],s=document.createEvent("MouseEvent"),s.initMouseEvent(a,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(s),t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()}}},T.prototype._mouseEventHandler=function(t){if(this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else{t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),"undefined"==typeof t.target&&t.srcElement&&(t.target=t.srcElement);var e,i,n=q(t),a=t.type;if(t.which?i=3==t.which:t.button&&(i=2==t.button),!i){if(T.capturedEventParam)e=T.capturedEventParam,"mouseup"===a&&(T.capturedEventParam=null,e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",e.chart._mouseEventHandler,!1)),e.hasOwnProperty(a)&&e[a].call(e.context,n.x,n.y);else if(this._events){for(i=0;i<this._events.length;i++)if(this._events[i].hasOwnProperty(a)){e=this._events[i];var s=e.bounds;if(n.x>=s.x1&&n.x<=s.x2&&n.y>=s.y1&&n.y<=s.y2){e[a].call(e.context,n.x,n.y),"mousedown"===a&&!0===e.capture?(T.capturedEventParam=e,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.body.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===a&&(e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",this._mouseEventHandler,!1));break}e=null}t.target.style.cursor=e&&e.cursor?e.cursor:this._defaultCursor}this._toolTip&&this._toolTip.enabled&&(a=this.plotArea,(n.x<a.x1||n.x>a.x2||n.y<a.y1||n.y>a.y2)&&this._toolTip.hide()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}}},T.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint="none"!==this.plotInfo.axisPlacement?{x:t,y:e,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}:{x:t,y:e}},T.prototype._plotAreaMouseUp=function(t,e){var i,n;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var a=0,a=this.axisX.lineCoordinates,a="xySwapped"===this.plotInfo.axisPlacement?e-this.dragStartPoint.y:this.dragStartPoint.x-t;if(Math.abs(this.axisX.maximum-this.axisX.minimum),2<Math.abs(a)){if(this.panEnabled)a=!1,n=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum?(n=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=n,this.axisX.sessionVariables.internalMaximum+=n,a=!0):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum&&(n=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum,this.axisX.sessionVariables.internalMaximum-=n,this.axisX.sessionVariables.internalMinimum-=n,a=!0),a&&this.render();else if(this.zoomEnabled){if(this.resetOverlayedCanvas(),!this.dragStartPoint)return;"xySwapped"===this.plotInfo.axisPlacement?(i=Math.min(this.dragStartPoint.y,e),n=Math.max(this.dragStartPoint.y,e),1<Math.abs(i-n)&&(a=this.axisX.lineCoordinates,n=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/a.height*(n-a.y1),a=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/a.height*(i-a.y1),n=Math.max(n,this.axisX.dataInfo.min),a=Math.min(a,this.axisX.dataInfo.max),Math.abs(a-n)>2*Math.abs(this.axisX.dataInfo.minDiff)&&(this.axisX.sessionVariables.internalMinimum=n,this.axisX.sessionVariables.internalMaximum=a,this.render()))):"normal"===this.plotInfo.axisPlacement&&(n=Math.min(this.dragStartPoint.x,t),i=Math.max(this.dragStartPoint.x,t),1<Math.abs(n-i)&&(a=this.axisX.lineCoordinates,n=(this.axisX.maximum-this.axisX.minimum)/a.width*(n-a.x1)+this.axisX.minimum,a=(this.axisX.maximum-this.axisX.minimum)/a.width*(i-a.x1)+this.axisX.minimum,n=Math.max(n,this.axisX.dataInfo.min),a=Math.min(a,this.axisX.dataInfo.max),Math.abs(a-n)>2*Math.abs(this.axisX.dataInfo.minDiff)&&(this.axisX.sessionVariables.internalMinimum=n,this.axisX.sessionVariables.internalMaximum=a,this.render())))}this._ignoreNextEvent=!0,this.zoomEnabled&&"none"===this._zoomButton.style.display&&(b(this._zoomButton,this._resetButton),x(this,this._zoomButton,"pan"),x(this,this._resetButton,"reset"))}}this.isDrag=!1},T.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var i=0,n=0,n=this.axisX.lineCoordinates;if("xySwapped"===this.plotInfo.axisPlacement?(i=e-this.dragStartPoint.y,n=Math.abs(this.axisX.maximum-this.axisX.minimum)/n.height*i):(i=this.dragStartPoint.x-t,n=Math.abs(this.axisX.maximum-this.axisX.minimum)/n.width*i),2<Math.abs(i)&&8>Math.abs(i)&&(this.panEnabled||this.zoomEnabled)?this._toolTip.hide():!this._toolTip.enabled||this.panEnabled||this.zoomEnabled||this._toolTip.mouseMoveHandler(t,e),2<Math.abs(i)&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+n,this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+n,i=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-a(this.axisX.interval,this.axisX.intervalType)?(i=this.axisX._absoluteMinimum-a(this.axisX.interval,this.axisX.intervalType)-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=i,this.axisX.sessionVariables.internalMaximum+=i):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+a(this.axisX.interval,this.axisX.intervalType)&&(i=this.axisX.sessionVariables.internalMaximum-(this.axisX._absoluteMaximum+a(this.axisX.interval,this.axisX.intervalType)),this.axisX.sessionVariables.internalMaximum-=i,this.axisX.sessionVariables.internalMinimum-=i);var s=this;clearTimeout(this._panTimerId),this._panTimerId=setTimeout(function(){s.render()},0)}else this.zoomEnabled&&(i=this.plotArea,this.resetOverlayedCanvas(),n=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillStyle="#A0ABB8","xySwapped"===this.plotInfo.axisPlacement?this.overlaidCanvasCtx.fillRect(i.x1,this.dragStartPoint.y,i.x2-i.x1,e-this.dragStartPoint.y):"normal"===this.plotInfo.axisPlacement&&this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,i.y1,t-this.dragStartPoint.x,i.y2-i.y1),this.overlaidCanvasCtx.globalAlpha=n)}else this._toolTip.enabled&&this._toolTip.mouseMoveHandler(t,e);
},T.prototype.preparePlotArea=function(){var t=this.plotArea,e=this.axisY?this.axisY:this.axisY2;!B&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),this.axisX&&e?(t.x1=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:e.lineCoordinates.x1,t.y1=this.axisX.lineCoordinates.y1<e.lineCoordinates.y1?this.axisX.lineCoordinates.y1:e.lineCoordinates.y1,t.x2=this.axisX.lineCoordinates.x2>e.lineCoordinates.x2?this.axisX.lineCoordinates.x2:e.lineCoordinates.x2,t.y2=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:e.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1):(e=this.layoutManager.getFreeSpace(),t.x1=e.x1,t.x2=e.x2,t.y1=e.y1,t.y2=e.y2,t.width=e.width,t.height=e.height),B||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1))},T.prototype.getPixelCoordinatesOnPlotArea=function(t,e){return{x:this.axisX.getPixelCoordinatesOnAxis(t).x,y:this.axisY.getPixelCoordinatesOnAxis(e).y}},T.prototype.renderIndexLabels=function(t){t=t||this.plotArea.ctx,t.textBaseline="middle";for(var e=this.plotArea,i=0;i<this._indexLabels.length;i++){var n,a,s,o=this._indexLabels[i];t.fillStyle=m("indexLabelFontColor",o.dataPoint,o.dataSeries),t.font=f("indexLabel",o.dataPoint,o.dataSeries);var r=this.replaceKeywordsWithValue(m("indexLabel",o.dataPoint,o.dataSeries),o.dataPoint,o.dataSeries,null,o.indexKeyword),l=t.measureText(r).width,h=m("indexLabelFontSize",o.dataPoint,o.dataSeries),d=m("indexLabelPlacement",o.dataPoint,o.dataSeries),c=m("indexLabelOrientation",o.dataPoint,o.dataSeries),u=s=0,p=0,g=0,g=u=p=0,v=o.direction,u=o.dataSeries.axisX,g=o.dataSeries.axisY;o.dataPoint.x<u.minimum||o.dataPoint.x>u.maximum||o.dataPoint.y<g.minimum||o.dataPoint.y>g.maximum||("column"===o.chartType||"stackedColumn"===o.chartType||"stackedColumn100"===o.chartType||"bar"===o.chartType||"stackedBar"===o.chartType||"stackedBar100"===o.chartType||"candlestick"===o.chartType||"ohlc"===o.chartType||"rangeColumn"===o.chartType||"rangeBar"===o.chartType?(u=g=5,Math.abs(o.bounds.x1,o.bounds.x2),Math.abs(o.bounds.y1,o.bounds.y2),"normal"===this.plotInfo.axisPlacement?("inside"!==d?(u=e.y1,p=e.y2):(u=o.bounds.y1,p=o.bounds.y2),"horizontal"===c?(n=o.point.x-l/2,a=0<=v?o.point.y-h/2-g<u+h/2?"auto"===d?Math.min(Math.max(o.point.y,u)+h/2+1,p-h/2-g):Math.min(u+h/2+1,p-h/2-g):Math.min(o.point.y-h/2-g+1,p-h/2-g):o.point.y+h/2+g>p-h/2-1?"auto"===d?Math.max(Math.min(o.point.y,p)-h/2-1,u+h/2+g):Math.max(p-h/2-1,u+h/2+g):Math.max(o.point.y+h/2+g,u+h/2+g)):"vertical"===c&&(n=o.point.x,a=0<=v?o.point.y-g<u+l+1?"auto"===d?Math.min(Math.max(o.point.y,u)+l+1,p):Math.min(u+l+1,p):Math.min(o.point.y-g,p-1):o.point.y+l+g>p-1?"auto"===d?Math.max(Math.min(o.point.y,p)-g,u):Math.max(p-1,u):Math.max(o.point.y+l+g,u),s=-90)):"xySwapped"===this.plotInfo.axisPlacement&&("inside"!==d?(g=e.x1,p=e.x2):(g=o.bounds.x1,p=o.bounds.x2),"horizontal"===c?(a=o.point.y,n=0<=v?o.point.x+u>p-l?"auto"===d?Math.max(Math.min(o.point.x,p)-l,g):Math.max(p-l,g):Math.max(o.point.x+u,g):o.point.x-l-u<g?"auto"===d?Math.min(Math.max(o.point.x,g)+1,p):Math.min(g+1,p):Math.min(o.point.x-l-u,p)):"vertical"===c&&(a=o.point.y+l/2,n=0<=v?o.point.x+h/2+u>p-h/2?"auto"===d?Math.max(Math.min(o.point.x,p)-h/2,g):Math.max(p-h/2,g):Math.max(o.point.x+h/2+u,g):o.point.x-h/2-u<g+h/2?"auto"===d?Math.min(Math.max(o.point.x,g)+h/2,p+h/2):Math.min(g+h/2,p+h/2):Math.min(o.point.x-h/2-u,p+h/2),s=-90))):(g=5,"horizontal"===c?(n=o.point.x-l/2,"bubble"===o.chartType&&(g=-h/2),a=0<v?Math.max(o.point.y-h/2-g,e.y1+h/2):Math.min(o.point.y+h/2+g,e.y2-h/2)):"vertical"===c&&(n=o.point.x,"bubble"===o.chartType&&(g=-l/2),a=0<v?Math.max(o.point.y-g,e.y1+l):Math.min(o.point.y+l+g,e.y2),s=-90)),t.save(),t.translate(n,a),t.rotate(Math.PI/180*s),t.fillText(r,0,0),t.restore())}return{source:t,dest:this.plotArea.ctx,animationCallback:et.fadeInAnimation,easingFunction:et.easing.easeInQuad,animationBase:0,startTimePercent:.7}},T.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;e.save();var n=this.plotArea;e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip();for(var n=[],a=0;a<t.dataSeriesIndexes.length;a++){var s=t.dataSeriesIndexes[a],o=this.data[s];e.lineWidth=o.lineThickness;var r=o.dataPoints,l=o.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:s},l=d(l),i.strokeStyle=l,i.lineWidth=0<o.lineThickness?Math.max(o.lineThickness,4):0,l=o._colorSet[0],e.strokeStyle=l;var h,c,u=!0,p=0;if(e.beginPath(),0<r.length){for(var f=!1,p=0;p<r.length;p++)if(h=r[p].x.getTime?r[p].x.getTime():r[p].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax))if("number"!=typeof r[p].y)0<p&&(e.stroke(),B&&i.stroke()),f=!0;else{h=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(h-t.axisX.conversionParameters.minimum)+.5<<0,c=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(r[p].y-t.axisY.conversionParameters.minimum)+.5<<0;var m=o.dataPointIds[p];if(this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:p,x1:h,y1:c},u||f?(e.beginPath(),e.moveTo(h,c),B&&(i.beginPath(),i.moveTo(h,c)),f=u=!1):(e.lineTo(h,c),B&&i.lineTo(h,c),0==p%500&&(e.stroke(),e.beginPath(),e.moveTo(h,c),B&&(i.stroke(),i.beginPath(),i.moveTo(h,c)))),0<r[p].markerSize||0<o.markerSize){var g=o.getMarkerProperties(p,h,c,e);n.push(g),m=d(m),B&&n.push({x:h,y:c,ctx:i,type:g.type,size:g.size,color:m,borderColor:m,borderThickness:g.borderThickness})}(r[p].indexLabel||o.indexLabel)&&this._indexLabels.push({chartType:"line",dataPoint:r[p],dataSeries:o,point:{x:h,y:c},direction:0<=r[p].y?1:-1,color:l})}e.stroke(),B&&i.stroke()}}return it.drawMarkers(n),e.restore(),e.beginPath(),B&&i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}},T.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;e.save();var n=this.plotArea;e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip();for(var n=[],a=0;a<t.dataSeriesIndexes.length;a++){var s=t.dataSeriesIndexes[a],o=this.data[s];e.lineWidth=o.lineThickness;var r=o.dataPoints,l=o.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:s},l=d(l),i.strokeStyle=l,i.lineWidth=0<o.lineThickness?Math.max(o.lineThickness,4):0,l=o._colorSet[0],e.strokeStyle=l;var h,c,u=!0,p=0;if(e.beginPath(),0<r.length){for(var f=!1,p=0;p<r.length;p++)if(h=r[p].getTime?r[p].x.getTime():r[p].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax))if("number"!=typeof r[p].y)0<p&&(e.stroke(),B&&i.stroke()),f=!0;else{var m=c;h=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(h-t.axisX.conversionParameters.minimum)+.5<<0,c=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(r[p].y-t.axisY.conversionParameters.minimum)+.5<<0;var g=o.dataPointIds[p];this._eventManager.objectMap[g]={id:g,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:p,x1:h,y1:c},u||f?(e.beginPath(),e.moveTo(h,c),B&&(i.beginPath(),i.moveTo(h,c)),f=u=!1):(e.lineTo(h,m),B&&i.lineTo(h,m),e.lineTo(h,c),B&&i.lineTo(h,c),0==p%500&&(e.stroke(),e.beginPath(),e.moveTo(h,c),B&&(i.stroke(),i.beginPath(),i.moveTo(h,c)))),(0<r[p].markerSize||0<o.markerSize)&&(m=o.getMarkerProperties(p,h,c,e),n.push(m),g=d(g),B&&n.push({x:h,y:c,ctx:i,type:m.type,size:m.size,color:g,borderColor:g,borderThickness:m.borderThickness})),(r[p].indexLabel||o.indexLabel)&&this._indexLabels.push({chartType:"stepLine",dataPoint:r[p],dataSeries:o,point:{x:h,y:c},direction:0<=r[p].y?1:-1,color:l})}e.stroke(),B&&i.stroke()}}return it.drawMarkers(n),e.restore(),e.beginPath(),B&&i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}},T.prototype.renderSpline=function(t){function e(t){if(t=k(t,2),0<t.length){i.beginPath(),B&&n.beginPath(),i.moveTo(t[0].x,t[0].y),B&&n.moveTo(t[0].x,t[0].y);for(var e=0;e<t.length-3;e+=3)i.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),B&&n.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),0<e&&0===e%3e3&&(i.stroke(),i.beginPath(),i.moveTo(t[e+3].x,t[e+3].y),B&&(n.stroke(),n.beginPath(),n.moveTo(t[e+3].x,t[e+3].y)));i.stroke(),B&&n.stroke()}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;i.save();var a=this.plotArea;i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip();for(var a=[],s=0;s<t.dataSeriesIndexes.length;s++){var o=t.dataSeriesIndexes[s],r=this.data[o];i.lineWidth=r.lineThickness;var l=r.dataPoints,h=r.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:o},h=d(h),n.strokeStyle=h,n.lineWidth=0<r.lineThickness?Math.max(r.lineThickness,4):0,h=r._colorSet[0],i.strokeStyle=h;var c,u,p=0,f=[];if(i.beginPath(),0<l.length)for(p=0;p<l.length;p++)if(c=l[p].getTime?l[p].x.getTime():l[p].x,!(c<t.axisX.dataInfo.viewPortMin||c>t.axisX.dataInfo.viewPortMax))if("number"!=typeof l[p].y)0<p&&(e(f),f=[]);else{c=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(c-t.axisX.conversionParameters.minimum)+.5<<0,u=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(l[p].y-t.axisY.conversionParameters.minimum)+.5<<0;var m=r.dataPointIds[p];if(this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:p,x1:c,y1:u},f[f.length]={x:c,y:u},0<l[p].markerSize||0<r.markerSize){var g=r.getMarkerProperties(p,c,u,i);a.push(g),m=d(m),B&&a.push({x:c,y:u,ctx:n,type:g.type,size:g.size,color:m,borderColor:m,borderThickness:g.borderThickness})}(l[p].indexLabel||r.indexLabel)&&this._indexLabels.push({chartType:"spline",dataPoint:l[p],dataSeries:r,point:{x:c,y:u},direction:0<=l[p].y?1:-1,color:h})}e(f)}return it.drawMarkers(a),i.restore(),i.beginPath(),B&&n.beginPath(),{source:i,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}};var Z=function(t,e,i,n,a,s,o,r,l,h,d,c,u){"undefined"==typeof u&&(u=1),o=o||0,r=r||"black";var p=15<n-e&&15<a-i?8:.35*Math.min(n-e,a-i);t.beginPath(),t.moveTo(e,i),t.save(),t.fillStyle=s,t.globalAlpha=u,t.fillRect(e,i,n-e,a-i),t.globalAlpha=1,0<o&&(u=0===o%2?0:.5,t.beginPath(),t.lineWidth=o,t.strokeStyle=r,t.moveTo(e,i),t.rect(e-u,i-u,n-e+2*u,a-i+2*u),t.stroke()),t.restore(),!0===l&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(n-p,i+p),t.lineTo(n,i),t.closePath(),o=t.createLinearGradient((n+e)/2,i+p,(n+e)/2,i),o.addColorStop(0,s),o.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=o,t.fill(),t.restore()),!0===h&&(t.save(),t.beginPath(),t.moveTo(e,a),t.lineTo(e+p,a-p),t.lineTo(n-p,a-p),t.lineTo(n,a),t.closePath(),o=t.createLinearGradient((n+e)/2,a-p,(n+e)/2,a),o.addColorStop(0,s),o.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=o,t.fill(),t.restore()),!0===d&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(e+p,a-p),t.lineTo(e,a),t.closePath(),o=t.createLinearGradient(e+p,(a+i)/2,e,(a+i)/2),o.addColorStop(0,s),o.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=o,t.fill(),t.restore()),!0===c&&(t.save(),t.beginPath(),t.moveTo(n,i),t.lineTo(n-p,i+p),t.lineTo(n-p,a-p),t.lineTo(n,a),o=t.createLinearGradient(n-p,(a+i)/2,n,(a+i)/2),o.addColorStop(0,s),o.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=o,o.addColorStop(0,s),o.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=o,t.fill(),t.closePath(),t.restore())};T.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a,s=null,o=this.plotArea,r=0,l=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)<<0,r=Math.min(.15*this.width,.9*(this.plotArea.width/t.plotType.totalDataSeries))<<0,h=t.axisX.dataInfo.minDiff,c=.9*(o.width/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(h)/t.plotType.totalDataSeries)<<0;for(c>r?c=r:1/0===h?c=r:1>c&&(c=1),e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip()),o=0;o<t.dataSeriesIndexes.length;o++){var h=t.dataSeriesIndexes[o],u=this.data[h],p=u.dataPoints;if(0<p.length)for(var f=!!(5<c&&u.bevelEnabled),r=0;r<p.length;r++)if(a=p[r].getTime?p[r].x.getTime():p[r].x,!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&"number"==typeof p[r].y){i=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(a-t.axisX.conversionParameters.minimum)+.5<<0,n=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(p[r].y-t.axisY.conversionParameters.minimum)+.5<<0,i=i-t.plotType.totalDataSeries*c/2+(t.previousDataSeriesCount+o)*c<<0;var m,g=i+c<<0;0<=p[r].y?m=l:(m=n,n=l),n>m&&(m=n=m),s=p[r].color?p[r].color:u._colorSet[r%u._colorSet.length],Z(e,i,n,g,m,s,0,null,f&&0<=p[r].y,0>p[r].y&&f,!1,!1,u.fillOpacity),s=u.dataPointIds[r],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:r,x1:i,y1:n,x2:g,y2:m},s=d(s),B&&Z(this._eventManager.ghostCtx,i,n,g,m,s,0,null,!1,!1,!1,!1),(p[r].indexLabel||u.indexLabel)&&this._indexLabels.push({chartType:"column",dataPoint:p[r],dataSeries:u,point:{x:i+(g-i)/2,y:0<=p[r].y?n:m},direction:0<=p[r].y?1:-1,bounds:{x1:i,y1:Math.min(n,m),x2:g,y2:Math.max(n,m)},color:s})}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),t=Math.min(l,t.axisY.boundingRect.y2),{source:e,dest:this.plotArea.ctx,animationCallback:et.yScaleAnimation,easingFunction:et.easing.easeOutQuart,animationBase:t}}},T.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n=null,a=this.plotArea,s=[],o=[],r=0,l=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)<<0,r=.15*this.width<<0,h=t.axisX.dataInfo.minDiff,c=.9*(a.width/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(h)/t.plotType.plotUnits.length)<<0;for(c>r?c=r:1/0===h?c=r:1>c&&(c=1),e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var u=t.dataSeriesIndexes[h],p=this.data[u],f=p.dataPoints;if(0<f.length){var m=!!(5<c&&p.bevelEnabled);for(e.strokeStyle="#4572A7 ",r=0;r<f.length;r++)if(n=f[r].x.getTime?f[r].x.getTime():f[r].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[r].y){a=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(n-t.axisX.conversionParameters.minimum)+.5<<0,i=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(f[r].y-t.axisY.conversionParameters.minimum);var g,v=a-t.plotType.plotUnits.length*c/2+t.index*c<<0,y=v+c<<0;if(0<=f[r].y){var x=s[n]?s[n]:0;i-=x,g=l-x,s[n]=x+(g-i)}else x=o[n]?o[n]:0,g=i+x,i=l+x,o[n]=x+(g-i);n=f[r].color?f[r].color:p._colorSet[r%p._colorSet.length],Z(e,v,i,y,g,n,0,null,m&&0<=f[r].y,0>f[r].y&&m,!1,!1,p.fillOpacity),n=p.dataPointIds[r],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:r,x1:v,y1:i,x2:y,y2:g},n=d(n),B&&Z(this._eventManager.ghostCtx,v,i,y,g,n,0,null,!1,!1,!1,!1),(f[r].indexLabel||p.indexLabel)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:f[r],dataSeries:p,point:{x:a,y:0<=f[r].y?i:g},direction:0<=f[r].y?1:-1,bounds:{x1:v,y1:Math.min(i,g),x2:y,y2:Math.max(i,g)},color:n})}}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),t=Math.min(l,t.axisY.boundingRect.y2),{source:e,dest:this.plotArea.ctx,animationCallback:et.yScaleAnimation,easingFunction:et.easing.easeOutQuart,animationBase:t}}},T.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n=null,a=this.plotArea,s=[],o=[],r=0,l=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)<<0,r=.15*this.width<<0,h=t.axisX.dataInfo.minDiff,c=.9*(a.width/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(h)/t.plotType.plotUnits.length)<<0;for(c>r?c=r:1/0===h?c=r:1>c&&(c=1),e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var u=t.dataSeriesIndexes[h],p=this.data[u],f=p.dataPoints;if(0<f.length)for(var m=!!(5<c&&p.bevelEnabled),r=0;r<f.length;r++)if(n=f[r].x.getTime?f[r].x.getTime():f[r].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[r].y){a=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(n-t.axisX.conversionParameters.minimum)+.5<<0,i=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*((0!==t.dataPointYSums[n]?100*(f[r].y/t.dataPointYSums[n]):0)-t.axisY.conversionParameters.minimum);var g,v=a-t.plotType.plotUnits.length*c/2+t.index*c<<0,y=v+c<<0;if(0<=f[r].y){var x=s[n]?s[n]:0;i-=x,g=l-x,s[n]=x+(g-i)}else x=o[n]?o[n]:0,g=i+x,i=l+x,o[n]=x+(g-i);n=f[r].color?f[r].color:p._colorSet[r%p._colorSet.length],Z(e,v,i,y,g,n,0,null,m&&0<=f[r].y,0>f[r].y&&m,!1,!1,p.fillOpacity),n=p.dataPointIds[r],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:r,x1:v,y1:i,x2:y,y2:g},n=d(n),B&&Z(this._eventManager.ghostCtx,v,i,y,g,n,0,null,!1,!1,!1,!1),(f[r].indexLabel||p.indexLabel)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:f[r],dataSeries:p,point:{x:a,y:0<=f[r].y?i:g},direction:0<=f[r].y?1:-1,bounds:{x1:v,y1:Math.min(i,g),x2:y,y2:Math.max(i,g)},color:n})}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),t=Math.min(l,t.axisY.boundingRect.y2),{source:e,dest:this.plotArea.ctx,animationCallback:et.yScaleAnimation,easingFunction:et.easing.easeOutQuart,animationBase:t}}},T.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a,s=null,o=this.plotArea,r=0,l=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)<<0,r=Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0,h=t.axisX.dataInfo.minDiff,c=.9*(o.height/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(h)/t.plotType.totalDataSeries)<<0;for(c>r?c=r:1/0===h?c=r:1>c&&(c=1),e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip()),o=0;o<t.dataSeriesIndexes.length;o++){var h=t.dataSeriesIndexes[o],u=this.data[h],p=u.dataPoints;if(0<p.length){var f=!!(5<c&&u.bevelEnabled);for(e.strokeStyle="#4572A7 ",r=0;r<p.length;r++)if(a=p[r].getTime?p[r].x.getTime():p[r].x,!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&"number"==typeof p[r].y){n=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(a-t.axisX.conversionParameters.minimum)+.5<<0,i=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(p[r].y-t.axisY.conversionParameters.minimum)+.5<<0,n=n-t.plotType.totalDataSeries*c/2+(t.previousDataSeriesCount+o)*c<<0;var m,g=n+c<<0;0<=p[r].y?m=l:(m=i,i=l),s=p[r].color?p[r].color:u._colorSet[r%u._colorSet.length],Z(e,m,n,i,g,s,0,null,f,!1,!1,!1,u.fillOpacity),s=u.dataPointIds[r],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:r,x1:m,y1:n,x2:i,y2:g},s=d(s),B&&Z(this._eventManager.ghostCtx,m,n,i,g,s,0,null,!1,!1,!1,!1),this._indexLabels.push({chartType:"bar",dataPoint:p[r],dataSeries:u,point:{x:0<=p[r].y?i:m,y:n+(g-n)/2},direction:0<=p[r].y?1:-1,bounds:{x1:Math.min(m,i),y1:n,x2:Math.max(m,i),y2:g},color:s})}}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),t=Math.max(l,t.axisX.boundingRect.x2),{source:e,dest:this.plotArea.ctx,animationCallback:et.xScaleAnimation,easingFunction:et.easing.easeOutQuart,animationBase:t}}},T.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n=null,a=this.plotArea,s=[],o=[],r=0,l=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)<<0,r=.15*this.height<<0,h=t.axisX.dataInfo.minDiff,c=.9*(a.height/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(h)/t.plotType.plotUnits.length)<<0;for(c>r?c=r:1/0===h?c=r:1>c&&(c=1),e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var u=t.dataSeriesIndexes[h],p=this.data[u],f=p.dataPoints;if(0<f.length){var m=!!(5<c&&p.bevelEnabled);for(e.strokeStyle="#4572A7 ",r=0;r<f.length;r++)if(n=f[r].x.getTime?f[r].x.getTime():f[r].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[r].y){a=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(n-t.axisX.conversionParameters.minimum)+.5<<0,i=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(f[r].y-t.axisY.conversionParameters.minimum);var g,v=a-t.plotType.plotUnits.length*c/2+t.index*c<<0,y=v+c<<0;if(0<=f[r].y){var x=s[n]?s[n]:0;g=l+x,i+=x,s[n]=x+(i-g)}else x=o[n]?o[n]:0,g=i-x,i=l-x,o[n]=x+(i-g);n=f[r].color?f[r].color:p._colorSet[r%p._colorSet.length],Z(e,g,v,i,y,n,0,null,m,!1,!1,!1,p.fillOpacity),n=p.dataPointIds[r],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:r,x1:g,y1:v,x2:i,y2:y},n=d(n),B&&Z(this._eventManager.ghostCtx,g,v,i,y,n,0,null,!1,!1,!1,!1),this._indexLabels.push({chartType:"stackedBar",dataPoint:f[r],dataSeries:p,point:{x:0<=f[r].y?i:g,y:a},direction:0<=f[r].y?1:-1,bounds:{x1:Math.min(g,i),y1:v,x2:Math.max(g,i),y2:y},color:n})}}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),t=Math.max(l,t.axisX.boundingRect.x2),{source:e,dest:this.plotArea.ctx,animationCallback:et.xScaleAnimation,easingFunction:et.easing.easeOutQuart,animationBase:t}}},T.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n=null,a=this.plotArea,s=[],o=[],r=0,l=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)<<0,r=.15*this.height<<0,h=t.axisX.dataInfo.minDiff,c=.9*(a.height/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(h)/t.plotType.plotUnits.length)<<0;for(c>r?c=r:1/0===h?c=r:1>c&&(c=1),e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var u=t.dataSeriesIndexes[h],p=this.data[u],f=p.dataPoints;if(0<f.length){var m=!!(5<c&&p.bevelEnabled);for(e.strokeStyle="#4572A7 ",r=0;r<f.length;r++)if(n=f[r].x.getTime?f[r].x.getTime():f[r].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[r].y){a=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(n-t.axisX.conversionParameters.minimum)+.5<<0,i=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*((0!==t.dataPointYSums[n]?100*(f[r].y/t.dataPointYSums[n]):0)-t.axisY.conversionParameters.minimum);var g,v=a-t.plotType.plotUnits.length*c/2+t.index*c<<0,y=v+c<<0;if(0<=f[r].y){var x=s[n]?s[n]:0;g=l+x,i+=x,s[n]=x+(i-g)}else x=o[n]?o[n]:0,g=i-x,i=l-x,o[n]=x+(i-g);n=f[r].color?f[r].color:p._colorSet[r%p._colorSet.length],Z(e,g,v,i,y,n,0,null,m,!1,!1,!1,p.fillOpacity),n=p.dataPointIds[r],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:r,x1:g,y1:v,x2:i,y2:y},n=d(n),B&&Z(this._eventManager.ghostCtx,g,v,i,y,n,0,null,!1,!1,!1,!1),this._indexLabels.push({chartType:"stackedBar100",dataPoint:f[r],dataSeries:p,point:{x:0<=f[r].y?i:g,y:a},direction:0<=f[r].y?1:-1,bounds:{x1:Math.min(g,i),y1:v,x2:Math.max(g,i),y2:y},color:n})}}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),t=Math.max(l,t.axisX.boundingRect.x2),{source:e,dest:this.plotArea.ctx,animationCallback:et.xScaleAnimation,easingFunction:et.easing.easeOutQuart,animationBase:t}}},T.prototype.renderArea=function(t){function e(){x&&(0<h.lineThickness&&i.stroke(),0>=t.axisY.minimum&&0<=t.axisY.maximum?m=y:0>t.axisY.maximum?m=s.y1:0<t.axisY.minimum&&(m=a.y2),i.lineTo(u,m),i.lineTo(x.x,m),i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),i.globalAlpha=1,B&&(n.lineTo(u,m),n.lineTo(x.x,m),n.closePath(),n.fill()),i.beginPath(),i.moveTo(u,p),n.beginPath(),n.moveTo(u,p),x={x:u,y:p})}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,s=t.axisY.lineCoordinates,o=[],r=this.plotArea;for(i.save(),B&&n.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),B&&(n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip()),r=0;r<t.dataSeriesIndexes.length;r++){var l=t.dataSeriesIndexes[r],h=this.data[l],c=h.dataPoints,o=h.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:l},o=d(o),n.fillStyle=o;var u,p,f,m,o=[],g=!0,v=0,y=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)+.5<<0,x=null;if(0<c.length){var b=h._colorSet[v%h._colorSet.length];i.fillStyle=b,i.strokeStyle=b,i.lineWidth=h.lineThickness;for(var _=!0;v<c.length;v++)if(f=c[v].x.getTime?c[v].x.getTime():c[v].x,!(f<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax))if("number"!=typeof c[v].y)e(),_=!0;else{u=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(f-t.axisX.conversionParameters.minimum)+.5<<0,p=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(c[v].y-t.axisY.conversionParameters.minimum)+.5<<0,g||_?(i.beginPath(),i.moveTo(u,p),x={x:u,y:p},B&&(n.beginPath(),n.moveTo(u,p)),_=g=!1):(i.lineTo(u,p),B&&n.lineTo(u,p),0==v%250&&e());var w=h.dataPointIds[v];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:v,x1:u,y1:p},0!==c[v].markerSize&&(0<c[v].markerSize||0<h.markerSize)&&(f=h.getMarkerProperties(v,u,p,i),o.push(f),w=d(w),B&&o.push({x:u,y:p,ctx:n,type:f.type,size:f.size,color:w,borderColor:w,borderThickness:f.borderThickness})),(c[v].indexLabel||h.indexLabel)&&this._indexLabels.push({chartType:"area",dataPoint:c[v],dataSeries:h,point:{x:u,y:p},direction:0<=c[v].y?1:-1,color:b})}e(),it.drawMarkers(o)}}return i.restore(),B&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}},T.prototype.renderSplineArea=function(t){function e(){var e=k(y,2);if(0<e.length){i.beginPath(),i.moveTo(e[0].x,e[0].y),B&&(n.beginPath(),n.moveTo(e[0].x,e[0].y));for(var o=0;o<e.length-3;o+=3)i.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y),B&&n.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y);0<h.lineThickness&&i.stroke(),0>=t.axisY.minimum&&0<=t.axisY.maximum?f=g:0>t.axisY.maximum?f=s.y1:0<t.axisY.minimum&&(f=a.y2),v={x:e[0].x,y:e[0].y},i.lineTo(e[e.length-1].x,f),i.lineTo(v.x,f),i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),i.globalAlpha=1,B&&(n.lineTo(e[e.length-1].x,f),n.lineTo(v.x,f),n.closePath(),n.fill())}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,s=t.axisY.lineCoordinates,o=[],r=this.plotArea;for(i.save(),B&&n.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),B&&(n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip()),r=0;r<t.dataSeriesIndexes.length;r++){var l=t.dataSeriesIndexes[r],h=this.data[l],c=h.dataPoints,o=h.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:l},o=d(o),n.fillStyle=o;var u,p,f,o=[],m=0,g=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)+.5<<0,v=null,y=[];if(0<c.length){for(color=h._colorSet[m%h._colorSet.length],i.fillStyle=color,i.strokeStyle=color,i.lineWidth=h.lineThickness;m<c.length;m++)if(u=c[m].x.getTime?c[m].x.getTime():c[m].x,!(u<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax))if("number"!=typeof c[m].y)0<m&&(e(),y=[]);else{u=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(u-t.axisX.conversionParameters.minimum)+.5<<0,p=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(c[m].y-t.axisY.conversionParameters.minimum)+.5<<0;var x=h.dataPointIds[m];if(this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:m,x1:u,y1:p},y[y.length]={x:u,y:p},0!==c[m].markerSize&&(0<c[m].markerSize||0<h.markerSize)){var b=h.getMarkerProperties(m,u,p,i);o.push(b),x=d(x),B&&o.push({x:u,y:p,ctx:n,type:b.type,size:b.size,color:x,borderColor:x,borderThickness:b.borderThickness})}(c[m].indexLabel||h.indexLabel)&&this._indexLabels.push({chartType:"splineArea",dataPoint:c[m],dataSeries:h,point:{x:u,y:p},direction:0<=c[m].y?1:-1,color:color})}e(),it.drawMarkers(o)}}return i.restore(),B&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}},T.prototype.renderStepArea=function(t){function e(){x&&(0<h.lineThickness&&i.stroke(),0>=t.axisY.minimum&&0<=t.axisY.maximum?m=y:0>t.axisY.maximum?m=s.y1:0<t.axisY.minimum&&(m=a.y2),i.lineTo(u,m),i.lineTo(x.x,m),i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),i.globalAlpha=1,B&&(n.lineTo(u,m),n.lineTo(x.x,m),n.closePath(),n.fill()),i.beginPath(),i.moveTo(u,p),n.beginPath(),n.moveTo(u,p),x={x:u,y:p})}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,s=t.axisY.lineCoordinates,o=[],r=this.plotArea;for(i.save(),B&&n.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),B&&(n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip()),r=0;r<t.dataSeriesIndexes.length;r++){var l=t.dataSeriesIndexes[r],h=this.data[l],c=h.dataPoints,o=h.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:l},o=d(o),n.fillStyle=o;var u,p,f,m,o=[],g=!0,v=0,y=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)+.5<<0,x=null,b=!1;if(0<c.length){var _=h._colorSet[v%h._colorSet.length];for(i.fillStyle=_,i.strokeStyle=_,i.lineWidth=h.lineThickness;v<c.length;v++)if(f=c[v].x.getTime?c[v].x.getTime():c[v].x,!(f<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax)){var w=p;"number"!=typeof c[v].y?(e(),b=!0):(u=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(f-t.axisX.conversionParameters.minimum)+.5<<0,p=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(c[v].y-t.axisY.conversionParameters.minimum)+.5<<0,g||b?(i.beginPath(),i.moveTo(u,p),x={x:u,y:p},B&&(n.beginPath(),n.moveTo(u,p)),b=g=!1):(i.lineTo(u,w),B&&n.lineTo(u,w),i.lineTo(u,p),B&&n.lineTo(u,p),0==v%250&&e()),w=h.dataPointIds[v],
this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:v,x1:u,y1:p},0!==c[v].markerSize&&(0<c[v].markerSize||0<h.markerSize)&&(f=h.getMarkerProperties(v,u,p,i),o.push(f),w=d(w),B&&o.push({x:u,y:p,ctx:n,type:f.type,size:f.size,color:w,borderColor:w,borderThickness:f.borderThickness})),(c[v].indexLabel||h.indexLabel)&&this._indexLabels.push({chartType:"stepArea",dataPoint:c[v],dataSeries:h,point:{x:u,y:p},direction:0<=c[v].y?1:-1,color:_}))}e(),it.drawMarkers(o)}}return i.restore(),B&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}},T.prototype.renderStackedArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a,s=null,o=[],r=this.plotArea,h=[],c=[],u=0,p=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)<<0,f=this._eventManager.ghostCtx;for(B&&f.beginPath(),e.save(),B&&f.save(),e.beginPath(),e.rect(r.x1,r.y1,r.width,r.height),e.clip(),B&&(f.beginPath(),f.rect(r.x1,r.y1,r.width,r.height),f.clip()),xValuePresent=[],r=0;r<t.dataSeriesIndexes.length;r++){var m=t.dataSeriesIndexes[r],g=this.data[m],v=g.dataPoints;for(g.dataPointIndexes=[],u=0;u<v.length;u++)m=v[u].x.getTime?v[u].x.getTime():v[u].x,g.dataPointIndexes[m]=u,xValuePresent[m]||(c.push(m),xValuePresent[m]=!0);c.sort(l)}for(r=0;r<t.dataSeriesIndexes.length;r++){var m=t.dataSeriesIndexes[r],g=this.data[m],v=g.dataPoints,y=!0,x=[],u=g.id;if(this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:m},u=d(u),f.fillStyle=u,0<c.length){for(s=g._colorSet[0],e.fillStyle=s,e.strokeStyle=s,e.lineWidth=g.lineThickness,u=0;u<c.length;u++){a=c[u];var b=null,b=0<=g.dataPointIndexes[a]?v[g.dataPointIndexes[a]]:{x:a,y:0};if(!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&"number"==typeof b.y){i=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(a-t.axisX.conversionParameters.minimum)+.5<<0,n=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(b.y-t.axisY.conversionParameters.minimum);var _=h[a]?h[a]:0;if(n-=_,x.push({x:i,y:p-_}),h[a]=p-n,y)e.beginPath(),e.moveTo(i,n),B&&(f.beginPath(),f.moveTo(i,n)),y=!1;else if(e.lineTo(i,n),B&&f.lineTo(i,n),0==u%250){for(0<g.lineThickness&&e.stroke();0<x.length;){var w=x.pop();e.lineTo(w.x,w.y),B&&f.lineTo(w.x,w.y)}e.closePath(),e.globalAlpha=g.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),e.moveTo(i,n),B&&(f.closePath(),f.fill(),f.beginPath(),f.moveTo(i,n)),x.push({x:i,y:p-_})}if(0<=g.dataPointIndexes[a]){var T=g.dataPointIds[g.dataPointIndexes[a]];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:g.dataPointIndexes[a],x1:i,y1:n}}0<=g.dataPointIndexes[a]&&0!==b.markerSize&&(0<b.markerSize||0<g.markerSize)&&(a=g.getMarkerProperties(u,i,n,e),o.push(a),markerColor=d(T),B&&o.push({x:i,y:n,ctx:f,type:a.type,size:a.size,color:markerColor,borderColor:markerColor,borderThickness:a.borderThickness})),(b.indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:b,dataSeries:g,point:{x:i,y:n},direction:0<=v[u].y?1:-1,color:s})}}for(0<g.lineThickness&&e.stroke();0<x.length;)w=x.pop(),e.lineTo(w.x,w.y),B&&f.lineTo(w.x,w.y);e.closePath(),e.globalAlpha=g.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),e.moveTo(i,n),B&&(f.closePath(),f.fill(),f.beginPath(),f.moveTo(i,n))}delete g.dataPointIndexes}return it.drawMarkers(o),e.restore(),B&&f.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}},T.prototype.renderStackedArea100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a,s=null,o=this.plotArea,r=[],h=[],c=[],u=0,p=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(0-t.axisY.conversionParameters.minimum)<<0,f=.15*this.width<<0,m=t.axisX.dataInfo.minDiff,m=.9*o.width/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(m)<<0,g=this._eventManager.ghostCtx;for(e.save(),B&&g.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),B&&(g.beginPath(),g.rect(o.x1,o.y1,o.width,o.height),g.clip()),xValuePresent=[],o=0;o<t.dataSeriesIndexes.length;o++){var v=t.dataSeriesIndexes[o],y=this.data[v],x=y.dataPoints;for(y.dataPointIndexes=[],u=0;u<x.length;u++)v=x[u].x.getTime?x[u].x.getTime():x[u].x,y.dataPointIndexes[v]=u,xValuePresent[v]||(c.push(v),xValuePresent[v]=!0);c.sort(l)}for(o=0;o<t.dataSeriesIndexes.length;o++){var v=t.dataSeriesIndexes[o],y=this.data[v],x=y.dataPoints,b=!0,s=y.id;this._eventManager.objectMap[s]={objectType:"dataSeries",dataSeriesIndex:v},s=d(s),g.fillStyle=s,1==x.length&&(m=f),1>m?m=1:m>f&&(m=f);var _=[];if(0<c.length){for(s=y._colorSet[u%y._colorSet.length],e.fillStyle=s,e.strokeStyle=s,e.lineWidth=y.lineThickness,u=0;u<c.length;u++){a=c[u];var w=null,w=0<=y.dataPointIndexes[a]?x[y.dataPointIndexes[a]]:{x:a,y:0};if(!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&"number"==typeof w.y){n=0!==t.dataPointYSums[a]?100*(w.y/t.dataPointYSums[a]):0,i=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(a-t.axisX.conversionParameters.minimum)+.5<<0,n=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(n-t.axisY.conversionParameters.minimum);var T=h[a]?h[a]:0;if(n-=T,_.push({x:i,y:p-T}),h[a]=p-n,b)e.beginPath(),e.moveTo(i,n),B&&(g.beginPath(),g.moveTo(i,n)),b=!1;else if(e.lineTo(i,n),B&&g.lineTo(i,n),0==u%250){for(0<y.lineThickness&&e.stroke();0<_.length;){var k=_.pop();e.lineTo(k.x,k.y),B&&g.lineTo(k.x,k.y)}e.closePath(),e.globalAlpha=y.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),e.moveTo(i,n),B&&(g.closePath(),g.fill(),g.beginPath(),g.moveTo(i,n)),_.push({x:i,y:p-T})}if(0<=y.dataPointIndexes[a]){var C=y.dataPointIds[y.dataPointIndexes[a]];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:y.dataPointIndexes[a],x1:i,y1:n}}0<=y.dataPointIndexes[a]&&0!==w.markerSize&&(0<w.markerSize||0<y.markerSize)&&(a=y.getMarkerProperties(u,i,n,e),r.push(a),markerColor=d(C),B&&r.push({x:i,y:n,ctx:g,type:a.type,size:a.size,color:markerColor,borderColor:markerColor,borderThickness:a.borderThickness})),(w.indexLabel||y.indexLabel)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:w,dataSeries:y,point:{x:i,y:n},direction:0<=x[u].y?1:-1,color:s})}}for(0<y.lineThickness&&e.stroke();0<_.length;)k=_.pop(),e.lineTo(k.x,k.y),B&&g.lineTo(k.x,k.y);e.closePath(),e.globalAlpha=y.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),e.moveTo(i,n),B&&(g.closePath(),g.fill(),g.beginPath(),g.moveTo(i,n))}delete y.dataPointIndexes}return it.drawMarkers(r),e.restore(),B&&g.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}},T.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=t.dataSeriesIndexes.length;if(!(0>=i)){var n,a,s=this.plotArea,o=0,r=.15*this.width<<0,o=t.axisX.dataInfo.minDiff,i=.9*(s.width/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(o)/i)<<0;e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(s.x1,s.y1,s.width,s.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var l=-(1/0),h=1/0,c=0;c<t.dataSeriesIndexes.length;c++)for(var u=t.dataSeriesIndexes[c],p=this.data[u],f=p.dataPoints,m=0,o=0;o<f.length;o++)n=n=f[o].getTime?f[o].x.getTime():f[o].x,n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax||"undefined"==typeof f[o].z||(m=f[o].z,m>l&&(l=m),m<h&&(h=m));for(var g=25*Math.PI,s=Math.max(Math.pow(.25*Math.min(s.height,s.width)/2,2)*Math.PI,g),c=0;c<t.dataSeriesIndexes.length;c++)if(u=t.dataSeriesIndexes[c],p=this.data[u],f=p.dataPoints,1==f.length&&(i=r),1>i?i=1:i>r&&(i=r),0<f.length)for(e.strokeStyle="#4572A7 ",o=0;o<f.length;o++)if(n=n=f[o].getTime?f[o].x.getTime():f[o].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[o].y){n=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(n-t.axisX.conversionParameters.minimum)+.5<<0,a=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(f[o].y-t.axisY.conversionParameters.minimum)+.5<<0;var m=f[o].z,v=2*Math.max(Math.sqrt((l===h?s/2:g+(s-g)/(l-h)*(m-h))/Math.PI)<<0,1),m=p.getMarkerProperties(o,e);m.size=v,e.globalAlpha=p.fillOpacity,it.drawMarker(n,a,e,m.type,m.size,m.color,m.borderColor,m.borderThickness),e.globalAlpha=1;var y=p.dataPointIds[o];this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:o,x1:n,y1:a,size:v},v=d(y),B&&it.drawMarker(n,a,this._eventManager.ghostCtx,m.type,m.size,v,v,m.borderThickness),(f[o].indexLabel||p.indexLabel)&&this._indexLabels.push({chartType:"bubble",dataPoint:f[o],dataSeries:p,point:{x:n,y:a},direction:1,color:null})}return e.restore(),B&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:et.fadeInAnimation,easingFunction:et.easing.easeInQuad,animationBase:0}}},T.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=t.dataSeriesIndexes.length;if(!(0>=i)){var n,a,s=this.plotArea,o=0,r=.15*this.width<<0,o=t.axisX.dataInfo.minDiff,i=.9*(s.width/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(o)/i)<<0;e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(s.x1,s.y1,s.width,s.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var l=0;l<t.dataSeriesIndexes.length;l++){var h=t.dataSeriesIndexes[l],c=this.data[h],u=c.dataPoints;if(1==u.length&&(i=r),1>i?i=1:i>r&&(i=r),0<u.length){e.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(s.height,s.width)/2,2);for(var p=0,f=0,o=0;o<u.length;o++)if(n=n=u[o].getTime?u[o].x.getTime():u[o].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof u[o].y){n=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(n-t.axisX.conversionParameters.minimum)+.5<<0,a=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(u[o].y-t.axisY.conversionParameters.minimum)+.5<<0;var m=c.getMarkerProperties(o,n,a,e);e.globalAlpha=c.fillOpacity,it.drawMarker(m.x,m.y,m.ctx,m.type,m.size,m.color,m.borderColor,m.borderThickness),e.globalAlpha=1,Math.sqrt((p-n)*(p-n)+(f-a)*(f-a))<Math.min(m.size,5)&&u.length>Math.min(this.plotArea.width,this.plotArea.height)||(p=c.dataPointIds[o],this._eventManager.objectMap[p]={id:p,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:o,x1:n,y1:a},p=d(p),B&&it.drawMarker(m.x,m.y,this._eventManager.ghostCtx,m.type,m.size,p,p,m.borderThickness),(u[o].indexLabel||c.indexLabel)&&this._indexLabels.push({chartType:"scatter",dataPoint:u[o],dataSeries:c,point:{x:n,y:a},direction:1,color:null}),p=n,f=a)}}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:et.fadeInAnimation,easingFunction:et.easing.easeInQuad,animationBase:0}}},T.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var n,a,s,o,r,l,h=null,h=this.plotArea,c=0,c=.015*this.width;n=t.axisX.dataInfo.minDiff;var u=.7*h.width/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(n)<<0;u>c?u=c:1/0===n?u=c:1>u&&(u=1),e.save(),B&&i.save(),e.beginPath(),e.rect(h.x1,h.y1,h.width,h.height),e.clip(),B&&(i.rect(h.x1,h.y1,h.width,h.height),i.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var f=t.dataSeriesIndexes[p],m=this.data[f],g=m.dataPoints;if(0<g.length)for(var v=!!(5<u&&m.bevelEnabled),c=0;c<g.length;c++)if(l=g[c].getTime?g[c].x.getTime():g[c].x,!(l<t.axisX.dataInfo.viewPortMin||l>t.axisX.dataInfo.viewPortMax)&&null!==g[c].y&&g[c].y.length&&"number"==typeof g[c].y[0]&&"number"==typeof g[c].y[1]&&"number"==typeof g[c].y[2]&&"number"==typeof g[c].y[3]){n=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(l-t.axisX.conversionParameters.minimum)+.5<<0,a=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(g[c].y[0]-t.axisY.conversionParameters.minimum)+.5<<0,s=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(g[c].y[1]-t.axisY.conversionParameters.minimum)+.5<<0,o=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(g[c].y[2]-t.axisY.conversionParameters.minimum)+.5<<0,r=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(g[c].y[3]-t.axisY.conversionParameters.minimum)+.5<<0;var y=n-u/2<<0,x=y+u<<0,h=g[c].color?g[c].color:m._colorSet[0],b=Math.round(Math.max(1,.15*u)),_=0===b%2?0:.5,w=m.dataPointIds[c];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:c,x1:y,y1:a,x2:x,y2:s,x3:n,y3:o,x4:n,y4:r,borderThickness:b,color:h},e.strokeStyle=h,e.beginPath(),e.lineWidth=b,i.lineWidth=Math.max(b,4),"candlestick"===m.type?(e.moveTo(n-_,s),e.lineTo(n-_,Math.min(a,r)),e.stroke(),e.moveTo(n-_,Math.max(a,r)),e.lineTo(n-_,o),e.stroke(),Z(e,y,Math.min(a,r),x,Math.max(a,r),g[c].y[0]<=g[c].y[3]?m.risingColor:h,b,h,v,v,!1,!1,m.fillOpacity),B&&(h=d(w),i.strokeStyle=h,i.moveTo(n-_,s),i.lineTo(n-_,Math.min(a,r)),i.stroke(),i.moveTo(n-_,Math.max(a,r)),i.lineTo(n-_,o),i.stroke(),Z(i,y,Math.min(a,r),x,Math.max(a,r),h,0,null,!1,!1,!1,!1))):"ohlc"===m.type&&(e.moveTo(n-_,s),e.lineTo(n-_,o),e.stroke(),e.beginPath(),e.moveTo(n,a),e.lineTo(y,a),e.stroke(),e.beginPath(),e.moveTo(n,r),e.lineTo(x,r),e.stroke(),B&&(h=d(w),i.strokeStyle=h,i.moveTo(n-_,s),i.lineTo(n-_,o),i.stroke(),i.beginPath(),i.moveTo(n,a),i.lineTo(y,a),i.stroke(),i.beginPath(),i.moveTo(n,r),i.lineTo(x,r),i.stroke())),(g[c].indexLabel||m.indexLabel)&&this._indexLabels.push({chartType:m.type,dataPoint:g[c],dataSeries:m,point:{x:y+(x-y)/2,y:s},direction:1,bounds:{x1:y,y1:Math.min(s,o),x2:x,y2:Math.max(s,o)},color:h})}}return e.restore(),B&&i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:et.fadeInAnimation,easingFunction:et.easing.easeInQuad,animationBase:0}}},T.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a=null,s=this.plotArea,o=0,o=.03*this.width;i=t.axisX.dataInfo.minDiff;var r=.9*(s.width/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(i)/t.plotType.totalDataSeries)<<0;r>o?r=o:1/0===i?r=o:1>r&&(r=1),e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(s.x1,s.y1,s.width,s.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var l=0;l<t.dataSeriesIndexes.length;l++){var h=t.dataSeriesIndexes[l],c=this.data[h],u=c.dataPoints;if(0<u.length)for(var p=!!(5<r&&c.bevelEnabled),o=0;o<u.length;o++)if(n=u[o].getTime?u[o].x.getTime():u[o].x,!(n<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&null!==u[o].y&&u[o].y.length&&"number"==typeof u[o].y[0]&&"number"==typeof u[o].y[1]){a=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(n-t.axisX.conversionParameters.minimum)+.5<<0,s=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(u[o].y[0]-t.axisY.conversionParameters.minimum)+.5<<0,i=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(u[o].y[1]-t.axisY.conversionParameters.minimum)+.5<<0;var f=a-t.plotType.totalDataSeries*r/2+(t.previousDataSeriesCount+l)*r<<0,m=f+r<<0,a=u[o].color?u[o].color:c._colorSet[o%c._colorSet.length];if(s>i){var g=s,s=i;i=g}g=c.dataPointIds[o],this._eventManager.objectMap[g]={id:g,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:o,x1:f,y1:s,x2:m,y2:i},Z(e,f,s,m,i,a,0,a,p,p,!1,!1,c.fillOpacity),a=d(g),B&&Z(this._eventManager.ghostCtx,f,s,m,i,a,0,null,!1,!1,!1,!1),(u[o].indexLabel||c.indexLabel)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:u[o],dataSeries:c,indexKeyword:0,point:{x:f+(m-f)/2,y:u[o].y[1]>=u[o].y[0]?i:s},direction:u[o].y[1]>=u[o].y[0]?-1:1,bounds:{x1:f,y1:Math.min(s,i),x2:m,y2:Math.max(s,i)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:u[o],dataSeries:c,indexKeyword:1,point:{x:f+(m-f)/2,y:u[o].y[1]>=u[o].y[0]?s:i},direction:u[o].y[1]>=u[o].y[0]?1:-1,bounds:{x1:f,y1:Math.min(s,i),x2:m,y2:Math.max(s,i)},color:a}))}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:et.fadeInAnimation,easingFunction:et.easing.easeInQuad,animationBase:0}}},T.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var i,n,a,s=null,o=this.plotArea,r=0,r=Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0;i=t.axisX.dataInfo.minDiff;var l=.9*(o.height/Math.abs(t.axisX.maximum-t.axisX.minimum)*Math.abs(i)/t.plotType.totalDataSeries)<<0;l>r?l=r:1/0===i?l=r:1>l&&(l=1),e.save(),B&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),B&&(this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var c=t.dataSeriesIndexes[h],u=this.data[c],p=u.dataPoints;if(0<p.length){var f=!!(5<l&&u.bevelEnabled);for(e.strokeStyle="#4572A7 ",r=0;r<p.length;r++)if(a=p[r].getTime?p[r].x.getTime():p[r].x,!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&null!==p[r].y&&p[r].y.length&&"number"==typeof p[r].y[0]&&"number"==typeof p[r].y[1]){o=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(p[r].y[0]-t.axisY.conversionParameters.minimum)+.5<<0,i=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(p[r].y[1]-t.axisY.conversionParameters.minimum)+.5<<0,n=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(a-t.axisX.conversionParameters.minimum)+.5<<0,n=n-t.plotType.totalDataSeries*l/2+(t.previousDataSeriesCount+h)*l<<0;var m=n+l<<0;o>i&&(s=o,o=i,i=s),s=p[r].color?p[r].color:u._colorSet[r%u._colorSet.length],Z(e,o,n,i,m,s,0,null,f,!1,!1,!1,u.fillOpacity),s=u.dataPointIds[r],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:r,x1:o,y1:n,x2:i,y2:m},s=d(s),B&&Z(this._eventManager.ghostCtx,o,n,i,m,s,0,null,!1,!1,!1,!1),(p[r].indexLabel||u.indexLabel)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:p[r],dataSeries:u,indexKeyword:0,point:{x:p[r].y[1]>=p[r].y[0]?o:i,y:n+(m-n)/2},direction:p[r].y[1]>=p[r].y[0]?-1:1,bounds:{x1:Math.min(o,i),y1:n,x2:Math.max(o,i),y2:m},color:s}),this._indexLabels.push({chartType:"rangeBar",dataPoint:p[r],dataSeries:u,indexKeyword:1,point:{x:p[r].y[1]>=p[r].y[0]?i:o,y:n+(m-n)/2},direction:p[r].y[1]>=p[r].y[0]?1:-1,bounds:{x1:Math.min(o,i),y1:n,x2:Math.max(o,i),y2:m},color:s}))}}}return e.restore(),B&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:et.fadeInAnimation,easingFunction:et.easing.easeInQuad,animationBase:0}}},T.prototype.renderRangeArea=function(t){function e(){if(v){var t=null;0<l.lineThickness&&i.stroke();for(var e=o.length-1;0<=e;e--)t=o[e],i.lineTo(t.x,t.y),n.lineTo(t.x,t.y);if(i.closePath(),i.globalAlpha=l.fillOpacity,i.fill(),i.globalAlpha=1,n.fill(),0<l.lineThickness){for(i.beginPath(),i.moveTo(t.x,t.y),e=0;e<o.length;e++)t=o[e],i.lineTo(t.x,t.y);i.stroke()}i.beginPath(),i.moveTo(c,u),n.beginPath(),n.moveTo(c,u),v={x:c,y:u},o=[],o.push({x:c,y:p})}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=[],s=this.plotArea;for(i.save(),B&&n.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),B&&(n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var o=[],r=t.dataSeriesIndexes[s],l=this.data[r],h=l.dataPoints,a=l.id;this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:r},a=d(a),n.fillStyle=a;var c,u,p,f,a=[],m=!0,g=0,v=null;if(0<h.length){var y=l._colorSet[g%l._colorSet.length];i.fillStyle=y,i.strokeStyle=y,i.lineWidth=l.lineThickness;for(var x=!0;g<h.length;g++)if(f=h[g].x.getTime?h[g].x.getTime():h[g].x,!(f<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax))if(null!==h[g].y&&h[g].y.length&&"number"==typeof h[g].y[0]&&"number"==typeof h[g].y[1]){if(c=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(f-t.axisX.conversionParameters.minimum)+.5<<0,u=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(h[g].y[0]-t.axisY.conversionParameters.minimum)+.5<<0,p=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(h[g].y[1]-t.axisY.conversionParameters.minimum)+.5<<0,m||x?(i.beginPath(),i.moveTo(c,u),v={x:c,y:u},o=[],o.push({x:c,y:p}),B&&(n.beginPath(),n.moveTo(c,u)),x=m=!1):(i.lineTo(c,u),o.push({x:c,y:p}),B&&n.lineTo(c,u),0==g%250&&e()),f=l.dataPointIds[g],this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:g,x1:c,y1:u,y2:p},0!==h[g].markerSize&&(0<h[g].markerSize||0<l.markerSize)){var b=l.getMarkerProperties(g,c,p,i);a.push(b);var _=d(f);B&&a.push({x:c,y:p,ctx:n,type:b.type,size:b.size,color:_,borderColor:_,borderThickness:b.borderThickness}),b=l.getMarkerProperties(g,c,u,i),a.push(b),_=d(f),B&&a.push({x:c,y:u,ctx:n,type:b.type,size:b.size,color:_,borderColor:_,borderThickness:b.borderThickness})}(h[g].indexLabel||l.indexLabel)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:h[g],dataSeries:l,indexKeyword:0,point:{x:c,y:u},direction:h[g].y[0]<=h[g].y[1]?-1:1,color:y}),this._indexLabels.push({chartType:"rangeArea",dataPoint:h[g],dataSeries:l,indexKeyword:1,point:{x:c,y:p},direction:h[g].y[0]<=h[g].y[1]?1:-1,color:y}))}else e(),x=!0;e(),it.drawMarkers(a)}}return i.restore(),B&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}},T.prototype.renderRangeSplineArea=function(t){function e(){var t=k(f,2);if(0<t.length){i.beginPath(),i.moveTo(t[0].x,t[0].y),B&&(n.beginPath(),n.moveTo(t[0].x,t[0].y));for(var e=0;e<t.length-3;e+=3)i.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),B&&n.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y);for(0<r.lineThickness&&i.stroke(),t=k(m,2),i.lineTo(m[m.length-1].x,m[m.length-1].y),e=t.length-1;2<e;e-=3)i.bezierCurveTo(t[e-1].x,t[e-1].y,t[e-2].x,t[e-2].y,t[e-3].x,t[e-3].y),B&&n.bezierCurveTo(t[e-1].x,t[e-1].y,t[e-2].x,t[e-2].y,t[e-3].x,t[e-3].y);if(i.closePath(),i.globalAlpha=r.fillOpacity,i.fill(),i.globalAlpha=1,0<r.lineThickness){for(i.beginPath(),i.moveTo(m[m.length-1].x,m[m.length-1].y),e=t.length-1;2<e;e-=3)i.bezierCurveTo(t[e-1].x,t[e-1].y,t[e-2].x,t[e-2].y,t[e-3].x,t[e-3].y),B&&n.bezierCurveTo(t[e-1].x,t[e-1].y,t[e-2].x,t[e-2].y,t[e-3].x,t[e-3].y);i.stroke()}i.beginPath(),B&&(n.closePath(),n.fill())}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=[],s=this.plotArea;for(i.save(),B&&n.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),B&&(n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var o=t.dataSeriesIndexes[s],r=this.data[o],l=r.dataPoints,a=r.id;this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:o},a=d(a),n.fillStyle=a;var h,c,u,a=[],p=0,f=[],m=[];if(0<l.length){for(color=r._colorSet[p%r._colorSet.length],i.fillStyle=color,i.strokeStyle=color,i.lineWidth=r.lineThickness;p<l.length;p++)if(h=l[p].x.getTime?l[p].x.getTime():l[p].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax))if(null!==l[p].y&&l[p].y.length&&"number"==typeof l[p].y[0]&&"number"==typeof l[p].y[1]){h=t.axisX.conversionParameters.reference+t.axisX.conversionParameters.pixelPerUnit*(h-t.axisX.conversionParameters.minimum)+.5<<0,c=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(l[p].y[0]-t.axisY.conversionParameters.minimum)+.5<<0,u=t.axisY.conversionParameters.reference+t.axisY.conversionParameters.pixelPerUnit*(l[p].y[1]-t.axisY.conversionParameters.minimum)+.5<<0;var g=r.dataPointIds[p];if(this._eventManager.objectMap[g]={id:g,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:p,x1:h,y1:c,y2:u},f[f.length]={x:h,y:c},m[m.length]={x:h,y:u},0!==l[p].markerSize&&(0<l[p].markerSize||0<r.markerSize)){var v=r.getMarkerProperties(p,h,c,i);a.push(v);var y=d(g);B&&a.push({x:h,y:c,ctx:n,type:v.type,size:v.size,color:y,borderColor:y,borderThickness:v.borderThickness}),v=r.getMarkerProperties(p,h,u,i),a.push(v),y=d(g),B&&a.push({x:h,y:u,ctx:n,type:v.type,size:v.size,color:y,borderColor:y,borderThickness:v.borderThickness})}(l[p].indexLabel||r.indexLabel)&&(this._indexLabels.push({chartType:"splineArea",dataPoint:l[p],dataSeries:r,indexKeyword:0,point:{x:h,y:c},direction:l[p].y[0]<=l[p].y[1]?-1:1,color:color}),this._indexLabels.push({chartType:"splineArea",dataPoint:l[p],dataSeries:r,indexKeyword:1,point:{x:h,y:u},direction:l[p].y[0]<=l[p].y[1]?1:-1,color:color}))}else 0<p&&(e(),f=[],m=[]);e(),it.drawMarkers(a)}}return i.restore(),B&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:et.xClipAnimation,easingFunction:et.easing.linear,animationBase:0}}};var tt=function(t,e,i,n,a,s,o,r){if("undefined"==typeof r&&(r=1),!B){var l=Number((o%(2*Math.PI)).toFixed(8));Number((s%(2*Math.PI)).toFixed(8))===l&&(o-=1e-4)}t.save(),t.globalAlpha=r,"pie"===a?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,i,s,o,!1),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===a&&(t.beginPath(),t.arc(e.x,e.y,i,s,o,!1),t.arc(e.x,e.y,.6*i,o,s,!0),t.closePath(),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()};T.prototype.renderPie=function(t){function e(){if(h&&d){var t=0,e=0,i=0,n=0;for(T=0;T<d.length;T++){var a=d[T],s=h.dataPointIds[T],o={id:s,objectType:"dataPoint",dataPointIndex:T,dataSeriesIndex:0};f.push(o);var r=a.indexLabel?a.indexLabel:h.indexLabel?h.indexLabel:a.label?a.label:h.label?h.label:"";l._eventManager.objectMap[s]=o,o.center={x:x.x,y:x.y},o.y=a.y,o.radius=b,o.indexLabelText=l.replaceKeywordsWithValue(r,a,h,T),o.indexLabelPlacement=h.indexLabelPlacement,o.indexLabelLineColor=a.indexLabelLineColor?a.indexLabelLineColor:h.indexLabelLineColor?h.indexLabelLineColor:a.color?a.color:h._colorSet[T%h._colorSet.length],o.indexLabelLineThickness=a.indexLabelLineThickness?a.indexLabelLineThickness:h.indexLabelLineThickness,o.indexLabelFontColor=a.indexLabelFontColor?a.indexLabelFontColor:h.indexLabelFontColor,o.indexLabelFontStyle=a.indexLabelFontStyle?a.indexLabelFontStyle:h.indexLabelFontStyle,o.indexLabelFontWeight=a.indexLabelFontWeight?a.indexLabelFontWeight:h.indexLabelFontWeight,o.indexLabelFontSize=a.indexLabelFontSize?a.indexLabelFontSize:h.indexLabelFontSize,o.indexLabelFontFamily=a.indexLabelFontFamily?a.indexLabelFontFamily:h.indexLabelFontFamily,o.indexLabelBackgroundColor=a.indexLabelBackgroundColor?a.indexLabelBackgroundColor:h.indexLabelBackgroundColor?h.indexLabelBackgroundColor:null,o.indexLabelMaxWidth=a.indexLabelMaxWidth?a.indexLabelMaxWidth:h.indexLabelMaxWidth?h.indexLabelMaxWidth:.33*u.width,o.indexLabelWrap="undefined"!=typeof a.indexLabelWrap?a.indexLabelWrap:h.indexLabelWrap,o.startAngle=0===T?h.startAngle?h.startAngle/180*Math.PI:0:f[T-1].endAngle,o.startAngle=(o.startAngle+2*Math.PI)%(2*Math.PI),o.endAngle=o.startAngle+2*Math.PI/w*Math.abs(a.y),a=(o.endAngle+o.startAngle)/2,a=(a+2*Math.PI)%(2*Math.PI),o.midAngle=a,o.midAngle>Math.PI/2-v&&o.midAngle<Math.PI/2+v?((0===t||f[i].midAngle>o.midAngle)&&(i=T),t++):o.midAngle>3*Math.PI/2-v&&o.midAngle<3*Math.PI/2+v&&((0===e||f[n].midAngle>o.midAngle)&&(n=T),e++),o.hemisphere=a>Math.PI/2&&a<=3*Math.PI/2?"left":"right",o.indexLabelTextBlock=new S(l.plotArea.ctx,{fontSize:o.indexLabelFontSize,fontFamily:o.indexLabelFontFamily,fontColor:o.indexLabelFontColor,fontStyle:o.indexLabelFontStyle,fontWeight:o.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:o.indexLabelBackgroundColor,maxWidth:o.indexLabelMaxWidth,maxHeight:o.indexLabelWrap?5*o.indexLabelFontSize:1.5*o.indexLabelFontSize,text:o.indexLabelText,padding:0,textBaseline:"top"}),o.indexLabelTextBlock.measureText()}for(s=a=0,r=!1,T=0;T<d.length;T++)o=f[(i+T)%d.length],1<t&&o.midAngle>Math.PI/2-v&&o.midAngle<Math.PI/2+v&&(a<=t/2&&!r?(o.hemisphere="right",a++):(o.hemisphere="left",r=!0));for(r=!1,T=0;T<d.length;T++)o=f[(n+T)%d.length],1<e&&o.midAngle>3*Math.PI/2-v&&o.midAngle<3*Math.PI/2+v&&(s<=e/2&&!r?(o.hemisphere="left",s++):(o.hemisphere="right",r=!0))}}function i(t){var e=l.plotArea.ctx;for(e.clearRect(u.x1,u.y1,u.width,u.height),e.fillStyle=l.backgroundColor,e.fillRect(u.x1,u.y1,u.width,u.height),e=0;e<d.length;e++){var i=f[e].startAngle,n=f[e].endAngle;if(n>i){var a=.07*b*Math.cos(f[e].midAngle),s=.07*b*Math.sin(f[e].midAngle),o=!1;d[e].exploded?(1e-9<Math.abs(f[e].center.x-(x.x+a))||1e-9<Math.abs(f[e].center.y-(x.y+s)))&&(f[e].center.x=x.x+a*t,f[e].center.y=x.y+s*t,o=!0):(0<Math.abs(f[e].center.x-x.x)||0<Math.abs(f[e].center.y-x.y))&&(f[e].center.x=x.x+a*(1-t),f[e].center.y=x.y+s*(1-t),o=!0),o&&(a={},a.dataSeries=h,a.dataPoint=h.dataPoints[e],a.index=e,l._toolTip.highlightObjects([a])),tt(l.plotArea.ctx,f[e].center,f[e].radius,d[e].color?d[e].color:h._colorSet[e%h._colorSet.length],h.type,i,n,h.fillOpacity)}}for(t=l.plotArea.ctx,t.fillStyle="black",t.strokeStyle="grey",t.textBaseline="middle",t.lineJoin="round",e=e=0;e<d.length;e++)i=f[e],i.indexLabelText&&(i.indexLabelTextBlock.y-=i.indexLabelTextBlock.height/2,n=0,n="left"===i.hemisphere?"inside"!==h.indexLabelPlacement?-(i.indexLabelTextBlock.width+c):-i.indexLabelTextBlock.width/2:"inside"!==h.indexLabelPlacement?c:-i.indexLabelTextBlock.width/2,i.indexLabelTextBlock.x+=n,i.indexLabelTextBlock.render(!0),i.indexLabelTextBlock.x-=n,i.indexLabelTextBlock.y+=i.indexLabelTextBlock.height/2,"inside"!==i.indexLabelPlacement&&(n=i.center.x+b*Math.cos(i.midAngle),a=i.center.y+b*Math.sin(i.midAngle),t.strokeStyle=i.indexLabelLineColor,t.lineWidth=i.indexLabelLineThickness,t.beginPath(),t.moveTo(n,a),t.lineTo(i.indexLabelTextBlock.x,i.indexLabelTextBlock.y),t.lineTo(i.indexLabelTextBlock.x+("left"===i.hemisphere?-c:c),i.indexLabelTextBlock.y),t.stroke()),t.lineJoin="miter")}function n(t,e){var i=t.indexLabelTextBlock.x,n=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,a=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2,s=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,o=e.indexLabelTextBlock.x+e.indexLabelTextBlock.width,r=e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2;return!(t.indexLabelTextBlock.x+t.indexLabelTextBlock.width<e.indexLabelTextBlock.x-c||i>o+c||n>r+c||a<s-c)}function a(t,e){var i=0,i=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,n=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2,a=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,s=e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2;return i=e.indexLabelTextBlock.y>t.indexLabelTextBlock.y?a-n:i-s}function s(t){for(var e=null,i=1;i<d.length;i++){if(e=(t+i+f.length)%f.length,f[e].hemisphere!==f[t].hemisphere){e=null;break}if(f[e].indexLabelText&&e!==t&&(0>a(f[e],f[t])||("right"===f[t].hemisphere?f[e].indexLabelTextBlock.y>=f[t].indexLabelTextBlock.y:f[e].indexLabelTextBlock.y<=f[t].indexLabelTextBlock.y)))break;e=null}return e}function o(t,e){e=e||0;var i=0,n=x.y-1*_,r=x.y+1*_;if(0<=t&&t<d.length){var l=f[t];if(0>e&&l.indexLabelTextBlock.y<n||0<e&&l.indexLabelTextBlock.y>r)return 0;var h=e,c=0,u=0,u=c=c=0;for(0>h?l.indexLabelTextBlock.y-l.indexLabelTextBlock.height/2>n&&l.indexLabelTextBlock.y-l.indexLabelTextBlock.height/2+h<n&&(h=-(n-(l.indexLabelTextBlock.y-l.indexLabelTextBlock.height/2+h))):l.indexLabelTextBlock.y+l.indexLabelTextBlock.height/2<n&&l.indexLabelTextBlock.y+l.indexLabelTextBlock.height/2+h>r&&(h=l.indexLabelTextBlock.y+l.indexLabelTextBlock.height/2+h-r),
h=l.indexLabelTextBlock.y+h,n=0,n="right"===l.hemisphere?x.x+Math.sqrt(Math.pow(_,2)-Math.pow(h-x.y,2)):x.x-Math.sqrt(Math.pow(_,2)-Math.pow(h-x.y,2)),u=x.x+b*Math.cos(l.midAngle),c=x.y+b*Math.sin(l.midAngle),c=Math.sqrt(Math.pow(n-u,2)+Math.pow(h-c,2)),u=Math.acos(b/_),c=Math.acos((_*_+b*b-c*c)/(2*b*_)),h=c<u?h-l.indexLabelTextBlock.y:0,n=null,r=1;r<d.length;r++){if(n=(t-r+f.length)%f.length,f[n].hemisphere!==f[t].hemisphere){n=null;break}if(f[n].indexLabelText&&f[n].hemisphere===f[t].hemisphere&&n!==t&&(0>a(f[n],f[t])||("right"===f[t].hemisphere?f[n].indexLabelTextBlock.y<=f[t].indexLabelTextBlock.y:f[n].indexLabelTextBlock.y>=f[t].indexLabelTextBlock.y)))break;n=null}u=n,c=s(t),r=n=0,0>h?(r="right"===l.hemisphere?u:c,i=h,null!==r&&(u=-h,h=l.indexLabelTextBlock.y-l.indexLabelTextBlock.height/2-(f[r].indexLabelTextBlock.y+f[r].indexLabelTextBlock.height/2),h-u<m&&(n=-u,p++,r=o(r,n),+r.toFixed(y)>+n.toFixed(y)&&(i=h>m?-(h-m):-(u-(r-n)))))):0<h&&(r="right"===l.hemisphere?c:u,i=h,null!==r&&(u=h,h=f[r].indexLabelTextBlock.y-f[r].indexLabelTextBlock.height/2-(l.indexLabelTextBlock.y+l.indexLabelTextBlock.height/2),h-u<m&&(n=u,p++,r=o(r,n),+r.toFixed(y)<+n.toFixed(y)&&(i=h>m?h-m:u-(n-r))))),i&&(h=l.indexLabelTextBlock.y+i,n=0,n="right"===l.hemisphere?x.x+Math.sqrt(Math.pow(_,2)-Math.pow(h-x.y,2)):x.x-Math.sqrt(Math.pow(_,2)-Math.pow(h-x.y,2)),l.midAngle>Math.PI/2-v&&l.midAngle<Math.PI/2+v?(r=(t-1+f.length)%f.length,r=f[r],u=f[(t+1+f.length)%f.length],"left"===l.hemisphere&&"right"===r.hemisphere&&n>r.indexLabelTextBlock.x?n=r.indexLabelTextBlock.x-15:"right"===l.hemisphere&&"left"===u.hemisphere&&n<u.indexLabelTextBlock.x&&(n=u.indexLabelTextBlock.x+15)):l.midAngle>3*Math.PI/2-v&&l.midAngle<3*Math.PI/2+v&&(r=(t-1+f.length)%f.length,r=f[r],u=f[(t+1+f.length)%f.length],"right"===l.hemisphere&&"left"===r.hemisphere&&n<r.indexLabelTextBlock.x?n=r.indexLabelTextBlock.x+15:"left"===l.hemisphere&&"right"===u.hemisphere&&n>u.indexLabelTextBlock.x&&(n=u.indexLabelTextBlock.x-15)),l.indexLabelTextBlock.y=h,l.indexLabelTextBlock.x=n,l.indexLabelAngle=Math.atan2(l.indexLabelTextBlock.y-x.y,l.indexLabelTextBlock.x-x.x))}return i}function r(){var t=l.plotArea.ctx;t.fillStyle="grey",t.strokeStyle="grey",t.font="16px Arial",t.textBaseline="middle";for(var e=0,i=t=0,t=0;10>t&&(1>t||0<i);t++){if(b-=i,i=0,"inside"!==h.indexLabelPlacement){for(_=b*g,e=0;e<d.length;e++){var r=f[e];r.indexLabelTextBlock.x=x.x+_*Math.cos(r.midAngle),r.indexLabelTextBlock.y=x.y+_*Math.sin(r.midAngle),r.indexLabelAngle=r.midAngle,r.radius=b}for(var p,v,e=0;e<d.length;e++){var r=f[e],w=s(e);if(null!==w){p=f[e],v=f[w];var T=0,T=a(p,v)-m;if(0>T){for(var k=v=p=0;k<d.length;k++)k!==e&&f[k].hemisphere===r.hemisphere&&(f[k].indexLabelTextBlock.y<r.indexLabelTextBlock.y?p++:v++);k=T/(p+v||1)*v,p=-1*(T-k);var C=v=0;"right"===r.hemisphere?(v=o(e,k),p=-1*(T-v),C=o(w,p),+C.toFixed(y)<+p.toFixed(y)&&+v.toFixed(y)<=+k.toFixed(y)&&o(e,-(p-C))):(v=o(w,k),p=-1*(T-v),C=o(e,p),+C.toFixed(y)<+p.toFixed(y)&&+v.toFixed(y)<=+k.toFixed(y)&&o(w,-(p-C)))}}}}else for(e=0;e<d.length;e++)r=f[e],_="pie"===h.type?.7*b:.8*b,T=x.x+_*Math.cos(r.midAngle),k=x.y+_*Math.sin(r.midAngle),r.indexLabelTextBlock.x=T,r.indexLabelTextBlock.y=k;for(e=0;e<d.length;e++)r=f[e],T=r.indexLabelTextBlock.measureText(),0!==T.height&&0!==T.width&&(T=T=0,"right"===r.hemisphere?(T=u.x2-(r.indexLabelTextBlock.x+r.indexLabelTextBlock.width+c),T*=-1):T=u.x1-(r.indexLabelTextBlock.x-r.indexLabelTextBlock.width-c),0<T&&(Math.abs(r.indexLabelTextBlock.y-r.indexLabelTextBlock.height/2-x.y)<b||Math.abs(r.indexLabelTextBlock.y+r.indexLabelTextBlock.height/2-x.y)<b)&&(T/=Math.abs(Math.cos(r.indexLabelAngle)),9<T&&(T*=.3),T>i&&(i=T)),T=T=0,0<r.indexLabelAngle&&r.indexLabelAngle<Math.PI?(T=u.y2-(r.indexLabelTextBlock.y+r.indexLabelTextBlock.height/2+5),T*=-1):T=u.y1-(r.indexLabelTextBlock.y-r.indexLabelTextBlock.height/2-5),0<T&&Math.abs(r.indexLabelTextBlock.x-x.x)<b&&(T/=Math.abs(Math.sin(r.indexLabelAngle)),9<T&&(T*=.3),T>i&&(i=T)));for(e=function(t,e,i){for(var n=[],a=0;n.push(f[e]),e!==i;e=(e+1+d.length)%d.length);for(n.sort(function(t,e){return t.y-e.y}),e=0;e<n.length&&(i=n[e],a<t);e++)a+=i.indexLabelTextBlock.height,i.indexLabelTextBlock.text="",i.indexLabelText="",i.indexLabelTextBlock.measureText()},w=r=-1,k=C=0;k<d.length;k++)if(p=f[k],p.indexLabelText){var S=s(k);null!==S&&(v=f[S],T=0,T=a(p,v),0>T&&n(p,v)?(0>r&&(r=k),S!==r&&(w=S),C+=-T):0<C&&(e(C,r,w),w=r=-1,C=0))}0<C&&e(C,r,w)}}var l=this;if(!(0>=t.dataSeriesIndexes.length)){for(var h=this.data[t.dataSeriesIndexes[0]],d=h.dataPoints,c=10,u=this.plotArea,p=0,f=[],m=2,g=1.3,v=20/180*Math.PI,y=6,x={x:(u.x2+u.x1)/2,y:(u.y2+u.y1)/2},b="inside"===h.indexLabelPlacement?.92*Math.min(u.width,u.height)/2:.8*Math.min(u.width,u.height)/2,_=b*g,w=0,T=0;T<d.length;T++)w+=Math.abs(d[T].y);0!==w&&(this.pieDoughnutClickHandler=function(t){l.isAnimating||(t=t.dataPoint,t.exploded=!t.exploded,1<this.dataPoints.length&&l._animator.animate(0,500,function(t){i(t)}))},e(),r(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(t){var e=l.plotArea.ctx;for(e.clearRect(u.x1,u.y1,u.width,u.height),e.fillStyle=l.backgroundColor,e.fillRect(u.x1,u.y1,u.width,u.height),t=f[0].startAngle+2*Math.PI*t,e=0;e<d.length;e++){var i=0===e?f[e].startAngle:n,n=i+(f[e].endAngle-f[e].startAngle),a=!1;n>t&&(n=t,a=!0);var s=d[e].color?d[e].color:h._colorSet[e%h._colorSet.length];if(n>i&&tt(l.plotArea.ctx,f[e].center,f[e].radius,s,h.type,i,n,h.fillOpacity),a)break}},function(){l.disableToolTip=!1,l._animator.animate(0,l.animatedRender?500:0,function(t){i(t)})}))}},T.prototype.animationRequestId=null,T.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),T.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,C.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},C.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},C.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,x2:this.chart.width-this._rightOccupied,y2:this.chart.height-this._bottomOccupied,width:this.chart.width-this._rightOccupied-this._leftOccupied,height:this.chart.height-this._bottomOccupied-this._topOccupied}},C.prototype.reset=function(){this._topOccupied=0,this._bottomOccupied=3,this._rightOccupied=this._leftOccupied=0},t(S,w),S.prototype.render=function(t){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var i=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+i),"middle"===this.textBaseline&&(i=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var n=0,a=this.padding,s=null;for((0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,i,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,i=0;i<this._wrappedText.lines.length;i++)s=this._wrappedText.lines[i],"right"===this.horizontalAlign?n=this.width-s.width-this.padding:"left"===this.horizontalAlign?n=this.padding:"center"===this.horizontalAlign&&(n=(this.width-2*this.padding)/2-s.width/2+this.padding),this.ctx.fillText(s.text,n,a),a+=s.height;this.ctx.font=e,t&&this.ctx.restore()},S.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},S.prototype.measureText=function(){if(null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},S.prototype._getLineWithWidth=function(t,e,i){if(t=String(t),!t)return{text:"",width:0};var n=i=0,a=t.length-1,s=1/0;for(this.ctx.font=this._getFontString();n<=a;){var s=Math.floor((n+a)/2),o=t.substr(0,s+1);if(i=this.ctx.measureText(o).width,i<e)n=s+1;else{if(!(i>e))break;a=s-1}}return i>e&&1<o.length&&(o=o.substr(0,o.length-1),i=this.ctx.measureText(o).width),e=!0,o.length!==t.length&&" "!==t[o.length]||(e=!1),e&&(t=o.split(" "),1<t.length&&t.pop(),o=t.join(" "),i=this.ctx.measureText(o).width),{text:o,width:i}},S.prototype._wrapText=function(){var t=new String(o(this.text)),e=[],i=this.ctx.font,n=0,a=0;for(this.ctx.font=this._getFontString();0<t.length;){var s=this.maxHeight-2*this.padding,r=this._getLineWithWidth(t,this.maxWidth-2*this.padding,!1);r.height=this._lineHeight,e.push(r),a=Math.max(a,r.width),n+=r.height,t=o(t.slice(r.text.length,t.length)),s&&n>s&&(r=e.pop(),n-=r.height)}this._wrappedText={lines:e,width:a,height:n},this.width=a+2*this.padding,this.height=n+2*this.padding,this.ctx.font=i},S.prototype._getFontString=function(){return f("",this,null)},t(M,w),M.prototype.render=function(){if(this.text){var t,e,i=this.chart.layoutManager.getFreeSpace(),n=0,a=0,s=0,o=0,r=0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(o=i.width-2*this.margin,r=.5*i.height-2*this.margin,s=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(o=i.height-2*this.margin,r=.5*i.width-2*this.margin):"center"===this.horizontalAlign&&(o=i.width-2*this.margin,r=.5*i.height-2*this.margin));var r=new S(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:o,maxHeight:r,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"}),l=r.measureText();"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(a=this.margin,e="top"):"bottom"===this.verticalAlign&&(a=i.y2-this.margin-l.height,e="bottom"),"left"===this.horizontalAlign?n=i.x1+this.margin:"center"===this.horizontalAlign?n=i.x1+(o/2-l.width/2)+this.margin:"right"===this.horizontalAlign&&(n=i.x2-this.margin-l.width),t=this.horizontalAlign,this.width=l.width,this.height=l.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(n=i.x1+this.margin,a=i.y2-this.margin-(o/2-l.width/2),s=-90,e="left",this.width=l.height,this.height=l.width):"right"===this.horizontalAlign?(n=i.x2-this.margin,a=i.y1+this.margin+(o/2-l.width/2),s=90,e="right",this.width=l.height,this.height=l.width):"center"===this.horizontalAlign&&(a=i.y1+(i.height/2-l.height/2),n=i.x1+(i.width/2-l.width/2),e="center",this.width=l.width,this.height=l.height),t="center"),r.x=n,r.y=a,r.angle=s,r.horizontalAlign=t,r.render(!0),this.chart.layoutManager.registerSpace(e,{width:this.width+2*this.margin,height:this.height+2*this.margin}),this.bounds={x1:n,y1:a,x2:n+this.width,y2:a+this.height},this.ctx.textBaseline="top"}},t(A,w),A.prototype.render=function(){var t=this.chart.layoutManager.getFreeSpace(),e=null,i=0,n=0,a=0,s=0,o=[],r=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",e=this.verticalAlign,a=.9*t.width,s=.5*t.height):"center"===this.verticalAlign&&(this.orientation="vertical",e=this.horizontalAlign,a=.5*t.width,s=.9*t.height);for(var l=0;l<this.dataSeries.length;l++){var h=this.dataSeries[l],c=h.legendMarkerType?h.legendMarkerType:"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type&&"scatter"!==h.type&&"bubble"!==h.type||!h.markerType?E.getDefaultLegendMarker(h.type):h.markerType,u=h.legendText?h.legendText:h.name,p=h.legendMarkerColor?h.legendMarkerColor:h.markerColor?h.markerColor:h._colorSet[0],f=h.markerSize||"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type?.6*this.lineHeight:0,m=h.legendMarkerBorderColor?h.legendMarkerBorderColor:h.markerBorderColor,g=h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:h.markerBorderThickness?Math.max(1,Math.round(.2*f)):0;if("pie"!==h.type&&"doughnut"!==h.type&&"funnel"!==h.type)c={markerType:c,markerColor:p,text:u,textBlock:null,chartType:h.type,markerSize:f,lineColor:h._colorSet[0],dataSeriesIndex:h.index,dataPointIndex:null,markerBorderColor:m,markerBorderThickness:g},o.push(c);else for(var v=0;v<h.dataPoints.length;v++)g=h.dataPoints[v],c=g.legendMarkerType?g.legendMarkerType:h.legendMarkerType?h.legendMarkerType:E.getDefaultLegendMarker(h.type),u=g.legendText?g.legendText:h.legendText?h.legendText:g.name?g.name:"DataPoint: "+(v+1),p=g.legendMarkerColor?g.legendMarkerColor:h.legendMarkerColor?h.legendMarkerColor:g.color?g.color:h.color?h.color:h._colorSet[v%h._colorSet.length],f=0===g.markerSize||0===h.markerSize&&!g.markerSize?0:.6*this.lineHeight,m=g.legendMarkerBorderColor?g.legendMarkerBorderColor:h.legendMarkerBorderColor?h.legendMarkerBorderColor:g.markerBorderColor?g.markerBorderColor:h.markerBorderColor,g=g.legendMarkerBorderThickness?g.legendMarkerBorderThickness:h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:g.markerBorderThickness||h.markerBorderThickness?Math.max(1,Math.round(.2*f)):0,c={markerType:c,markerColor:p,text:u,textBlock:null,chartType:h.type,markerSize:f,dataSeriesIndex:l,dataPointIndex:v,markerBorderColor:m,markerBorderThickness:g},o.push(c)}if(0<o.length){for(h=null,l=v=0;l<o.length;l++)c=o[l],"horizontal"===this.orientation?(c.textBlock=new S(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:this.lineHeight,angle:0,text:c.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),c.textBlock.measureText(),(!h||h.width+c.textBlock.width+(0===h.width?0:this.horizontalSpacing)>a)&&(h={items:[],width:0},r.push(h),this.height=r.length*(c.textBlock.height+5)),c.textBlock.x=h.width,c.textBlock.y=0,h.width+=Math.round(c.textBlock.width+c.textBlock._lineHeight+(0===h.width?0:.5*c.textBlock._lineHeight))):(this.height+this.lineHeight<s?(h={items:[],width:0},r.push(h),this.height=r.length*this.lineHeight):(h=r[v],v=(v+1)%r.length),c.textBlock=new S(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:1.5*this.fontSize,angle:0,text:c.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),c.textBlock.measureText(),c.textBlock.x=h.width,c.textBlock.y=0,h.width+=c.textBlock.width+c.textBlock._lineHeight+(0===h.width?0:.5*c.textBlock._lineHeight)),h.items.push(c),this.width=Math.max(h.width,this.width);this.height=r.length*this.lineHeight}for("top"===this.verticalAlign?(n="left"===this.horizontalAlign?t.x1+2:"right"===this.horizontalAlign?t.x2-this.width-2:t.x1+t.width/2-this.width/2,i=t.y1):"center"===this.verticalAlign?(n="left"===this.horizontalAlign?t.x1+2:"right"===this.horizontalAlign?t.x2-this.width-2:t.x1+t.width/2-this.width/2,i=t.y1+t.height/2-this.height/2):"bottom"===this.verticalAlign&&(n="left"===this.horizontalAlign?t.x1+2:"right"===this.horizontalAlign?t.x2-this.width-2:t.x1+t.width/2-this.width/2,i=t.y2-this.height-5),this.items=o,l=0;l<this.items.length;l++)c=o[l],c.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[c.id]={id:c.id,objectType:"legendItem",legendItemIndex:l,dataSeriesIndex:c.dataSeriesIndex,dataPointIndex:c.dataPointIndex};for(l=0;l<r.length;l++)for(h=r[l],t=0;t<h.items.length;t++)c=h.items[t],s=c.textBlock.x+n+(0===t?.2*c.markerSize:.4*this.lineHeight+.2*c.markerSize),o=i+l*this.lineHeight,a=s,this.chart.data[c.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),"line"!==c.chartType&&"stepLine"!==c.chartType&&"spline"!==c.chartType||(this.ctx.strokeStyle=c.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(s-.1*this.lineHeight,o+this.lineHeight/2),this.ctx.lineTo(s+.7*this.lineHeight,o+this.lineHeight/2),this.ctx.stroke(),a-=.1*this.lineHeight),it.drawMarker(s+c.markerSize/2,o+this.lineHeight/2,this.ctx,c.markerType,c.markerSize,c.markerColor,c.markerBorderColor,c.markerBorderThickness),c.textBlock.x=s+Math.round(.9*this.lineHeight),c.textBlock.y=o,c.textBlock.render(!0),this.chart.data[c.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),s=d(c.id),this.ghostCtx.fillStyle=s,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(a,c.textBlock.y,c.textBlock.x+c.textBlock.width-a,c.textBlock.height),c.x1=this.chart._eventManager.objectMap[c.id].x1=a,c.y1=this.chart._eventManager.objectMap[c.id].y1=c.textBlock.y,c.x2=this.chart._eventManager.objectMap[c.id].x2=c.textBlock.x+c.textBlock.width,c.y2=this.chart._eventManager.objectMap[c.id].y2=c.textBlock.y+c.textBlock.height;this.chart.layoutManager.registerSpace(e,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:n,y1:i,x2:n+this.width,y2:i+this.height}},t(P,w),P.prototype.render=function(){var t=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red",this.ctx.fillRect(t.x1,t.y1,t.x2,t.y2)},t(E,w),E.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},E.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t||"funnel"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t?"triangle":(window.console.log("Unknown Chart Type: "+t),null)},E.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var i={dataPoint:null,distance:1/0,index:NaN},n=null,a=0,s=0,o=1,r=1/0,l=0,h=0,d=0;for("none"!==this.chart.plotInfo.axisPlacement&&(d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,d=0<d?Math.min(Math.max((this.dataPoints.length-1)/d*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(s=0<o?d+a:d-a,0<=s&&s<this.dataPoints.length){var n=this.dataPoints[s],c=Math.abs(n.x-t);if(c<i.distance&&(i.dataPoint=n,i.distance=c,i.index=s),n=Math.abs(n.x-t),n<=r?r=n:0<o?l++:h++,1e3<l&&1e3<h)break}else if(0>d-a&&d+a>=this.dataPoints.length)break;-1===o?(a++,o=1):o=-1}return e||i.dataPoint.x!==t?e&&null!==i.dataPoint?i:null:i},E.prototype.getDataPointAtXY=function(t,e,i){if(!this.dataPoints||0===this.dataPoints.length)return null;i=i||!1;var n=[],a=0,s=0,o=1,r=!1,l=1/0,h=0,d=0,c=0;for("none"!==this.chart.plotInfo.axisPlacement&&(c=this.chart.axisX.getXValueAt({x:t,y:e}),s=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,c=0<s?Math.min(Math.max((this.dataPoints.length-1)/s*(c-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(s=0<o?c+a:c-a,0<=s&&s<this.dataPoints.length){var u=this.chart._eventManager.objectMap[this.dataPointIds[s]],p=this.dataPoints[s],f=null;if(u){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":t>=u.x1&&t<=u.x2&&e>=u.y1&&e<=u.y2&&(n.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:Math.min(Math.abs(u.x1-t),Math.abs(u.x2-t),Math.abs(u.y1-e),Math.abs(u.y2-e))}),r=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var g=m("markerSize",p,this)||4,v=i?20:g,f=Math.sqrt(Math.pow(u.x1-t,2)+Math.pow(u.y1-e,2));f<=v&&n.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:f}),s=Math.abs(u.x1-t),s<=l?l=s:0<o?h++:d++,f<=g/2&&(r=!0);break;case"rangeArea":case"rangeSplineArea":g=m("markerSize",p,this)||4,v=i?20:g,f=Math.min(Math.sqrt(Math.pow(u.x1-t,2)+Math.pow(u.y1-e,2)),Math.sqrt(Math.pow(u.x1-t,2)+Math.pow(u.y2-e,2))),f<=v&&n.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:f}),s=Math.abs(u.x1-t),s<=l?l=s:0<o?h++:d++,f<=g/2&&(r=!0);break;case"bubble":g=u.size,f=Math.sqrt(Math.pow(u.x1-t,2)+Math.pow(u.y1-e,2)),f<=g/2&&(n.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:f}),r=!0);break;case"pie":case"doughnut":g=u.center,v="doughnut"===this.type?.6*u.radius:0,f=Math.sqrt(Math.pow(g.x-t,2)+Math.pow(g.y-e,2)),f<u.radius&&f>v&&(f=Math.atan2(e-g.y,t-g.x),0>f&&(f+=2*Math.PI),f=Number(((180*(f/Math.PI)%360+360)%360).toFixed(12)),g=Number(((180*(u.startAngle/Math.PI)%360+360)%360).toFixed(12)),v=Number(((180*(u.endAngle/Math.PI)%360+360)%360).toFixed(12)),0===v&&1<u.endAngle&&(v=360),g>=v&&0!==p.y&&(v+=360,f<g&&(f+=360)),f>g&&f<v&&(n.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:0}),r=!0));break;case"candlestick":(t>=u.x1-u.borderThickness/2&&t<=u.x2+u.borderThickness/2&&e>=u.y2-u.borderThickness/2&&e<=u.y3+u.borderThickness/2||Math.abs(u.x2-t+u.x1-t)<u.borderThickness&&e>=u.y1&&e<=u.y4)&&(n.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:Math.min(Math.abs(u.x1-t),Math.abs(u.x2-t),Math.abs(u.y2-e),Math.abs(u.y3-e))}),r=!0);break;case"ohlc":(Math.abs(u.x2-t+u.x1-t)<u.borderThickness&&e>=u.y2&&e<=u.y3||t>=u.x1&&t<=(u.x2+u.x1)/2&&e>=u.y1-u.borderThickness/2&&e<=u.y1+u.borderThickness/2||t>=(u.x1+u.x2)/2&&t<=u.x2&&e>=u.y4-u.borderThickness/2&&e<=u.y4+u.borderThickness/2)&&(n.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:Math.min(Math.abs(u.x1-t),Math.abs(u.x2-t),Math.abs(u.y2-e),Math.abs(u.y3-e))}),r=!0)}if(r||1e3<h&&1e3<d)break}}else if(0>c-a&&c+a>=this.dataPoints.length)break;-1===o?(a++,o=1):o=-1}for(t=null,e=0;e<n.length;e++)t?n[e].distance<=t.distance&&(t=n[e]):t=n[e];return t},E.prototype.getMarkerProperties=function(t,e,i,n){var a=this.dataPoints;return{x:e,y:i,ctx:n,type:a[t].markerType?a[t].markerType:this.markerType,size:a[t].markerSize?a[t].markerSize:this.markerSize,color:a[t].markerColor?a[t].markerColor:this.markerColor?this.markerColor:a[t].color?a[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],borderColor:a[t].markerBorderColor?a[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:a[t].markerBorderThickness?a[t].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},t(D,w),D.prototype.createLabels=function(){var t,e,i=0,a=0,s=0,i=0;if("bottom"===this._position||"top"===this._position?(i=this.lineCoordinates.width/Math.abs(this.maximum-this.minimum)*this.interval,a=this.labelAutoFit?"undefined"==typeof this._options.labelMaxWidth?.9*i>>0:this.labelMaxWidth:"undefined"==typeof this._options.labelMaxWidth?.7*this.chart.width>>0:this.labelMaxWidth,s="undefined"==typeof this._options.labelWrap||this.labelWrap?.5*this.chart.height>>0:1.5*this.labelFontSize):"left"!==this._position&&"right"!==this._position||(i=this.lineCoordinates.height/Math.abs(this.maximum-this.minimum)*this.interval,a=this.labelAutoFit?"undefined"==typeof this._options.labelMaxWidth?.3*this.chart.width>>0:this.labelMaxWidth:"undefined"==typeof this._options.labelMaxWidth?.5*this.chart.width>>0:this.labelMaxWidth,s="undefined"==typeof this._options.labelWrap||this.labelWrap?2*i>>0:1.5*this.labelFontSize),"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType)for(e=n(new Date(this.maximum),this.interval,this.intervalType),i=this.intervalstartTimePercent;i<e;n(i,this.interval,this.intervalType))t=i.getTime(),t="axisX"===this.type&&this.labels[t]?this.labels[t]:W(i,this.valueFormatString,this.chart._cultureInfo),t=new S(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:s,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:i.getTime(),textBlock:t,effectiveHeight:null});else{if(e=this.maximum,this.labels&&this.labels.length){t=Math.ceil(this.interval);for(var o=Math.ceil(this.intervalstartTimePercent),r=!1,i=o;i<this.maximum;i+=t){if(!this.labels[i]){r=!1;break}r=!0}r&&(this.interval=t,this.intervalstartTimePercent=o)}for(i=this.intervalstartTimePercent;i<=e;i=parseFloat((i+this.interval).toFixed(14)))t="axisX"===this.type&&this.labels[i]?this.labels[i]:U(i,this.valueFormatString,this.chart._cultureInfo),t=new S(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:s,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:i,textBlock:t,effectiveHeight:null})}for(i=0;i<this.stripLines.length;i++)e=this.stripLines[i],t=new S(this.ctx,{x:0,y:0,backgroundColor:e.labelBackgroundColor,maxWidth:a,maxHeight:s,angle:this.labelAngle,text:e.label,horizontalAlign:"left",fontSize:e.labelFontSize,fontFamily:e.labelFontFamily,fontWeight:e.labelFontWeight,fontColor:e.labelFontColor,fontStyle:e.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:e.value,textBlock:t,effectiveHeight:null,stripLine:e})},D.prototype.createLabelsAndCalculateWidth=function(){var t=0;if(this._labels=[],"left"===this._position||"right"===this._position)for(this.createLabels(),i=0;i<this._labels.length;i++){var e=this._labels[i].textBlock.measureText(),n=0,n=0===this.labelAngle?e.width:e.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+e.height/2*Math.sin(Math.PI/180*Math.abs(this.labelAngle));t<n&&(t=n),this._labels[i].effectiveWidth=n}return(this.title?c(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0)+t+this.tickLength+5},D.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[];var e,i=0;if(this.createLabels(),"bottom"===this._position||"top"===this._position)for(i=0;i<this._labels.length;i++){e=this._labels[i].textBlock,e=e.measureText();var n=0,n=0===this.labelAngle?e.height:e.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+e.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle));t<n&&(t=n),this._labels[i].effectiveHeight=n}return(this.title?c(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0)+t+this.tickLength+5},D.setLayoutAndRender=function(t,e,i,n,a){var s,o,r,l=t.chart,h=l.ctx;if(t.calculateAxisParameters(),e&&e.calculateAxisParameters(),i&&i.calculateAxisParameters(),e&&i&&"undefined"==typeof e._options.maximum&&"undefined"==typeof e._options.minimum&&"undefined"==typeof e._options.interval&&"undefined"==typeof i._options.maximum&&"undefined"==typeof i._options.minimum&&"undefined"==typeof i._options.interval){r=(e.maximum-e.minimum)/e.interval;var d=(i.maximum-i.minimum)/i.interval;r>d?i.maximum=i.interval*r+i.minimum:d>r&&(e.maximum=e.interval*d+e.minimum)}if(d=e?e.margin:0,"normal"===n){t.lineCoordinates={};var c=Math.ceil(e?e.createLabelsAndCalculateWidth():0);s=Math.round(a.x1+c+d),t.lineCoordinates.x1=s,d=Math.ceil(i?i.createLabelsAndCalculateWidth():0),o=Math.round(a.x2-d>t.chart.width-10?t.chart.width-10:a.x2-d),t.lineCoordinates.x2=o,t.lineCoordinates.width=Math.abs(o-s);var u=Math.ceil(t.createLabelsAndCalculateHeight());n=Math.round(a.y2-u-t.margin),r=Math.round(a.y2-t.margin),t.lineCoordinates.y1=n,t.lineCoordinates.y2=n,t.boundingRect={x1:s,y1:n,x2:o,y2:r,width:o-s,height:r-n},e&&(s=Math.round(a.x1+e.margin),n=Math.round(10>a.y1?10:a.y1),o=Math.round(a.x1+c+e.margin),r=Math.round(a.y2-u-t.margin),e.lineCoordinates={x1:o,y1:n,x2:o,y2:r,height:Math.abs(r-n)},e.boundingRect={x1:s,y1:n,x2:o,y2:r,width:o-s,height:r-n}),i&&(s=Math.round(t.lineCoordinates.x2),n=Math.round(10>a.y1?10:a.y1),o=Math.round(s+d+i.margin),r=Math.round(a.y2-u-t.margin),i.lineCoordinates={x1:s,y1:n,x2:s,y2:r,height:Math.abs(r-n)},i.boundingRect={x1:s,y1:n,x2:o,y2:r,width:o-s,height:r-n}),t.calculateValueToPixelconversionParameters(),e&&e.calculateValueToPixelconversionParameters(),i&&i.calculateValueToPixelconversionParameters(),h.save(),h.rect(5,t.boundingRect.y1,t.chart.width-10,t.boundingRect.height),h.clip(),t.renderLabelsTicksAndTitle(),h.restore(),e&&e.renderLabelsTicksAndTitle(),i&&i.renderLabelsTicksAndTitle()}else{c=Math.ceil(t.createLabelsAndCalculateWidth()),e&&(e.lineCoordinates={},s=Math.round(a.x1+c+t.margin),o=Math.round(a.x2>e.chart.width-10?e.chart.width-10:a.x2),e.lineCoordinates.x1=s,e.lineCoordinates.x2=o,e.lineCoordinates.width=Math.abs(o-s)),i&&(i.lineCoordinates={},s=Math.round(a.x1+c+t.margin),o=Math.round(a.x2>i.chart.width-10?i.chart.width-10:a.x2),i.lineCoordinates.x1=s,i.lineCoordinates.x2=o,i.lineCoordinates.width=Math.abs(o-s));var u=Math.ceil(e?e.createLabelsAndCalculateHeight():0),p=Math.ceil(i?i.createLabelsAndCalculateHeight():0);e&&(n=Math.round(a.y2-u-e.margin),r=Math.round(a.y2-d>e.chart.height-10?e.chart.height-10:a.y2-d),e.lineCoordinates.y1=n,e.lineCoordinates.y2=n,e.boundingRect={x1:s,y1:n,x2:o,y2:r,width:o-s,height:u}),i&&(n=Math.round(a.y1+i.margin),r=a.y1+i.margin+p,i.lineCoordinates.y1=r,i.lineCoordinates.y2=r,i.boundingRect={x1:s,y1:n,x2:o,y2:r,width:o-s,height:p}),s=Math.round(a.x1+t.margin),n=Math.round(i?i.lineCoordinates.y2:10>a.y1?10:a.y1),o=Math.round(a.x1+c+t.margin),r=Math.round(e?e.lineCoordinates.y1:a.y2-d>t.chart.height-10?t.chart.height-10:a.y2-d),t.lineCoordinates={x1:o,y1:n,x2:o,y2:r,height:Math.abs(r-n)},t.boundingRect={x1:s,y1:n,x2:o,y2:r,width:o-s,height:r-n},t.calculateValueToPixelconversionParameters(),e&&e.calculateValueToPixelconversionParameters(),i&&i.calculateValueToPixelconversionParameters(),e&&e.renderLabelsTicksAndTitle(),i&&i.renderLabelsTicksAndTitle(),t.renderLabelsTicksAndTitle()}l.preparePlotArea(),a=t.chart.plotArea,h.save(),h.rect(a.x1,a.y1,Math.abs(a.x2-a.x1),Math.abs(a.y2-a.y1)),h.clip(),t.renderStripLinesOfThicknessType("value"),e&&e.renderStripLinesOfThicknessType("value"),i&&i.renderStripLinesOfThicknessType("value"),t.renderInterlacedColors(),e&&e.renderInterlacedColors(),i&&i.renderInterlacedColors(),h.restore(),t.renderGrid(),e&&e.renderGrid(),i&&i.renderGrid(),t.renderAxisLine(),e&&e.renderAxisLine(),i&&i.renderAxisLine(),t.renderStripLinesOfThicknessType("pixel"),e&&e.renderStripLinesOfThicknessType("pixel"),i&&i.renderStripLinesOfThicknessType("pixel")},D.prototype.renderLabelsTicksAndTitle=function(){var t=!1,e=0,i=1,n=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(i=1.2),"undefined"==typeof this._options.interval){if("bottom"===this._position||"top"===this._position){for(s=0;s<this._labels.length;s++)a=this._labels[s],a.position<this.minimum||a.stripLine||(a=a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+a.textBlock.height*Math.sin(Math.PI/180*this.labelAngle),e+=a);e>this.lineCoordinates.width*i&&(t=!0)}if("left"===this._position||"right"===this._position){for(s=0;s<this._labels.length;s++)a=this._labels[s],a.position<this.minimum||a.stripLine||(a=a.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),e+=a);e>this.lineCoordinates.height*i&&(t=!0)}}if("bottom"===this._position){for(var a,s=0,s=0;s<this._labels.length;s++)a=this._labels[s],a.position<this.minimum||a.position>this.maximum||(e=this.getPixelCoordinatesOnAxis(a.position),
(this.tickThickness&&!this._labels[s].stripLine||this._labels[s].stripLine&&"pixel"===this._labels[s].stripLine._thicknessType)&&(this._labels[s].stripLine?(i=this._labels[s].stripLine,this.ctx.lineWidth=i.thickness,this.ctx.strokeStyle=i.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),i=1===this.ctx.lineWidth%2?(e.x<<0)+.5:e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(i,e.y<<0),this.ctx.lineTo(i,e.y+this.tickLength<<0),this.ctx.stroke()),t&&0!==n++%2&&!this._labels[s].stripLine||(0===a.textBlock.angle?(e.x-=a.textBlock.width/2,e.y+=this.tickLength+a.textBlock.fontSize/2):(e.x-=0>this.labelAngle?a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,e.y+=this.tickLength+Math.abs(0>this.labelAngle?a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),a.textBlock.x=e.x,a.textBlock.y=e.y,a.textBlock.render(!0)));this.title&&(this._titleTextBlock=new S(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,maxHeight:1.5*this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.boundingRect.y2-this._titleTextBlock.height-3,this._titleTextBlock.render(!0))}else if("top"===this._position){for(s=0;s<this._labels.length;s++)a=this._labels[s],a.position<this.minimum||a.position>this.maximum||(e=this.getPixelCoordinatesOnAxis(a.position),(this.tickThickness&&!this._labels[s].stripLine||this._labels[s].stripLine&&"pixel"===this._labels[s].stripLine._thicknessType)&&(this._labels[s].stripLine?(i=this._labels[s].stripLine,this.ctx.lineWidth=i.thickness,this.ctx.strokeStyle=i.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),i=1===this.ctx.lineWidth%2?(e.x<<0)+.5:e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(i,e.y<<0),this.ctx.lineTo(i,e.y-this.tickLength<<0),this.ctx.stroke()),t&&0!==n++%2&&!this._labels[s].stripLine||(0===a.textBlock.angle?(e.x-=a.textBlock.width/2,e.y-=this.tickLength+a.textBlock.height/2):(e.x-=0<this.labelAngle?a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,e.y-=this.tickLength+Math.abs(0<this.labelAngle?a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5)),a.textBlock.x=e.x,a.textBlock.y=e.y,a.textBlock.render(!0)));this.title&&(this._titleTextBlock=new S(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1+1,maxWidth:this.lineCoordinates.width,maxHeight:1.5*this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else if("left"===this._position){for(s=0;s<this._labels.length;s++)a=this._labels[s],a.position<this.minimum||a.position>this.maximum||(e=this.getPixelCoordinatesOnAxis(a.position),(this.tickThickness&&!this._labels[s].stripLine||this._labels[s].stripLine&&"pixel"===this._labels[s].stripLine._thicknessType)&&(this._labels[s].stripLine?(i=this._labels[s].stripLine,this.ctx.lineWidth=i.thickness,this.ctx.strokeStyle=i.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),i=1===this.ctx.lineWidth%2?(e.y<<0)+.5:e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,i),this.ctx.lineTo(e.x-this.tickLength<<0,i),this.ctx.stroke()),t&&0!==n++%2&&!this._labels[s].stripLine||(a.textBlock.x=e.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5,a.textBlock.y=0===this.labelAngle?e.y-a.textBlock.height/2+this.labelFontSize/2:e.y-a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),a.textBlock.render(!0)));this.title&&(this._titleTextBlock=new S(this.ctx,{x:this.boundingRect.x1+1,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:1.5*this.titleFontSize,angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}else if("right"===this._position){for(s=0;s<this._labels.length;s++)a=this._labels[s],a.position<this.minimum||a.position>this.maximum||(e=this.getPixelCoordinatesOnAxis(a.position),(this.tickThickness&&!this._labels[s].stripLine||this._labels[s].stripLine&&"pixel"===this._labels[s].stripLine._thicknessType)&&(this._labels[s].stripLine?(i=this._labels[s].stripLine,this.ctx.lineWidth=i.thickness,this.ctx.strokeStyle=i.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),i=1===this.ctx.lineWidth%2?(e.y<<0)+.5:e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,i),this.ctx.lineTo(e.x+this.tickLength<<0,i),this.ctx.stroke()),t&&0!==n++%2&&!this._labels[s].stripLine||(a.textBlock.x=e.x+this.tickLength+5,a.textBlock.y=0===this.labelAngle?e.y-a.textBlock.height/2+this.labelFontSize/2:e.y,a.textBlock.render(!0)));this.title&&(this._titleTextBlock=new S(this.ctx,{x:this.boundingRect.x2-1,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:1.5*this.titleFontSize,angle:90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}},D.prototype.renderInterlacedColors=function(){var t,e,i=this.chart.plotArea.ctx,n=this.chart.plotArea,a=0;if(t=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)this._labels[a].stripLine||(t?(e=this.getPixelCoordinatesOnAxis(this._labels[a].position),t=a+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),i.fillRect(n.x1,t.y,Math.abs(n.x1-n.x2),Math.abs(t.y-e.y)),t=!1):t=!0)}else for(i.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)this._labels[a].stripLine||(t?(t=this.getPixelCoordinatesOnAxis(this._labels[a].position),e=a+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),i.fillRect(t.x,n.y1,Math.abs(e.x-t.x),Math.abs(n.y1-n.y2)),t=!1):t=!0);i.beginPath()},D.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t)for(var e=this.chart.plotArea.ctx,i=0,i=0;i<this.stripLines.length;i++){var n=this.stripLines[i];if(n._thicknessType===t&&("pixel"!==t||!(n.value<this.minimum||n.value>this.maximum))){var a=this.getPixelCoordinatesOnAxis(n.value),s=Math.abs("pixel"===t?n.thickness:this.conversionParameters.pixelPerUnit*n.thickness);if(!(0>=s)){e.strokeStyle=n.color,e.beginPath(),d(n.id);var o,r,l,h;e.lineWidth=s,"bottom"===this._position||"top"===this._position?(o=r=1===e.lineWidth%2?(a.x<<0)+.5:a.x<<0,l=this.chart.plotArea.y1,h=this.chart.plotArea.y2):"left"!==this._position&&"right"!==this._position||(l=h=1===e.lineWidth%2?(a.y<<0)+.5:a.y<<0,o=this.chart.plotArea.x1,r=this.chart.plotArea.x2),e.moveTo(o,l),e.lineTo(r,h),e.stroke()}}}},D.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t,e=this.chart.ctx,i=this.chart.plotArea;if(e.lineWidth=this.gridThickness,e.strokeStyle=this.gridColor,"bottom"===this._position||"top"===this._position)for(n=0;n<this._labels.length&&!this._labels[n].stripLine;n++)this._labels[n].position<this.minimum||this._labels[n].position>this.maximum||(e.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[n].position),t=1===e.lineWidth%2?(t.x<<0)+.5:t.x<<0,e.moveTo(t,i.y1<<0),e.lineTo(t,i.y2<<0),e.stroke());else if("left"===this._position||"right"===this._position)for(var n=0;n<this._labels.length&&!this._labels[n].stripLine;n++)this._labels[n].position<this.minimum||this._labels[n].position>this.maximum||(e.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[n].position),t=1===e.lineWidth%2?(t.y<<0)+.5:t.y<<0,e.moveTo(i.x1<<0,t),e.lineTo(i.x2<<0,t),e.stroke())}},D.prototype.renderAxisLine=function(){var t=this.chart.ctx;if("bottom"===this._position||"top"===this._position){if(this.lineThickness){t.lineWidth=this.lineThickness,t.strokeStyle=this.lineColor?this.lineColor:"black";var e=1===this.lineThickness%2?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;t.beginPath(),t.moveTo(this.lineCoordinates.x1,e),t.lineTo(this.lineCoordinates.x2,e),t.stroke()}}else"left"!==this._position&&"right"!==this._position||!this.lineThickness||(t.lineWidth=this.lineThickness,t.strokeStyle=this.lineColor,e=1===this.lineThickness%2?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,t.beginPath(),t.moveTo(e,this.lineCoordinates.y1),t.lineTo(e,this.lineCoordinates.y2),t.stroke())},D.prototype.getPixelCoordinatesOnAxis=function(t){var e={},i=this.lineCoordinates.width,n=this.lineCoordinates.height;return"bottom"!==this._position&&"top"!==this._position||(i/=Math.abs(this.maximum-this.minimum),e.x=this.lineCoordinates.x1+i*(t-this.minimum),e.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(i=n/Math.abs(this.maximum-this.minimum),e.y=this.lineCoordinates.y2-i*(t-this.minimum),e.x=this.lineCoordinates.x2),e},D.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-t.y)+this.chart.axisX.minimum:"bottom"===this._position&&(e=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(t.x-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum),e},D.prototype.calculateValueToPixelconversionParameters=function(t){t={pixelPerUnit:null,minimum:null,reference:null};var e=this.lineCoordinates.width,i=this.lineCoordinates.height;t.minimum=this.minimum,"bottom"!==this._position&&"top"!==this._position||(t.pixelPerUnit=e/Math.abs(this.maximum-this.minimum),t.reference=this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(t.pixelPerUnit=-1*i/Math.abs(this.maximum-this.minimum),t.reference=this.lineCoordinates.y2),this.conversionParameters=t},D.prototype.calculateAxisParameters=function(){var t=this.chart.layoutManager.getFreeSpace();"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width);var e,i,n,a,t="axisX"===this.type?500>this.maxWidth?8:Math.max(6,Math.floor(this.maxWidth/62)):Math.max(Math.floor(this.maxWidth/40),2);if(a=0,"axisX"===this.type?(e=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin,i=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax,0===i-e&&(a="undefined"==typeof this._options.interval?.4:this._options.interval,i+=a,e-=a),n=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<i-e?.5*Math.abs(i-e):1):"axisY"===this.type&&(e="undefined"==typeof this._options.minimum?this.dataInfo.viewPortMin:this._options.minimum,i="undefined"==typeof this._options.maximum?this.dataInfo.viewPortMax:this._options.maximum,isFinite(e)||isFinite(i)?0===e&&0===i?(i+=9,e=0):0===i-e?(a=Math.min(Math.abs(.01*Math.abs(i)),5),i+=a,e-=a):e>i?(a=Math.min(Math.abs(.01*Math.abs(i-e)),5),0<=i?e=i-a:i=e+a):(a=Math.min(Math.abs(.01*Math.abs(i-e)),.05),0!==i&&(i+=a),0!==e&&(e-=a)):(i="undefined"==typeof this._options.interval?-(1/0):this._options.interval,e=0),this.includeZero&&"undefined"==typeof this._options.minimum&&0<e&&(e=0),this.includeZero&&"undefined"==typeof this._options.maximum&&0>i&&(i=0)),"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?(a=i-e,this.intervalType||(a/1<=t?(this.interval=1,this.intervalType="millisecond"):a/2<=t?(this.interval=2,this.intervalType="millisecond"):a/5<=t?(this.interval=5,this.intervalType="millisecond"):a/10<=t?(this.interval=10,this.intervalType="millisecond"):a/20<=t?(this.interval=20,this.intervalType="millisecond"):a/50<=t?(this.interval=50,this.intervalType="millisecond"):a/100<=t?(this.interval=100,this.intervalType="millisecond"):a/200<=t?(this.interval=200,this.intervalType="millisecond"):a/250<=t?(this.interval=250,this.intervalType="millisecond"):a/300<=t?(this.interval=300,this.intervalType="millisecond"):a/400<=t?(this.interval=400,this.intervalType="millisecond"):a/500<=t?(this.interval=500,this.intervalType="millisecond"):a/(1*j.secondDuration)<=t?(this.interval=1,this.intervalType="second"):a/(2*j.secondDuration)<=t?(this.interval=2,this.intervalType="second"):a/(5*j.secondDuration)<=t?(this.interval=5,this.intervalType="second"):a/(10*j.secondDuration)<=t?(this.interval=10,this.intervalType="second"):a/(15*j.secondDuration)<=t?(this.interval=15,this.intervalType="second"):a/(20*j.secondDuration)<=t?(this.interval=20,this.intervalType="second"):a/(30*j.secondDuration)<=t?(this.interval=30,this.intervalType="second"):a/(1*j.minuteDuration)<=t?(this.interval=1,this.intervalType="minute"):a/(2*j.minuteDuration)<=t?(this.interval=2,this.intervalType="minute"):a/(5*j.minuteDuration)<=t?(this.interval=5,this.intervalType="minute"):a/(10*j.minuteDuration)<=t?(this.interval=10,this.intervalType="minute"):a/(15*j.minuteDuration)<=t?(this.interval=15,this.intervalType="minute"):a/(20*j.minuteDuration)<=t?(this.interval=20,this.intervalType="minute"):a/(30*j.minuteDuration)<=t?(this.interval=30,this.intervalType="minute"):a/(1*j.hourDuration)<=t?(this.interval=1,this.intervalType="hour"):a/(2*j.hourDuration)<=t?(this.interval=2,this.intervalType="hour"):a/(3*j.hourDuration)<=t?(this.interval=3,this.intervalType="hour"):a/(6*j.hourDuration)<=t?(this.interval=6,this.intervalType="hour"):a/(1*j.dayDuration)<=t?(this.interval=1,this.intervalType="day"):a/(2*j.dayDuration)<=t?(this.interval=2,this.intervalType="day"):a/(4*j.dayDuration)<=t?(this.interval=4,this.intervalType="day"):a/(1*j.weekDuration)<=t?(this.interval=1,this.intervalType="week"):a/(2*j.weekDuration)<=t?(this.interval=2,this.intervalType="week"):a/(3*j.weekDuration)<=t?(this.interval=3,this.intervalType="week"):a/(1*j.monthDuration)<=t?(this.interval=1,this.intervalType="month"):a/(2*j.monthDuration)<=t?(this.interval=2,this.intervalType="month"):a/(3*j.monthDuration)<=t?(this.interval=3,this.intervalType="month"):a/(6*j.monthDuration)<=t?(this.interval=6,this.intervalType="month"):(this.interval=a/(1*j.yearDuration)<=t?1:a/(2*j.yearDuration)<=t?2:a/(4*j.yearDuration)<=t?4:Math.floor(D.getNiceNumber(a/(t-1),!0)/j.yearDuration),this.intervalType="year")),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:e-n/2,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:i+n/2,this.valueFormatString||("year"===this.intervalType?this.valueFormatString="YYYY":"month"===this.intervalType?this.valueFormatString="MMM YYYY":"week"===this.intervalType?this.valueFormatString="MMM DD YYYY":"day"===this.intervalType?this.valueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.valueFormatString="hh:mm TT":"minute"===this.intervalType?this.valueFormatString="hh:mm TT":"second"===this.intervalType?this.valueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.valueFormatString="fff'ms'")),this.intervalstartTimePercent=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)):(this.intervalType="number",a=D.getNiceNumber(i-e,!1),this.interval=this._options&&this._options.interval?this._options.interval:D.getNiceNumber(a/(t-1),!0),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:Math.floor(e/this.interval)*this.interval,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:Math.ceil(i/this.interval)*this.interval,0===this.maximum&&0===this.minimum&&(0===this._options.minimum?this.maximum+=10:0===this._options.maximum&&(this.minimum-=10),this._options&&"undefined"==typeof this._options.interval&&(this.interval=D.getNiceNumber((this.maximum-this.minimum)/(t-1),!0))),"axisX"===this.type?(null===this.sessionVariables.internalMinimum&&(this.minimum=e-n/2),null===this.sessionVariables.internalMaximum&&(this.maximum=i+n/2),this.intervalstartTimePercent=Math.floor((this.minimum+.2*this.interval)/this.interval)*this.interval):"axisY"===this.type&&(this.intervalstartTimePercent=this.minimum)),"axisX"===this.type&&(this._absoluteMinimum=this._options&&"undefined"!=typeof this._options.minimum?this._options.minimum:this.dataInfo.min-n/2,this._absoluteMaximum=this._options&&"undefined"!=typeof this._options.maximum?this._options.maximum:this.dataInfo.max+n/2),!this.valueFormatString&&(this.valueFormatString="#,##0.##",a=Math.abs(this.maximum-this.minimum),1>a)&&(e=Math.floor(Math.abs(Math.log(a)/Math.LN10))+2,!isNaN(e)&&isFinite(e)||(e=2),2<e))for(i=0;i<e-2;i++)this.valueFormatString+="#"},D.getNiceNumber=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,i);return Number(((e?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10)*Math.pow(10,i)).toFixed(20))},D.prototype.getLabelStartPoint=function(){var t=a(this.interval,this.intervalType),t=new Date(Math.floor(this.minimum/t)*t);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},t(F,w),t(I,w),I.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.display="none";var t;t='<div style=" width: auto;height: auto;min-width: 50px;',t+="line-height: 20px;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: 400;",t+="font-style: "+(B?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=B?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",B||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),t+='} "> Sample Tooltip</div>',this.container.innerHTML=t,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},I.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&40>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this._updateToolTip(t,e))},I.prototype._updateToolTip=function(t,e){if(this.enabled&&!this.chart.disableToolTip){if("undefined"==typeof t||"undefined"==typeof e){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,e=this._prevY}else this._prevX=t,this._prevY=e;var i=null,n=null,a=[],s=0;if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){for(s="xySwapped"===this.chart.plotInfo.axisPlacement?(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-e)+this.chart.axisX.minimum:(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(t-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum,i=[],n=0;n<this.chart.data.length;n++){var o=this.chart.data[n].getDataPointAtX(s,!0);o&&0<=o.index&&(o.dataSeries=this.chart.data[n],null!==o.dataPoint.y&&i.push(o))}if(0===i.length)return;for(i.sort(function(t,e){return t.distance-e.distance}),s=i[0],n=0;n<i.length;n++)i[n].dataPoint.x.valueOf()===s.dataPoint.x.valueOf()&&a.push(i[n]);i=null}else if((o=this.chart.getDataPointAtXY(t,e,!0))?(this.currentDataPointIndex=o.dataPointIndex,this.currentSeriesIndex=o.dataSeries.index):B?(o=p(t,e,this.chart._eventManager.ghostCtx),0<o&&"undefined"!=typeof this.chart._eventManager.objectMap[o]?(eventObject=this.chart._eventManager.objectMap[o],this.currentSeriesIndex=eventObject.dataSeriesIndex,this.currentDataPointIndex=0<=eventObject.dataPointIndex?eventObject.dataPointIndex:-1):this.currentDataPointIndex=-1):this.currentDataPointIndex=-1,0<=this.currentSeriesIndex){if(n=this.chart.data[this.currentSeriesIndex],o={},0<=this.currentDataPointIndex)i=n.dataPoints[this.currentDataPointIndex],o.dataSeries=n,o.dataPoint=i,o.index=this.currentDataPointIndex,o.distance=Math.abs(i.x-s);else{if("line"!==n.type&&"stepLine"!==n.type&&"spline"!==n.type&&"area"!==n.type&&"stepArea"!==n.type&&"splineArea"!==n.type&&"stackedArea"!==n.type&&"stackedArea100"!==n.type&&"rangeArea"!==n.type&&"rangeSplineArea"!==n.type&&"candlestick"!==n.type&&"ohlc"!==n.type)return;s=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(t-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf(),o=n.getDataPointAtX(s,!0),o.dataSeries=n,this.currentDataPointIndex=o.index,i=o.dataPoint}null!==o.dataPoint.y&&a.push(o)}if(0<a.length)if(this.highlightObjects(a),s="",s=this.getToolTipInnerHTML({entries:a}),null!==s){this.contentDiv.innerHTML=s,this.contentDiv.innerHTML=s,s=!1,"none"===this.container.style.display&&(s=!0,this.container.style.display="block");try{this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length]}catch(r){}"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?toolTipLeft=t-10-this.container.clientWidth:(toolTipLeft=this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum)*Math.abs(a[0].dataPoint.x-this.chart.axisX.minimum)+this.chart.axisX.lineCoordinates.x1+.5-this.container.clientWidth<<0,toolTipLeft-=10),0>toolTipLeft&&(toolTipLeft+=this.container.clientWidth+20),toolTipLeft+this.container.clientWidth>this.chart._container.clientWidth&&(toolTipLeft=Math.max(0,this.chart._container.clientWidth-this.container.clientWidth)),toolTipLeft+="px",a=1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type&&"stackedArea"!==a[0].dataSeries.type&&"stackedArea100"!==a[0].dataSeries.type?"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisX.lineCoordinates.y2-a[0].dataSeries.axisX.lineCoordinates.height/Math.abs(a[0].dataSeries.axisX.maximum-a[0].dataSeries.axisX.minimum)*Math.abs(a[0].dataPoint.x-a[0].dataSeries.axisX.minimum)+.5<<0:e:a[0].dataSeries.axisY.lineCoordinates.y2-a[0].dataSeries.axisY.lineCoordinates.height/Math.abs(a[0].dataSeries.axisY.maximum-a[0].dataSeries.axisY.minimum)*Math.abs(a[0].dataPoint.y-a[0].dataSeries.axisY.minimum)+.5<<0,a=-a+10,0<a+this.container.clientHeight+5&&(a-=a+this.container.clientHeight+5-0),this.container.style.left=toolTipLeft,this.container.style.bottom=a+"px",!this.animationEnabled||s?this.disableAnimation():this.enableAnimation()}else this.hide(!1)}},I.prototype.highlightObjects=function(t){if(this.enabled){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.save();for(var i=0,n=0;n<t.length;n++){var a=t[n];if((a=this.chart._eventManager.objectMap[a.dataSeries.dataPointIds[a.index]])&&a.objectType&&"dataPoint"===a.objectType){var i=this.chart.data[a.dataSeriesIndex],s=a.dataPointIndex;if("line"===i.type||"stepLine"===i.type||"spline"===i.type||"scatter"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type){var o=i.getMarkerProperties(s,a.x1,a.y1,this.chart.overlaidCanvasCtx);o.size=Math.max(1.5*o.size<<0,10),o.borderColor=o.borderColor||"#FFFFFF",o.borderThickness=o.borderThickness||Math.ceil(.1*o.size),it.drawMarkers([o]),"undefined"!=typeof a.y2&&(o=i.getMarkerProperties(s,a.x1,a.y2,this.chart.overlaidCanvasCtx),o.size=Math.max(1.5*o.size<<0,10),o.borderColor=o.borderColor||"#FFFFFF",o.borderThickness=o.borderThickness||Math.ceil(.1*o.size),it.drawMarkers([o]))}else"bubble"===i.type?(o=i.getMarkerProperties(s,a.x1,a.y1,this.chart.overlaidCanvasCtx),o.size=a.size,o.color="white",o.borderColor="white",e.globalAlpha=.3,it.drawMarkers([o]),e.globalAlpha=1):"column"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"bar"===i.type||"rangeBar"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"rangeColumn"===i.type?Z(e,a.x1,a.y1,a.x2,a.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===i.type||"doughnut"===i.type?tt(e,a.center,a.radius,"white",i.type,a.startAngle,a.endAngle,.3):"candlestick"===i.type?(e.globalAlpha=1,e.strokeStyle=a.color,e.lineWidth=2*a.borderThickness,i=0===e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(a.x3-i,a.y2),e.lineTo(a.x3-i,Math.min(a.y1,a.y4)),e.stroke(),e.beginPath(),e.moveTo(a.x3-i,Math.max(a.y1,a.y4)),e.lineTo(a.x3-i,a.y3),e.stroke(),Z(e,a.x1,Math.min(a.y1,a.y4),a.x2,Math.max(a.y1,a.y4),"transparent",2*a.borderThickness,a.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===i.type&&(e.globalAlpha=1,e.strokeStyle=a.color,e.lineWidth=2*a.borderThickness,i=0===e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(a.x3-i,a.y2),e.lineTo(a.x3-i,a.y3),e.stroke(),e.beginPath(),e.moveTo(a.x3,a.y1),e.lineTo(a.x1,a.y1),e.stroke(),e.beginPath(),e.moveTo(a.x3,a.y4),e.lineTo(a.x2,a.y4),e.stroke(),e.globalAlpha=1)}}e.globalAlpha=1,e.beginPath()}},I.prototype.getToolTipInnerHTML=function(t){t=t.entries;for(var e=null,i=null,n=null,a=0,s="",o=!0,r=0;r<t.length;r++)if(t[r].dataSeries.toolTipContent||t[r].dataPoint.toolTipContent){o=!1;break}if(o&&this.content&&"function"==typeof this.content)e=this.content({entries:t});else if(this.shared){for(var l="",r=0;r<t.length;r++)i=t[r].dataSeries,n=t[r].dataPoint,a=t[r].index,s="",0===r&&o&&!this.content&&(l+="undefined"!=typeof this.chart.axisX.labels[n.x]?this.chart.axisX.labels[n.x]:"{x}",l+="</br>",l=this.chart.replaceKeywordsWithValue(l,n,i,a)),null===n.toolTipContent||"undefined"==typeof n.toolTipContent&&null===i._options.toolTipContent||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type?s+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}":"bubble"===i.type?s+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===i.type||"doughnut"===i.type||"funnel"===i.type?s+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"&nbsp;&nbsp;{y}":"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?s+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}":"candlestick"!==i.type&&"ohlc"!==i.type||(s+=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"),null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(s,n,i,a),r<t.length-1&&(e+="</br>"));null!==e&&(e=l+e)}else{if(i=t[0].dataSeries,n=t[0].dataPoint,a=t[0].index,null===n.toolTipContent||"undefined"==typeof n.toolTipContent&&null===i._options.toolTipContent)return null;"line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type?s=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(n.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y}":"bubble"===i.type?s=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===i.type||"doughnut"===i.type||"funnel"===i.type?s=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:(n.name?"{name}:&nbsp;&nbsp;":n.label?"{label}:&nbsp;&nbsp;":"")+"{y}":"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?s=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(n.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"!==i.type&&"ohlc"!==i.type||(s=n.toolTipContent?n.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"),
null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(s,n,i,a)}return e},I.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")},I.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},I.prototype.hide=function(t){this.enabled&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,("undefined"==typeof t||t)&&this.chart.resetOverlayedCanvas())},T.prototype.replaceKeywordsWithValue=function(t,e,n,a,s){var r=this;if(s="undefined"==typeof s?0:s,(0<=n.type.indexOf("stacked")||"pie"===n.type||"doughnut"===n.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var l="#percent",h="#total",d=null;if(0<=n.type.indexOf("stacked"))h=0,d=e.x.getTime?e.x.getTime():e.x,d in n.plotUnit.yTotals&&(h=n.plotUnit.yTotals[d],l=isNaN(e.y)?0:100*(e.y/h));else if("pie"===n.type||"doughnut"===n.type){for(i=h=0;i<n.dataPoints.length;i++)isNaN(n.dataPoints[i].y)||(h+=n.dataPoints[i].y);l=isNaN(e.y)?0:100*(e.y/h)}do{if(d="",n.percentFormatString)d=n.percentFormatString;else{var d="#,##0.",c=Math.max(Math.ceil(Math.log(1/Math.abs(l))/Math.LN10),2);!isNaN(c)&&isFinite(c)||(c=2);for(var u=0;u<c;u++)d+="#"}t=t.replace("#percent",U(l,d,r._cultureInfo)),t=t.replace("#total",U(h,n.yValueFormatString?n.yValueFormatString:"#,##0.########"))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);t=o(t.slice(1,t.length-1)),t=t.replace("#index",s);var i=null;try{var l=t.match(/(.*?)\s*\[\s*(.*?)\s*\]/);l&&0<l.length&&(i=o(l[2]),t=o(l[1]))}catch(h){}if(l=null,"color"===t)return e.color?e.color:n.color?n.color:n._colorSet[a%n._colorSet.length];if(e.hasOwnProperty(t))l=e;else{if(!n.hasOwnProperty(t))return"";l=n}return l=l[t],null!==i&&(l=l[i]),"x"===t?r.axisX&&"dateTime"===r.plotInfo.axisXValueType?W(l,e.xValueFormatString?e.xValueFormatString:n.xValueFormatString?n.xValueFormatString:r.axisX&&r.axisX.valueFormatString?r.axisX.valueFormatString:"DD MMM YY",r._cultureInfo):U(l,e.xValueFormatString?e.xValueFormatString:n.xValueFormatString?n.xValueFormatString:"#,##0.########",r._cultureInfo):"y"===t?U(l,e.yValueFormatString?e.yValueFormatString:n.yValueFormatString?n.yValueFormatString:"#,##0.########",r._cultureInfo):"z"===t?U(l,e.zValueFormatString?e.zValueFormatString:n.zValueFormatString?n.zValueFormatString:"#,##0.########",r._cultureInfo):l})},$.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],B&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},$.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},$.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e=[],i=q(t),n=null;if((n=this.chart.getObjectAtXY(i.x,i.y,!1))&&"undefined"!=typeof this.objectMap[n])if(n=this.objectMap[n],"dataPoint"===n.objectType){var a=this.chart.data[n.dataSeriesIndex],s=a.dataPoints[n.dataPointIndex],o=n.dataPointIndex;n.eventParameter={x:i.x,y:i.y,dataPoint:s,dataSeries:a._options,dataPointIndex:o,dataSeriesIndex:a.index,chart:this.chart._publicChartReference},n.eventContext={context:s,userContext:s,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(n),n=this.objectMap[a.id],n.eventParameter={x:i.x,y:i.y,dataPoint:s,dataSeries:a._options,dataPointIndex:o,dataSeriesIndex:a.index,chart:this.chart._publicChartReference},n.eventContext={context:a,userContext:a._options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[a.id])}else"legendItem"===n.objectType&&(a=this.chart.data[n.dataSeriesIndex],s=null!==n.dataPointIndex?a.dataPoints[n.dataPointIndex]:null,n.eventParameter={x:i.x,y:i.y,dataSeries:a._options,dataPoint:s,dataPointIndex:n.dataPointIndex,dataSeriesIndex:n.dataSeriesIndex,chart:this.chart._publicChartReference},n.eventContext={context:this.chart.legend,userContext:this.chart.legend._options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(n));for(a=[],i=0;i<this.mouseoveredObjectMaps.length;i++){for(s=!0,n=0;n<e.length;n++)if(e[n].id===this.mouseoveredObjectMaps[i].id){s=!1;break}s?this.fireEvent(this.mouseoveredObjectMaps[i],"mouseout",t):a.push(this.mouseoveredObjectMaps[i])}for(this.mouseoveredObjectMaps=a,i=0;i<e.length;i++){for(a=!1,n=0;n<this.mouseoveredObjectMaps.length;n++)if(e[i].id===this.mouseoveredObjectMaps[n].id){a=!0;break}a||(this.fireEvent(e[i],"mouseover",t),this.mouseoveredObjectMaps.push(e[i])),"click"===t.type?this.fireEvent(e[i],"click",t):"mousemove"===t.type&&this.fireEvent(e[i],"mousemove",t)}}},$.prototype.fireEvent=function(t,e,i){if(t&&e){var n=t.eventParameter,a=t.eventContext,s=t.eventContext.userContext;s&&a&&s[a[e]]&&s[a[e]].call(s,n),"mouseout"!==e?s.cursor&&s.cursor!==i.target.style.cursor&&(i.target.style.cursor=s.cursor):(i.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],n)}},t(z,w),L.prototype.animate=function(t,e,i,n,a){var s=this;for(this.chart.isAnimating=!0,a=a||et.easing.linear,i&&this.animations.push({startTime:(new Date).getTime()+(t?t:0),duration:e,animationCallback:i,onComplete:n}),t=[];0<this.animations.length;)e=this.animations.shift(),i=(new Date).getTime(),n=0,e.startTime<=i&&(n=a(Math.min(i-e.startTime,e.duration),0,1,e.duration),n=Math.min(n,1),isNaN(n)||!isFinite(n))&&(n=1),1>n&&t.push(e),e.animationCallback(n),1<=n&&e.onComplete&&e.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){s.animate.call(s)}):this.chart.isAnimating=!1},L.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var et={yScaleAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas,a=e.animationBase;i.drawImage(n,0,0,n.width,n.height,0,a-a*t,i.canvas.width/K,t*i.canvas.height/K)}},xScaleAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas,a=e.animationBase;i.drawImage(n,0,0,n.width,n.height,a-a*t,0,t*i.canvas.width/K,i.canvas.height/K)}},xClipAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas;i.save(),0<t&&i.drawImage(n,0,0,n.width*t,n.height,0,0,n.width*t/K,n.height/K),i.restore()}},fadeInAnimation:function(t,e){if(0!==t){var i=e.dest,n=e.source.canvas;i.save(),i.globalAlpha=t,i.drawImage(n,0,0,n.width,n.height,0,0,i.canvas.width/K,i.canvas.height/K),i.restore()}},easing:{linear:function(t,e,i,n){return i*t/n+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e}}},it={drawMarker:function(t,e,i,n,a,s,o,r){if(i){var l=1;i.fillStyle=s?s:"#000000",i.strokeStyle=o?o:"#000000",i.lineWidth=r?r:0,"circle"===n?(i.moveTo(t,e),i.beginPath(),i.arc(t,e,a/2,0,2*Math.PI,!1),s&&i.fill(),r&&(o?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l))):"square"===n?(i.beginPath(),i.rect(t-a/2,e-a/2,a,a),s&&i.fill(),r&&(o?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l))):"triangle"===n?(i.beginPath(),i.moveTo(t-a/2,e+a/2),i.lineTo(t+a/2,e+a/2),i.lineTo(t,e-a/2),i.closePath(),s&&i.fill(),r&&(o?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l)),i.beginPath()):"cross"===n&&(i.strokeStyle=s,i.lineWidth=a/4,i.beginPath(),i.moveTo(t-a/2,e-a/2),i.lineTo(t+a/2,e+a/2),i.stroke(),i.moveTo(t+a/2,e-a/2),i.lineTo(t-a/2,e+a/2),i.stroke())}},drawMarkers:function(t){for(var e=0;e<t.length;e++){var i=t[e];it.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}},nt={Chart:function(t,e){var i=new T(t,e,this);this.render=function(){i.render(this.options)},this.options=i._options},addColorSet:function(t,e){Y[t]=e},addCultureInfo:function(t,e){N[t]=e}};nt.Chart.version="v1.6.2 GA",window.CanvasJS=nt}(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new p(this))}function e(t,e,i){var n=E.call(arguments,2);return function(){return t.apply(e,n.concat(E.call(arguments)))}}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t){t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),t.styleSheets.ex_canvas_||(t=t.createStyleSheet(),t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function a(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function s(t){t=t.srcElement,t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function o(){return[[1,0,0],[0,1,0],[0,0,1]]}function r(t,e){for(var i=o(),n=0;3>n;n++)for(var a=0;3>a;a++){for(var s=0,r=0;3>r;r++)s+=t[n][r]*e[r][a];i[n][a]=s}return i}function l(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function h(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),e=t.substring(e+1,i).split(",");return 4==e.length&&"a"==t.charAt(3)||(e[3]=1),e}function d(t,e,i){return Math.min(i,Math.max(e,t))}function c(t,e,i){return 0>i&&i++,1<i&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}function u(t){if(t in L)return L[t];var e,i=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){i=h(t),e="#";for(var n,a=0;3>a;a++)n=-1!=i[a].indexOf("%")?Math.floor(255*(parseFloat(i[a])/100)):+i[a],e+=F[d(n,0,255)];i=+i[3]}else if(/^hsl/.test(t)){if(a=i=h(t),e=parseFloat(a[0])/360%360,0>e&&e++,n=d(parseFloat(a[1])/100,0,1),a=d(parseFloat(a[2])/100,0,1),0==n)n=a=e=a;else{var s=.5>a?a*(1+n):a+n-a*n,o=2*a-s;n=c(o,s,e+1/3),a=c(o,s,e),e=c(o,s,e-1/3)}e="#"+F[Math.floor(255*n)]+F[Math.floor(255*a)]+F[Math.floor(255*e)],i=i[3]}else e=z[t]||t;return L[t]={color:e,alpha:i}}function p(t){this.m_=o(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*A,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i),e=i.cloneNode(!1),e.style.backgroundColor="red",e.style.filter="alpha(opacity=0)",t.appendChild(e),this.element_=i,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function f(t,e,i,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function m(t,e){var i=u(t.strokeStyle),n=i.color,i=i.alpha*t.globalAlpha,a=t.lineScale_*t.lineWidth;1>a&&(i*=a),e.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',O[t.lineCap]||"square",'"',' weight="',a,'px"',' color="',n,'" />')}function g(t,e,i,n){var a=t.fillStyle,s=t.arcScaleX_,o=t.arcScaleY_,r=n.x-i.x,l=n.y-i.y;if(a instanceof x){var h=0,d=n=0,c=0,p=1;if("gradient"==a.type_){h=a.x1_/s,i=a.y1_/o;var f=v(t,a.x0_/s,a.y0_/o),h=v(t,h,i),h=180*Math.atan2(h.x-f.x,h.y-f.y)/Math.PI;0>h&&(h+=360),1e-6>h&&(h=0)}else f=v(t,a.x0_,a.y0_),n=(f.x-i.x)/r,d=(f.y-i.y)/l,r/=s*A,l/=o*A,p=w.max(r,l),c=2*a.r0_/p,p=2*a.r1_/p-c;s=a.colors_,s.sort(function(t,e){return t.offset-e.offset}),o=s.length,f=s[0].color,i=s[o-1].color,r=s[0].alpha*t.globalAlpha,t=s[o-1].alpha*t.globalAlpha;for(var l=[],m=0;m<o;m++){var g=s[m];l.push(g.offset*p+c+" "+g.color)}e.push('<g_vml_:fill type="',a.type_,'"',' method="none" focus="100%"',' color="',f,'"',' color2="',i,'"',' colors="',l.join(","),'"',' opacity="',t,'"',' g_o_:opacity2="',r,'"',' angle="',h,'"',' focusposition="',n,",",d,'" />')}else a instanceof b?r&&l&&e.push("<g_vml_:fill",' position="',-i.x/r*s*s,",",-i.y/l*o*o,'"',' type="tile"',' src="',a.src_,'" />'):(a=u(t.fillStyle),e.push('<g_vml_:fill color="',a.color,'" opacity="',a.alpha*t.globalAlpha,'" />'))}function v(t,e,i){return t=t.m_,{x:A*(e*t[0][0]+i*t[1][0]+t[2][0])-P,y:A*(e*t[0][1]+i*t[1][1]+t[2][1])-P}}function y(t,e,i){isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])&&(t.m_=e,i&&(t.lineScale_=M(S(e[0][0]*e[1][1]-e[0][1]*e[1][0]))))}function x(t){this.type_=t,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function b(t,e){if(!t||1!=t.nodeType||"IMG"!=t.tagName)throw new _("TYPE_MISMATCH_ERR");if("complete"!=t.readyState)throw new _("INVALID_STATE_ERR");switch(e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:throw new _("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function _(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var w=Math,T=w.round,k=w.sin,C=w.cos,S=w.abs,M=w.sqrt,A=10,P=A/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var E=Array.prototype.slice;n(document);var D={init:function(t){t=t||document,t.createElement("canvas"),t.attachEvent("onreadystatechange",e(this.init_,this,t))},init_:function(t){t=t.getElementsByTagName("canvas");for(var e=0;e<t.length;e++)this.initElement(t[e])},initElement:function(e){if(!e.getContext){e.getContext=t,n(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",a),e.attachEvent("onresize",s);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e}};D.init();for(var F=[],I=0;16>I;I++)for(var $=0;16>$;$++)F[16*I+$]=I.toString(16)+$.toString(16);var z={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},L={},B={},O={butt:"flat",round:"round"},I=p.prototype;I.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},I.beginPath=function(){this.currentPath_=[]},I.moveTo=function(t,e){var i=v(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},I.lineTo=function(t,e){var i=v(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},I.bezierCurveTo=function(t,e,i,n,a,s){a=v(this,a,s),t=v(this,t,e),i=v(this,i,n),f(this,t,i,a)},I.quadraticCurveTo=function(t,e,i,n){t=v(this,t,e),i=v(this,i,n),n={x:this.currentX_+2/3*(t.x-this.currentX_),y:this.currentY_+2/3*(t.y-this.currentY_)},f(this,n,{x:n.x+(i.x-this.currentX_)/3,y:n.y+(i.y-this.currentY_)/3},i)},I.arc=function(t,e,i,n,a,s){i*=A;var o=s?"at":"wa",r=t+C(n)*i-P,l=e+k(n)*i-P;n=t+C(a)*i-P,a=e+k(a)*i-P,r!=n||s||(r+=.125),t=v(this,t,e),r=v(this,r,l),n=v(this,n,a),this.currentPath_.push({type:o,x:t.x,y:t.y,radius:i,xStart:r.x,yStart:r.y,xEnd:n.x,yEnd:n.y})},I.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},I.strokeRect=function(t,e,i,n){var a=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.stroke(),this.currentPath_=a},I.fillRect=function(t,e,i,n){var a=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.fill(),this.currentPath_=a},I.createLinearGradient=function(t,e,i,n){var a=new x("gradient");return a.x0_=t,a.y0_=e,a.x1_=i,a.y1_=n,a},I.createRadialGradient=function(t,e,i,n,a,s){var o=new x("gradientradial");return o.x0_=t,o.y0_=e,o.r0_=i,o.x1_=n,o.y1_=a,o.r1_=s,o},I.drawImage=function(t,e){var i,n,a,s,o,r,l,h;a=t.runtimeStyle.width,s=t.runtimeStyle.height,t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var d=t.width,c=t.height;if(t.runtimeStyle.width=a,t.runtimeStyle.height=s,3==arguments.length)i=arguments[1],n=arguments[2],o=r=0,l=a=d,h=s=c;else if(5==arguments.length)i=arguments[1],n=arguments[2],a=arguments[3],s=arguments[4],o=r=0,l=d,h=c;else{if(9!=arguments.length)throw Error("Invalid number of arguments");o=arguments[1],r=arguments[2],l=arguments[3],h=arguments[4],i=arguments[5],n=arguments[6],a=arguments[7],s=arguments[8]}var u=v(this,i,n),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*A,",",10*A,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var f=[];f.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",T(u.x/A),",","Dy=",T(u.y/A),"");var m=v(this,i+a,n),g=v(this,i,n+s);i=v(this,i+a,n+s),u.x=w.max(u.x,m.x,g.x,i.x),u.y=w.max(u.y,m.y,g.y,i.y),p.push("padding:0 ",T(u.x/A),"px ",T(u.y/A),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",f.join(""),", sizingmethod='clip');")}else p.push("top:",T(u.y/A),"px;left:",T(u.x/A),"px;");p.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',A*a,"px;"," height:",A*s,'px"',' cropleft="',o/d,'"',' croptop="',r/c,'"',' cropright="',(d-o-l)/d,'"',' cropbottom="',(c-r-h)/c,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},I.stroke=function(t){var e=[];e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*A,",",10*A,'"',' stroked="',!t,'"',' path="');for(var i={x:null,y:null},n={x:null,y:null},a=0;a<this.currentPath_.length;a++){var s=this.currentPath_[a];switch(s.type){case"moveTo":e.push(" m ",T(s.x),",",T(s.y));break;case"lineTo":e.push(" l ",T(s.x),",",T(s.y));break;case"close":e.push(" x "),s=null;break;case"bezierCurveTo":e.push(" c ",T(s.cp1x),",",T(s.cp1y),",",T(s.cp2x),",",T(s.cp2y),",",T(s.x),",",T(s.y));break;case"at":case"wa":e.push(" ",s.type," ",T(s.x-this.arcScaleX_*s.radius),",",T(s.y-this.arcScaleY_*s.radius)," ",T(s.x+this.arcScaleX_*s.radius),",",T(s.y+this.arcScaleY_*s.radius)," ",T(s.xStart),",",T(s.yStart)," ",T(s.xEnd),",",T(s.yEnd))}s&&((null==i.x||s.x<i.x)&&(i.x=s.x),(null==n.x||s.x>n.x)&&(n.x=s.x),(null==i.y||s.y<i.y)&&(i.y=s.y),(null==n.y||s.y>n.y)&&(n.y=s.y))}e.push(' ">'),t?g(this,e,i,n):m(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},I.fill=function(){this.stroke(!0)},I.closePath=function(){this.currentPath_.push({type:"close"})},I.save=function(){var t={};l(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=r(o(),this.m_)},I.restore=function(){this.aStack_.length&&(l(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},I.translate=function(t,e){y(this,r([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},I.rotate=function(t){var e=C(t);t=k(t),y(this,r([[e,t,0],[-t,e,0],[0,0,1]],this.m_),!1)},I.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,y(this,r([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},I.transform=function(t,e,i,n,a,s){y(this,r([[t,e,0],[i,n,0],[a,s,1]],this.m_),!0)},I.setTransform=function(t,e,i,n,a,s){y(this,[[t,e,0],[i,n,0],[a,s,1]],!0)},I.drawText_=function(t,e,n,a,s){var o=this.m_;a=0;var r,l=1e3,h=0,d=[];if(r=this.font,B[r])r=B[r];else{var c=document.createElement("div").style;try{c.font=r}catch(u){}r=B[r]={style:c.fontStyle||"normal",variant:c.fontVariant||"normal",weight:c.fontWeight||"normal",size:c.fontSize||10,family:c.fontFamily||"sans-serif"}}var c=r,p=this.element_;r={};for(var f in c)r[f]=c[f];switch(f=parseFloat(p.currentStyle.fontSize),p=parseFloat(c.size),"number"==typeof c.size?r.size=c.size:-1!=c.size.indexOf("px")?r.size=p:-1!=c.size.indexOf("em")?r.size=f*p:-1!=c.size.indexOf("%")?r.size=f/100*p:-1!=c.size.indexOf("pt")?r.size=p/.75:r.size=f,r.size*=.981,f=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px "+r.family,p=this.element_.currentStyle,c=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":c="ltr"==p.direction?"right":"left";break;case"start":c="rtl"==p.direction?"right":"left";break;default:c="left"}switch(this.textBaseline){case"hanging":case"top":h=r.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":h=-r.size/2.25}switch(c){case"right":a=1e3,l=.05;break;case"center":a=l=500}e=v(this,e+0,n+h),d.push('<g_vml_:line from="',-a,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!s,'" stroked="',!!s,'" style="position:absolute;width:1px;height:1px;">'),s?m(this,d):g(this,d,{x:-a,y:0},{x:l,y:r.size}),s=o[0][0].toFixed(3)+","+o[1][0].toFixed(3)+","+o[0][1].toFixed(3)+","+o[1][1].toFixed(3)+",0,0",e=T(e.x/A)+","+T(e.y/A),d.push('<g_vml_:skew on="t" matrix="',s,'" ',' offset="',e,'" origin="',a,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(t),'" style="v-text-align:',c,";font:",i(f),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",d.join(""))},I.fillText=function(t,e,i,n){this.drawText_(t,e,i,n,!1)},I.strokeText=function(t,e,i,n){this.drawText_(t,e,i,n,!0)},I.measureText=function(t){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},I.clip=function(){},I.arcTo=function(){},I.createPattern=function(t,e){return new b(t,e)},x.prototype.addColorStop=function(t,e){e=u(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},I=_.prototype=Error(),I.INDEX_SIZE_ERR=1,I.DOMSTRING_SIZE_ERR=2,I.HIERARCHY_REQUEST_ERR=3,I.WRONG_DOCUMENT_ERR=4,I.INVALID_CHARACTER_ERR=5,I.NO_DATA_ALLOWED_ERR=6,I.NO_MODIFICATION_ALLOWED_ERR=7,I.NOT_FOUND_ERR=8,I.NOT_SUPPORTED_ERR=9,I.INUSE_ATTRIBUTE_ERR=10,I.INVALID_STATE_ERR=11,I.SYNTAX_ERR=12,I.INVALID_MODIFICATION_ERR=13,I.NAMESPACE_ERR=14,I.INVALID_ACCESS_ERR=15,I.VALIDATION_ERR=16,I.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=D,CanvasRenderingContext2D=p,CanvasGradient=x,CanvasPattern=b,DOMException=_}(),function(t,e){"function"==typeof define&&define.amd?define("gridster-coords",["jquery"],e):t.GridsterCoords=e(t.$||t.jQuery)}(this,function(t){function e(e){return e[0]&&t.isPlainObject(e[0])?this.data=e[0]:this.el=e,this.isCoords=!0,this.coords={},this.init(),this}var i=e.prototype;return i.init=function(){this.set(),this.original_coords=this.get()},i.set=function(t,e){var i=this.el;if(i&&!t&&(this.data=i.offset(),this.data.width=i.width(),this.data.height=i.height()),i&&t&&!e){var n=i.offset();this.data.top=n.top,this.data.left=n.left}var a=this.data;return void 0===a.left&&(a.left=a.x1),void 0===a.top&&(a.top=a.y1),this.coords.x1=a.left,this.coords.y1=a.top,this.coords.x2=a.left+a.width,this.coords.y2=a.top+a.height,this.coords.cx=a.left+a.width/2,this.coords.cy=a.top+a.height/2,this.coords.width=a.width,this.coords.height=a.height,this.coords.el=i||!1,this},i.update=function(e){if(!e&&!this.el)return this;if(e){var i=t.extend({},this.data,e);return this.data=i,this.set(!0,!0)}return this.set(!0),this},i.get=function(){return this.coords},i.destroy=function(){this.el.removeData("coords"),delete this.el},t.fn.coords=function(){if(this.data("coords"))return this.data("coords");var t=new e(this,arguments[0]);return this.data("coords",t),t},e}),function(t,e){"function"==typeof define&&define.amd?define("gridster-collision",["jquery","gridster-coords"],e):t.GridsterCollision=e(t.$||t.jQuery,t.GridsterCoords)}(this,function(t){function e(e,n,a){this.options=t.extend(i,a),this.$element=e,this.last_colliders=[],this.last_colliders_coords=[],this.set_colliders(n),this.init()}var i={colliders_context:document.body,overlapping_region:"C"};e.defaults=i;var n=e.prototype;return n.init=function(){this.find_collisions()},n.overlaps=function(t,e){var i=!1,n=!1;return(e.x1>=t.x1&&e.x1<=t.x2||e.x2>=t.x1&&e.x2<=t.x2||t.x1>=e.x1&&t.x2<=e.x2)&&(i=!0),(e.y1>=t.y1&&e.y1<=t.y2||e.y2>=t.y1&&e.y2<=t.y2||t.y1>=e.y1&&t.y2<=e.y2)&&(n=!0),i&&n},n.detect_overlapping_region=function(t,e){var i="",n="";return t.y1>e.cy&&t.y1<e.y2&&(i="N"),t.y2>e.y1&&t.y2<e.cy&&(i="S"),t.x1>e.cx&&t.x1<e.x2&&(n="W"),t.x2>e.x1&&t.x2<e.cx&&(n="E"),i+n||"C"},n.calculate_overlapped_area_coords=function(e,i){var n=Math.max(e.x1,i.x1),a=Math.max(e.y1,i.y1),s=Math.min(e.x2,i.x2),o=Math.min(e.y2,i.y2);return t({left:n,top:a,width:s-n,height:o-a}).coords().get()},n.calculate_overlapped_area=function(t){return t.width*t.height},n.manage_colliders_start_stop=function(e,i,n){for(var a=this.last_colliders_coords,s=0,o=a.length;o>s;s++)-1===t.inArray(a[s],e)&&i.call(this,a[s]);for(var r=0,l=e.length;l>r;r++)-1===t.inArray(e[r],a)&&n.call(this,e[r])},n.find_collisions=function(e){for(var i=this,n=this.options.overlapping_region,a=[],s=[],o=this.colliders||this.$colliders,r=o.length,l=i.$element.coords().update(e||!1).get();r--;){var h=i.$colliders?t(o[r]):o[r],d=h.isCoords?h:h.coords(),c=d.get(),u=i.overlaps(l,c);if(u){var p=i.detect_overlapping_region(l,c);if(p===n||"all"===n){var f=i.calculate_overlapped_area_coords(l,c),m=i.calculate_overlapped_area(f),g={area:m,area_coords:f,region:p,coords:c,player_coords:l,el:h};i.options.on_overlap&&i.options.on_overlap.call(this,g),a.push(d),s.push(g)}}}return(i.options.on_overlap_stop||i.options.on_overlap_start)&&this.manage_colliders_start_stop(a,i.options.on_overlap_start,i.options.on_overlap_stop),this.last_colliders_coords=a,s},n.get_closest_colliders=function(t){var e=this.find_collisions(t);return e.sort(function(t,e){return"C"===t.region&&"C"===e.region?t.coords.y1<e.coords.y1||t.coords.x1<e.coords.x1?-1:1:(t.area<e.area,1)}),e},n.set_colliders=function(e){"string"==typeof e||e instanceof t?this.$colliders=t(e,this.options.colliders_context).not(this.$element):this.colliders=t(e)},t.fn.collision=function(t,i){return new e(this,t,i)},e}),function(t){t.delay=function(t,e){var i=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},t.debounce=function(t,e,i){var n;return function(){var a=this,s=arguments,o=function(){n=null,i||t.apply(a,s)};i&&!n&&t.apply(a,s),clearTimeout(n),n=setTimeout(o,e)}},t.throttle=function(t,e){var i,n,a,s,o,r,l=debounce(function(){o=s=!1},e);return function(){i=this,n=arguments;var h=function(){a=null,o&&t.apply(i,n),l()};return a||(a=setTimeout(h,e)),s?o=!0:r=t.apply(i,n),l(),s=!0,r}}}(window),function(t,e){"function"==typeof define&&define.amd?define("gridster-draggable",["jquery"],e):t.GridsterDraggable=e(t.$||t.jQuery)}(this,function(t){function e(e,n){this.options=t.extend({},i,n),this.$document=t(document),this.$container=t(e),this.$dragitems=t(this.options.items,this.$container),this.is_dragging=!1,this.player_min_left=0+this.options.offset_left,this.id=l(),this.ns=".gridster-draggable-"+this.id,this.init()}var i={items:"li",distance:1,limit:!0,offset_left:0,autoscroll:!0,ignore_dragging:["INPUT","TEXTAREA","SELECT","BUTTON"],handle:null,container_width:0,move_element:!0,helper:!1,remove_helper:!0},n=t(window),a={x:"left",y:"top"},s=!!("ontouchstart"in window),o=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},r=0,l=function(){return++r+""};e.defaults=i;var h=e.prototype;return h.init=function(){var e=this.$container.css("position");this.calculate_dimensions(),this.$container.css("position","static"===e?"relative":e),this.disabled=!1,this.events(),t(window).bind(this.nsEvent("resize"),throttle(t.proxy(this.calculate_dimensions,this),200))},h.nsEvent=function(t){return(t||"")+this.ns},h.events=function(){this.pointer_events={start:this.nsEvent("touchstart")+" "+this.nsEvent("mousedown"),move:this.nsEvent("touchmove")+" "+this.nsEvent("mousemove"),
end:this.nsEvent("touchend")+" "+this.nsEvent("mouseup")},this.$container.on(this.nsEvent("selectstart"),t.proxy(this.on_select_start,this)),this.$container.on(this.pointer_events.start,this.options.items,t.proxy(this.drag_handler,this)),this.$document.on(this.pointer_events.end,t.proxy(function(t){this.is_dragging=!1,this.disabled||(this.$document.off(this.pointer_events.move),this.drag_start&&this.on_dragstop(t))},this))},h.get_actual_pos=function(t){var e=t.position();return e},h.get_mouse_pos=function(t){if(t.originalEvent&&t.originalEvent.touches){var e=t.originalEvent;t=e.touches.length?e.touches[0]:e.changedTouches[0]}return{left:t.clientX,top:t.clientY}},h.get_offset=function(e){e.preventDefault();var i=this.get_mouse_pos(e),n=Math.round(i.left-this.mouse_init_pos.left),a=Math.round(i.top-this.mouse_init_pos.top),s=Math.round(this.el_init_offset.left+n-this.baseX+t(window).scrollLeft()-this.win_offset_x),o=Math.round(this.el_init_offset.top+a-this.baseY+t(window).scrollTop()-this.win_offset_y);return this.options.limit&&(s>this.player_max_left?s=this.player_max_left:this.player_min_left>s&&(s=this.player_min_left)),{position:{left:s,top:o},pointer:{left:i.left,top:i.top,diff_left:n+(t(window).scrollLeft()-this.win_offset_x),diff_top:a+(t(window).scrollTop()-this.win_offset_y)}}},h.get_drag_data=function(t){var e=this.get_offset(t);return e.$player=this.$player,e.$helper=this.helper?this.$helper:this.$player,e},h.set_limits=function(t){return t||(t=this.$container.width()),this.player_max_left=t-this.player_width+-this.options.offset_left,this.options.container_width=t,this},h.scroll_in=function(e,i){var s,r=a[e],l=50,h=30,d="x"===e,c=d?this.window_width:this.window_height,u=d?t(document).width():t(document).height(),p=d?this.$player.width():this.$player.height(),f=n["scroll"+o(r)](),m=f,g=m+c,v=g-l,y=m+l,x=m+i.pointer[r],b=u-c+p;return x>=v&&(s=f+h,b>s&&(n["scroll"+o(r)](s),this["scroll_offset_"+e]+=h)),y>=x&&(s=f-h,s>0&&(n["scroll"+o(r)](s),this["scroll_offset_"+e]-=h)),this},h.manage_scroll=function(t){this.scroll_in("x",t),this.scroll_in("y",t)},h.calculate_dimensions=function(){this.window_height=n.height(),this.window_width=n.width()},h.drag_handler=function(e){if(e.target.nodeName,!this.disabled&&(1===e.which||s)&&!this.ignore_drag(e)){var i=this,n=!0;return this.$player=t(e.currentTarget),this.el_init_pos=this.get_actual_pos(this.$player),this.mouse_init_pos=this.get_mouse_pos(e),this.offsetY=this.mouse_init_pos.top-this.el_init_pos.top,this.$document.on(this.pointer_events.move,function(t){var e=i.get_mouse_pos(t),a=Math.abs(e.left-i.mouse_init_pos.left),s=Math.abs(e.top-i.mouse_init_pos.top);return(a>i.options.distance||s>i.options.distance)&&(n?(n=!1,i.on_dragstart.call(i,t),!1):(i.is_dragging===!0&&i.on_dragmove.call(i,t),!1))}),!!s&&void 0}},h.on_dragstart=function(e){if(e.preventDefault(),this.is_dragging)return this;this.drag_start=this.is_dragging=!0;var i=this.$container.offset();return this.baseX=Math.round(i.left),this.baseY=Math.round(i.top),this.initial_container_width=this.options.container_width||this.$container.width(),"clone"===this.options.helper?(this.$helper=this.$player.clone().appendTo(this.$container).addClass("helper"),this.helper=!0):this.helper=!1,this.win_offset_y=t(window).scrollTop(),this.win_offset_x=t(window).scrollLeft(),this.scroll_offset_y=0,this.scroll_offset_x=0,this.el_init_offset=this.$player.offset(),this.player_width=this.$player.width(),this.player_height=this.$player.height(),this.set_limits(this.options.container_width),this.options.start&&this.options.start.call(this.$player,e,this.get_drag_data(e)),!1},h.on_dragmove=function(t){var e=this.get_drag_data(t);this.options.autoscroll&&this.manage_scroll(e),this.options.move_element&&(this.helper?this.$helper:this.$player).css({position:"absolute",left:e.position.left,top:e.position.top});var i=this.last_position||e.position;return e.prev_position=i,this.options.drag&&this.options.drag.call(this.$player,t,e),this.last_position=e.position,!1},h.on_dragstop=function(t){var e=this.get_drag_data(t);return this.drag_start=!1,this.options.stop&&this.options.stop.call(this.$player,t,e),this.helper&&this.options.remove_helper&&this.$helper.remove(),!1},h.on_select_start=function(t){return!(!this.disabled&&!this.ignore_drag(t))&&void 0},h.enable=function(){this.disabled=!1},h.disable=function(){this.disabled=!0},h.destroy=function(){this.disable(),this.$container.off(this.ns),this.$document.off(this.ns),t(window).off(this.ns),t.removeData(this.$container,"drag")},h.ignore_drag=function(e){return this.options.handle?!t(e.target).is(this.options.handle):t.isFunction(this.options.ignore_dragging)?this.options.ignore_dragging(e):t(e.target).is(this.options.ignore_dragging.join(", "))},t.fn.drag=function(t){return new e(this,t)},e}),function(t,e){"function"==typeof define&&define.amd?define(["jquery","gridster-draggable","gridster-collision"],e):t.Gridster=e(t.$||t.jQuery,t.GridsterDraggable,t.GridsterCollision)}(this,function(t,e){function i(e,i){this.options=t.extend(!0,{},n,i),this.$el=t(e),this.$wrapper=this.$el.parent(),this.$widgets=this.$el.children(this.options.widget_selector).addClass("gs-w"),this.widgets=[],this.$changed=t([]),this.wrapper_width=this.$wrapper.width(),this.min_widget_width=2*this.options.widget_margins[0]+this.options.widget_base_dimensions[0],this.min_widget_height=2*this.options.widget_margins[1]+this.options.widget_base_dimensions[1],this.generated_stylesheets=[],this.$style_tags=t([]),this.options.auto_init&&this.init()}var n={namespace:"",widget_selector:"li",widget_margins:[10,10],widget_base_dimensions:[400,225],extra_rows:0,extra_cols:0,min_cols:1,max_cols:1/0,min_rows:15,max_size_x:!1,autogrow_cols:!1,autogenerate_stylesheet:!0,avoid_overlapped_widgets:!0,auto_init:!0,serialize_params:function(t,e){return{col:e.col,row:e.row,size_x:e.size_x,size_y:e.size_y}},collision:{},draggable:{items:".gs-w",distance:4,ignore_dragging:e.defaults.ignore_dragging.slice(0)},resize:{enabled:!1,axes:["both"],handle_append_to:"",handle_class:"gs-resize-handle",max_size:[1/0,1/0],min_size:[1,1]}};i.defaults=n,i.generated_stylesheets=[],i.sort_by_row_asc=function(e){return e=e.sort(function(e,i){return e.row||(e=t(e).coords().grid,i=t(i).coords().grid),e.row>i.row?1:-1})},i.sort_by_row_and_col_asc=function(t){return t=t.sort(function(t,e){return t.row>e.row||t.row===e.row&&t.col>e.col?1:-1})},i.sort_by_col_asc=function(t){return t=t.sort(function(t,e){return t.col>e.col?1:-1})},i.sort_by_row_desc=function(t){return t=t.sort(function(t,e){return t.row+t.size_y<e.row+e.size_y?1:-1})};var a=i.prototype;return a.init=function(){this.options.resize.enabled&&this.setup_resize(),this.generate_grid_and_stylesheet(),this.get_widgets_from_DOM(),this.set_dom_grid_height(),this.set_dom_grid_width(),this.$wrapper.addClass("ready"),this.draggable(),this.options.resize.enabled&&this.resizable(),t(window).bind("resize.gridster",throttle(t.proxy(this.recalculate_faux_grid,this),200))},a.disable=function(){return this.$wrapper.find(".player-revert").removeClass("player-revert"),this.drag_api.disable(),this},a.enable=function(){return this.drag_api.enable(),this},a.disable_resize=function(){return this.$el.addClass("gs-resize-disabled"),this.resize_api.disable(),this},a.enable_resize=function(){return this.$el.removeClass("gs-resize-disabled"),this.resize_api.enable(),this},a.add_widget=function(e,i,n,a,s,o,r){var l;i||(i=1),n||(n=1),!a&!s?l=this.next_position(i,n):(l={col:a,row:s,size_x:i,size_y:n},this.empty_cells(a,s,i,n));var h=t(e).attr({"data-col":l.col,"data-row":l.row,"data-sizex":i,"data-sizey":n}).addClass("gs-w").appendTo(this.$el).hide();return this.$widgets=this.$widgets.add(h),this.register_widget(h),this.add_faux_rows(l.size_y),o&&this.set_widget_max_size(h,o),r&&this.set_widget_min_size(h,r),this.set_dom_grid_width(),this.set_dom_grid_height(),this.drag_api.set_limits(this.cols*this.min_widget_width),h.fadeIn()},a.set_widget_min_size=function(t,e){if(t="number"==typeof t?this.$widgets.eq(t):t,!t.length)return this;var i=t.data("coords").grid;return i.min_size_x=e[0],i.min_size_y=e[1],this},a.set_widget_max_size=function(t,e){if(t="number"==typeof t?this.$widgets.eq(t):t,!t.length)return this;var i=t.data("coords").grid;return i.max_size_x=e[0],i.max_size_y=e[1],this},a.add_resize_handle=function(e){var i=this.options.resize.handle_append_to;return t(this.resize_handle_tpl).appendTo(i?t(i,e):e),this},a.resize_widget=function(t,e,i,n){var a=t.coords().grid,s=a.col,o=this.options.max_cols,r=a.size_y,l=a.col,h=l;e||(e=a.size_x),i||(i=a.size_y),1/0!==o&&(e=Math.min(e,o-s+1)),i>r&&this.add_faux_rows(Math.max(i-r,0));var d=s+e-1;d>this.cols&&this.add_faux_cols(d-this.cols);var c={col:h,row:a.row,size_x:e,size_y:i};return this.mutate_widget_in_gridmap(t,a,c),this.set_dom_grid_height(),this.set_dom_grid_width(),n&&n.call(this,c.size_x,c.size_y),t},a.mutate_widget_in_gridmap=function(e,i,n){i.size_x;var a=i.size_y,s=this.get_cells_occupied(i),o=this.get_cells_occupied(n),r=[];t.each(s.cols,function(e,i){-1===t.inArray(i,o.cols)&&r.push(i)});var l=[];t.each(o.cols,function(e,i){-1===t.inArray(i,s.cols)&&l.push(i)});var h=[];t.each(s.rows,function(e,i){-1===t.inArray(i,o.rows)&&h.push(i)});var d=[];if(t.each(o.rows,function(e,i){-1===t.inArray(i,s.rows)&&d.push(i)}),this.remove_from_gridmap(i),l.length){var c=[n.col,n.row,n.size_x,Math.min(a,n.size_y),e];this.empty_cells.apply(this,c)}if(d.length){var u=[n.col,n.row,n.size_x,n.size_y,e];this.empty_cells.apply(this,u)}if(i.col=n.col,i.row=n.row,i.size_x=n.size_x,i.size_y=n.size_y,this.add_to_gridmap(n,e),e.removeClass("player-revert"),e.data("coords").update({width:n.size_x*this.options.widget_base_dimensions[0]+2*(n.size_x-1)*this.options.widget_margins[0],height:n.size_y*this.options.widget_base_dimensions[1]+2*(n.size_y-1)*this.options.widget_margins[1]}),e.attr({"data-col":n.col,"data-row":n.row,"data-sizex":n.size_x,"data-sizey":n.size_y}),r.length){var p=[r[0],n.row,r.length,Math.min(a,n.size_y),e];this.remove_empty_cells.apply(this,p)}if(h.length){var f=[n.col,n.row,n.size_x,n.size_y,e];this.remove_empty_cells.apply(this,f)}return this.move_widget_up(e),this},a.empty_cells=function(e,i,n,a,s){var o=this.widgets_below({col:e,row:i-a,size_x:n,size_y:a});return o.not(s).each(t.proxy(function(e,n){var s=t(n).coords().grid;if(i+a-1>=s.row){var o=i+a-s.row;this.move_widget_down(t(n),o)}},this)),this.set_dom_grid_height(),this},a.remove_empty_cells=function(e,i,n,a,s){var o=this.widgets_below({col:e,row:i,size_x:n,size_y:a});return o.not(s).each(t.proxy(function(e,i){this.move_widget_up(t(i),a)},this)),this.set_dom_grid_height(),this},a.next_position=function(t,e){t||(t=1),e||(e=1);for(var n,a=this.gridmap,s=a.length,o=[],r=1;s>r;r++){n=a[r].length;for(var l=1;n>=l;l++){var h=this.can_move_to({size_x:t,size_y:e},r,l);h&&o.push({col:r,row:l,size_y:e,size_x:t})}}return!!o.length&&i.sort_by_row_and_col_asc(o)[0]},a.remove_widget=function(e,i,n){var a=e instanceof t?e:t(e),s=a.coords().grid;t.isFunction(i)&&(n=i,i=!1),this.cells_occupied_by_placeholder={},this.$widgets=this.$widgets.not(a);var o=this.widgets_below(a);return this.remove_from_gridmap(s),a.fadeOut(t.proxy(function(){a.remove(),i||o.each(t.proxy(function(e,i){this.move_widget_up(t(i),s.size_y)},this)),this.set_dom_grid_height(),n&&n.call(this,e)},this)),this},a.remove_all_widgets=function(e){return this.$widgets.each(t.proxy(function(t,i){this.remove_widget(i,!0,e)},this)),this},a.serialize=function(e){return e||(e=this.$widgets),e.map(t.proxy(function(e,i){var n=t(i);return this.options.serialize_params(n,n.coords().grid)},this)).get()},a.serialize_changed=function(){return this.serialize(this.$changed)},a.dom_to_coords=function(t){return{col:parseInt(t.attr("data-col"),10),row:parseInt(t.attr("data-row"),10),size_x:parseInt(t.attr("data-sizex"),10)||1,size_y:parseInt(t.attr("data-sizey"),10)||1,max_size_x:parseInt(t.attr("data-max-sizex"),10)||!1,max_size_y:parseInt(t.attr("data-max-sizey"),10)||!1,min_size_x:parseInt(t.attr("data-min-sizex"),10)||!1,min_size_y:parseInt(t.attr("data-min-sizey"),10)||!1,el:t}},a.register_widget=function(e){var i=e instanceof jQuery,n=i?this.dom_to_coords(e):e,a=!1;i||(e=n.el);var s=this.can_go_widget_up(n);return s&&(n.row=s,e.attr("data-row",s),this.$el.trigger("gridster:positionchanged",[n]),a=!0),this.options.avoid_overlapped_widgets&&!this.can_move_to({size_x:n.size_x,size_y:n.size_y},n.col,n.row)&&(t.extend(n,this.next_position(n.size_x,n.size_y)),e.attr({"data-col":n.col,"data-row":n.row,"data-sizex":n.size_x,"data-sizey":n.size_y}),a=!0),e.data("coords",e.coords()),e.data("coords").grid=n,this.add_to_gridmap(n,e),this.options.resize.enabled&&this.add_resize_handle(e),a},a.update_widget_position=function(t,e){return this.for_each_cell_occupied(t,function(t,i){return this.gridmap[t]?void(this.gridmap[t][i]=e):this}),this},a.remove_from_gridmap=function(t){return this.update_widget_position(t,!1)},a.add_to_gridmap=function(e,i){if(this.update_widget_position(e,i||e.el),e.el){var n=this.widgets_below(e.el);n.each(t.proxy(function(e,i){this.move_widget_up(t(i))},this))}},a.draggable=function(){var e=this,i=t.extend(!0,{},this.options.draggable,{offset_left:this.options.widget_margins[0],offset_top:this.options.widget_margins[1],container_width:this.cols*this.min_widget_width,limit:!0,start:function(i,n){e.$widgets.filter(".player-revert").removeClass("player-revert"),e.$player=t(this),e.$helper=t(n.$helper),e.helper=!e.$helper.is(e.$player),e.on_start_drag.call(e,i,n),e.$el.trigger("gridster:dragstart")},stop:function(t,i){e.on_stop_drag.call(e,t,i),e.$el.trigger("gridster:dragstop")},drag:throttle(function(t,i){e.on_drag.call(e,t,i),e.$el.trigger("gridster:drag")},60)});return this.drag_api=this.$el.drag(i),this},a.resizable=function(){return this.resize_api=this.$el.drag({items:"."+this.options.resize.handle_class,offset_left:this.options.widget_margins[0],container_width:this.container_width,move_element:!1,resize:!0,limit:!this.options.autogrow_cols,start:t.proxy(this.on_start_resize,this),stop:t.proxy(function(e,i){delay(t.proxy(function(){this.on_stop_resize(e,i)},this),120)},this),drag:throttle(t.proxy(this.on_resize,this),60)}),this},a.setup_resize=function(){this.resize_handle_class=this.options.resize.handle_class;var e=this.options.resize.axes,i='<span class="'+this.resize_handle_class+" "+this.resize_handle_class+'-{type}" />';return this.resize_handle_tpl=t.map(e,function(t){return i.replace("{type}",t)}).join(""),t.isArray(this.options.draggable.ignore_dragging)&&this.options.draggable.ignore_dragging.push("."+this.resize_handle_class),this},a.on_start_drag=function(e,i){this.$helper.add(this.$player).add(this.$wrapper).addClass("dragging"),this.highest_col=this.get_highest_occupied_cell().col,this.$player.addClass("player"),this.player_grid_data=this.$player.coords().grid,this.placeholder_grid_data=t.extend({},this.player_grid_data),this.set_dom_grid_height(this.$el.height()+this.player_grid_data.size_y*this.min_widget_height),this.set_dom_grid_width(this.cols);var n=this.player_grid_data.size_x,a=this.cols-this.highest_col;this.options.autogrow_cols&&n>=a&&this.add_faux_cols(Math.min(n-a,1));var s=this.faux_grid,o=this.$player.data("coords").coords;this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data),this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data),this.last_cols=[],this.last_rows=[],this.collision_api=this.$helper.collision(s,this.options.collision),this.$preview_holder=t("<"+this.$player.get(0).tagName+" />",{"class":"preview-holder","data-row":this.$player.attr("data-row"),"data-col":this.$player.attr("data-col"),css:{width:o.width,height:o.height}}).appendTo(this.$el),this.options.draggable.start&&this.options.draggable.start.call(this,e,i)},a.on_drag=function(t,e){if(null===this.$player)return!1;var i={left:e.position.left+this.baseX,top:e.position.top+this.baseY};if(this.options.autogrow_cols){var n=this.placeholder_grid_data.col+this.placeholder_grid_data.size_x-1;n>=this.cols-1&&this.options.max_cols>=this.cols+1&&(this.add_faux_cols(1),this.set_dom_grid_width(this.cols+1),this.drag_api.set_limits(this.container_width)),this.collision_api.set_colliders(this.faux_grid)}this.colliders_data=this.collision_api.get_closest_colliders(i),this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column),this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row),this.helper&&this.$player&&this.$player.css({left:e.position.left,top:e.position.top}),this.options.draggable.drag&&this.options.draggable.drag.call(this,t,e)},a.on_stop_drag=function(t,e){this.$helper.add(this.$player).add(this.$wrapper).removeClass("dragging"),e.position.left=e.position.left+this.baseX,e.position.top=e.position.top+this.baseY,this.colliders_data=this.collision_api.get_closest_colliders(e.position),this.on_overlapped_column_change(this.on_start_overlapping_column,this.on_stop_overlapping_column),this.on_overlapped_row_change(this.on_start_overlapping_row,this.on_stop_overlapping_row),this.$player.addClass("player-revert").removeClass("player").attr({"data-col":this.placeholder_grid_data.col,"data-row":this.placeholder_grid_data.row}).css({left:"",top:""}),this.$changed=this.$changed.add(this.$player),this.cells_occupied_by_player=this.get_cells_occupied(this.placeholder_grid_data),this.set_cells_player_occupies(this.placeholder_grid_data.col,this.placeholder_grid_data.row),this.$player.coords().grid.row=this.placeholder_grid_data.row,this.$player.coords().grid.col=this.placeholder_grid_data.col,this.options.draggable.stop&&this.options.draggable.stop.call(this,t,e),this.$preview_holder.remove(),this.$player=null,this.$helper=null,this.placeholder_grid_data={},this.player_grid_data={},this.cells_occupied_by_placeholder={},this.cells_occupied_by_player={},this.set_dom_grid_height(),this.set_dom_grid_width(),this.options.autogrow_cols&&this.drag_api.set_limits(this.cols*this.min_widget_width)},a.on_start_resize=function(e,i){this.$resized_widget=i.$player.closest(".gs-w"),this.resize_coords=this.$resized_widget.coords(),this.resize_wgd=this.resize_coords.grid,this.resize_initial_width=this.resize_coords.coords.width,this.resize_initial_height=this.resize_coords.coords.height,this.resize_initial_sizex=this.resize_coords.grid.size_x,this.resize_initial_sizey=this.resize_coords.grid.size_y,this.resize_initial_col=this.resize_coords.grid.col,this.resize_last_sizex=this.resize_initial_sizex,this.resize_last_sizey=this.resize_initial_sizey,this.resize_max_size_x=Math.min(this.resize_wgd.max_size_x||this.options.resize.max_size[0],this.options.max_cols-this.resize_initial_col+1),this.resize_max_size_y=this.resize_wgd.max_size_y||this.options.resize.max_size[1],this.resize_min_size_x=this.resize_wgd.min_size_x||this.options.resize.min_size[0]||1,this.resize_min_size_y=this.resize_wgd.min_size_y||this.options.resize.min_size[1]||1,this.resize_initial_last_col=this.get_highest_occupied_cell().col,this.set_dom_grid_width(this.cols),this.resize_dir={right:i.$player.is("."+this.resize_handle_class+"-x"),bottom:i.$player.is("."+this.resize_handle_class+"-y")},this.$resized_widget.css({"min-width":this.options.widget_base_dimensions[0],"min-height":this.options.widget_base_dimensions[1]});var n=this.$resized_widget.get(0).tagName;this.$resize_preview_holder=t("<"+n+" />",{"class":"preview-holder resize-preview-holder","data-row":this.$resized_widget.attr("data-row"),"data-col":this.$resized_widget.attr("data-col"),css:{width:this.resize_initial_width,height:this.resize_initial_height}}).appendTo(this.$el),this.$resized_widget.addClass("resizing"),this.options.resize.start&&this.options.resize.start.call(this,e,i,this.$resized_widget),this.$el.trigger("gridster:resizestart")},a.on_stop_resize=function(e,i){this.$resized_widget.removeClass("resizing").css({width:"",height:""}),delay(t.proxy(function(){this.$resize_preview_holder.remove().css({"min-width":"","min-height":""}),this.options.resize.stop&&this.options.resize.stop.call(this,e,i,this.$resized_widget),this.$el.trigger("gridster:resizestop")},this),300),this.set_dom_grid_width(),this.options.autogrow_cols&&this.drag_api.set_limits(this.cols*this.min_widget_width)},a.on_resize=function(t,e){var i,n=e.pointer.diff_left,a=e.pointer.diff_top,s=this.options.widget_base_dimensions[0],o=this.options.widget_base_dimensions[1],r=this.options.widget_margins[0],l=this.options.widget_margins[1],h=this.resize_max_size_x,d=this.resize_min_size_x,c=this.resize_max_size_y,u=this.resize_min_size_y,p=this.options.autogrow_cols,f=1/0,m=1/0,g=Math.ceil(n/(s+2*r)-.2),v=Math.ceil(a/(o+2*l)-.2),y=Math.max(1,this.resize_initial_sizex+g),x=Math.max(1,this.resize_initial_sizey+v),b=this.container_width/this.min_widget_width-this.resize_initial_col+1,_=b*this.min_widget_width-2*r;if(y=Math.max(Math.min(y,h),d),y=Math.min(b,y),i=h*s+2*(y-1)*r,f=Math.min(i,_),min_width=d*s+2*(y-1)*r,x=Math.max(Math.min(x,c),u),m=c*o+2*(x-1)*l,min_height=u*o+2*(x-1)*l,this.resize_dir.right?x=this.resize_initial_sizey:this.resize_dir.bottom&&(y=this.resize_initial_sizex),p){var w=this.resize_initial_col+y-1;p&&w>=this.resize_initial_last_col&&(this.set_dom_grid_width(Math.max(w+1,this.cols)),w>this.cols&&this.add_faux_cols(w-this.cols))}var T={};!this.resize_dir.bottom&&(T.width=Math.max(Math.min(this.resize_initial_width+n,f),min_width)),!this.resize_dir.right&&(T.height=Math.max(Math.min(this.resize_initial_height+a,m),min_height)),this.$resized_widget.css(T),(y!==this.resize_last_sizex||x!==this.resize_last_sizey)&&(this.resize_widget(this.$resized_widget,y,x),this.set_dom_grid_width(this.cols),this.$resize_preview_holder.css({width:"",height:""}).attr({"data-row":this.$resized_widget.attr("data-row"),"data-sizex":y,"data-sizey":x})),this.options.resize.resize&&this.options.resize.resize.call(this,t,e,this.$resized_widget),this.$el.trigger("gridster:resize"),this.resize_last_sizex=y,this.resize_last_sizey=x},a.on_overlapped_column_change=function(e,i){if(!this.colliders_data.length)return this;var n,a=this.get_targeted_columns(this.colliders_data[0].el.data.col),s=this.last_cols.length,o=a.length;for(n=0;o>n;n++)-1===t.inArray(a[n],this.last_cols)&&(e||t.noop).call(this,a[n]);for(n=0;s>n;n++)-1===t.inArray(this.last_cols[n],a)&&(i||t.noop).call(this,this.last_cols[n]);return this.last_cols=a,this},a.on_overlapped_row_change=function(e,i){if(!this.colliders_data.length)return this;var n,a=this.get_targeted_rows(this.colliders_data[0].el.data.row),s=this.last_rows.length,o=a.length;for(n=0;o>n;n++)-1===t.inArray(a[n],this.last_rows)&&(e||t.noop).call(this,a[n]);for(n=0;s>n;n++)-1===t.inArray(this.last_rows[n],a)&&(i||t.noop).call(this,this.last_rows[n]);this.last_rows=a},a.set_player=function(t,e,i){var n=this;i||this.empty_cells_player_occupies();var a=i?{col:t}:n.colliders_data[0].el.data,s=a.col,o=e||a.row;this.player_grid_data={col:s,row:o,size_y:this.player_grid_data.size_y,size_x:this.player_grid_data.size_x},this.cells_occupied_by_player=this.get_cells_occupied(this.player_grid_data);var r=this.get_widgets_overlapped(this.player_grid_data),l=this.widgets_constraints(r);if(this.manage_movements(l.can_go_up,s,o),this.manage_movements(l.can_not_go_up,s,o),!r.length){var h=this.can_go_player_up(this.player_grid_data);h!==!1&&(o=h),this.set_placeholder(s,o)}return{col:s,row:o}},a.widgets_constraints=function(e){var n,a=t([]),s=[],o=[];return e.each(t.proxy(function(e,i){var n=t(i),r=n.coords().grid;this.can_go_widget_up(r)?(a=a.add(n),s.push(r)):o.push(r)},this)),n=e.not(a),{can_go_up:i.sort_by_row_asc(s),can_not_go_up:i.sort_by_row_desc(o)}},a.manage_movements=function(e,i,n){return t.each(e,t.proxy(function(t,e){var a=e,s=a.el,o=this.can_go_widget_up(a);if(o)this.move_widget_to(s,o),this.set_placeholder(i,o+a.size_y);else{var r=this.can_go_player_up(this.player_grid_data);if(!r){var l=n+this.player_grid_data.size_y-a.row;this.move_widget_down(s,l),this.set_placeholder(i,n)}}},this)),this},a.is_player=function(t,e){if(e&&!this.gridmap[t])return!1;var i=e?this.gridmap[t][e]:t;return i&&(i.is(this.$player)||i.is(this.$helper))},a.is_player_in=function(e,i){var n=this.cells_occupied_by_player||{};return t.inArray(e,n.cols)>=0&&t.inArray(i,n.rows)>=0},a.is_placeholder_in=function(e,i){var n=this.cells_occupied_by_placeholder||{};return this.is_placeholder_in_col(e)&&t.inArray(i,n.rows)>=0},a.is_placeholder_in_col=function(e){var i=this.cells_occupied_by_placeholder||[];return t.inArray(e,i.cols)>=0},a.is_empty=function(t,e){return void 0===this.gridmap[t]||void 0!==this.gridmap[t][e]&&this.gridmap[t][e]===!1},a.is_occupied=function(t,e){return!!this.gridmap[t]&&!!this.gridmap[t][e]},a.is_widget=function(t,e){var i=this.gridmap[t];return!!i&&(i=i[e],!!i&&i)},a.is_widget_under_player=function(t,e){return!!this.is_widget(t,e)&&this.is_player_in(t,e)},a.get_widgets_under_player=function(e){e||(e=this.cells_occupied_by_player||{cols:[],rows:[]});var i=t([]);return t.each(e.cols,t.proxy(function(n,a){t.each(e.rows,t.proxy(function(t,e){this.is_widget(a,e)&&(i=i.add(this.gridmap[a][e]))},this))},this)),i},a.set_placeholder=function(e,i){var n=t.extend({},this.placeholder_grid_data),a=this.widgets_below({col:n.col,row:n.row,size_y:n.size_y,size_x:n.size_x}),s=e+n.size_x-1;s>this.cols&&(e-=s-e);var o=i>this.placeholder_grid_data.row,r=this.placeholder_grid_data.col!==e;this.placeholder_grid_data.col=e,this.placeholder_grid_data.row=i,this.cells_occupied_by_placeholder=this.get_cells_occupied(this.placeholder_grid_data),this.$preview_holder.attr({"data-row":i,"data-col":e}),(o||r)&&a.each(t.proxy(function(i,a){this.move_widget_up(t(a),this.placeholder_grid_data.col-e+n.size_y)},this));var l=this.get_widgets_under_player(this.cells_occupied_by_placeholder);l.length&&l.each(t.proxy(function(e,a){var s=t(a);this.move_widget_down(s,i+n.size_y-s.data("coords").grid.row)},this))},a.can_go_player_up=function(t){var e=t.row+t.size_y-1,i=!0,n=[],a=1e4,s=this.get_widgets_under_player();return this.for_each_column_occupied(t,function(t){var o=this.gridmap[t],r=e+1;for(n[t]=[];--r>0&&(this.is_empty(t,r)||this.is_player(t,r)||this.is_widget(t,r)&&o[r].is(s));)n[t].push(r),a=a>r?r:a;return 0===n[t].length?(i=!1,!0):void n[t].sort(function(t,e){return t-e})}),!!i&&this.get_valid_rows(t,n,a)},a.can_go_widget_up=function(t){var e=t.row+t.size_y-1,i=!0,n=[],a=1e4;return this.for_each_column_occupied(t,function(s){var o=this.gridmap[s];n[s]=[];for(var r=e+1;--r>0&&(!this.is_widget(s,r)||this.is_player_in(s,r)||o[r].is(t.el));)this.is_player(s,r)||this.is_placeholder_in(s,r)||this.is_player_in(s,r)||n[s].push(r),a>r&&(a=r);return 0===n[s].length?(i=!1,!0):void n[s].sort(function(t,e){return t-e})}),!!i&&this.get_valid_rows(t,n,a)},a.get_valid_rows=function(e,i,n){for(var a=e.row,s=e.row+e.size_y-1,o=e.size_y,r=n-1,l=[];s>=++r;){var h=!0;if(t.each(i,function(e,i){t.isArray(i)&&-1===t.inArray(r,i)&&(h=!1)}),h===!0&&(l.push(r),l.length===o))break}var d=!1;return 1===o?l[0]!==a&&(d=l[0]||!1):l[0]!==a&&(d=this.get_consecutive_numbers_index(l,o)),d},a.get_consecutive_numbers_index=function(t,e){for(var i=t.length,n=[],a=!0,s=-1,o=0;i>o;o++){if(a||t[o]===s+1){if(n.push(o),n.length===e)break;a=!1}else n=[],a=!0;s=t[o]}return n.length>=e&&t[n[0]]},a.get_widgets_overlapped=function(){var e=t([]),i=[],n=this.cells_occupied_by_player.rows.slice(0);return n.reverse(),t.each(this.cells_occupied_by_player.cols,t.proxy(function(a,s){t.each(n,t.proxy(function(n,a){if(!this.gridmap[s])return!0;var o=this.gridmap[s][a];this.is_occupied(s,a)&&!this.is_player(o)&&-1===t.inArray(o,i)&&(e=e.add(o),i.push(o))},this))},this)),e},a.on_start_overlapping_column=function(t){this.set_player(t,!1)},a.on_start_overlapping_row=function(t){this.set_player(!1,t)},a.on_stop_overlapping_column=function(t){this.set_player(t,!1);var e=this;this.for_each_widget_below(t,this.cells_occupied_by_player.rows[0],function(){e.move_widget_up(this,e.player_grid_data.size_y)})},a.on_stop_overlapping_row=function(t){this.set_player(!1,t);for(var e=this,i=this.cells_occupied_by_player.cols,n=0,a=i.length;a>n;n++)this.for_each_widget_below(i[n],t,function(){e.move_widget_up(this,e.player_grid_data.size_y)})},a.move_widget_to=function(e,i){var n=this,a=e.coords().grid;i-a.row;var s=this.widgets_below(e),o=this.can_move_to(a,a.col,i,e);return o!==!1&&(this.remove_from_gridmap(a),a.row=i,this.add_to_gridmap(a),e.attr("data-row",i),this.$changed=this.$changed.add(e),s.each(function(e,i){var a=t(i),s=a.coords().grid,o=n.can_go_widget_up(s);o&&o!==s.row&&n.move_widget_to(a,o)}),this)},a.move_widget_up=function(e,i){var n=e.coords().grid,a=n.row,s=[];return i||(i=1),!!this.can_go_up(e)&&void this.for_each_column_occupied(n,function(n){if(-1===t.inArray(e,s)){var o=e.coords().grid,r=a-i;if(r=this.can_go_up_to_row(o,n,r),!r)return!0;var l=this.widgets_below(e);this.remove_from_gridmap(o),o.row=r,this.add_to_gridmap(o),e.attr("data-row",o.row),this.$changed=this.$changed.add(e),s.push(e),l.each(t.proxy(function(e,n){this.move_widget_up(t(n),i)},this))}})},a.move_widget_down=function(e,i){var n,a,s,o;if(0>=i)return!1;if(n=e.coords().grid,a=n.row,s=[],o=i,!e)return!1;if(-1===t.inArray(e,s)){var r=e.coords().grid,l=a+i,h=this.widgets_below(e);this.remove_from_gridmap(r),h.each(t.proxy(function(e,i){var n=t(i),a=n.coords().grid,s=this.displacement_diff(a,r,o);s>0&&this.move_widget_down(n,s)},this)),r.row=l,this.update_widget_position(r,e),e.attr("data-row",r.row),this.$changed=this.$changed.add(e),s.push(e)}},a.can_go_up_to_row=function(e,i,n){var a,s=this.gridmap,o=!0,r=[],l=e.row;if(this.for_each_column_occupied(e,function(t){for(s[t],r[t]=[],a=l;a--&&this.is_empty(t,a)&&!this.is_placeholder_in(t,a);)r[t].push(a);return r[t].length?void 0:(o=!1,!0)}),!o)return!1;for(a=n,a=1;l>a;a++){for(var h=!0,d=0,c=r.length;c>d;d++)r[d]&&-1===t.inArray(a,r[d])&&(h=!1);if(h===!0){o=a;break}}return o},a.displacement_diff=function(t,e,i){var n=t.row,a=[],s=e.row+e.size_y;this.for_each_column_occupied(t,function(t){for(var e=0,i=s;n>i;i++)this.is_empty(t,i)&&(e+=1);a.push(e)});var o=Math.max.apply(Math,a);return i-=o,i>0?i:0},a.widgets_below=function(e){var n=t.isPlainObject(e)?e:e.coords().grid,a=this;this.gridmap;var s=n.row+n.size_y-1,o=t([]);return this.for_each_column_occupied(n,function(e){a.for_each_widget_below(e,s,function(){return a.is_player(this)||-1!==t.inArray(this,o)?void 0:(o=o.add(this),!0)})}),i.sort_by_row_asc(o)},a.set_cells_player_occupies=function(t,e){return this.remove_from_gridmap(this.placeholder_grid_data),this.placeholder_grid_data.col=t,this.placeholder_grid_data.row=e,this.add_to_gridmap(this.placeholder_grid_data,this.$player),this},a.empty_cells_player_occupies=function(){return this.remove_from_gridmap(this.placeholder_grid_data),this},a.can_go_up=function(t){var e=t.coords().grid,i=e.row,n=i-1;this.gridmap;var a=!0;return 1!==i&&(this.for_each_column_occupied(e,function(t){return this.is_widget(t,n),this.is_occupied(t,n)||this.is_player(t,n)||this.is_placeholder_in(t,n)||this.is_player_in(t,n)?(a=!1,!0):void 0}),a)},a.can_move_to=function(t,e,i,n){this.gridmap;var a=t.el,s={size_y:t.size_y,size_x:t.size_x,col:e,row:i},o=!0,r=e+t.size_x-1;return!(r>this.cols)&&(!(n&&i+t.size_y-1>n)&&(this.for_each_cell_occupied(s,function(e,i){var n=this.is_widget(e,i);!n||t.el&&!n.is(a)||(o=!1)}),o))},a.get_targeted_columns=function(t){for(var e=(t||this.player_grid_data.col)+(this.player_grid_data.size_x-1),i=[],n=t;e>=n;n++)i.push(n);return i},a.get_targeted_rows=function(t){for(var e=(t||this.player_grid_data.row)+(this.player_grid_data.size_y-1),i=[],n=t;e>=n;n++)i.push(n);return i},a.get_cells_occupied=function(e){var i,n={cols:[],rows:[]};for(arguments[1]instanceof t&&(e=arguments[1].coords().grid),i=0;e.size_x>i;i++){var a=e.col+i;n.cols.push(a)}for(i=0;e.size_y>i;i++){var s=e.row+i;n.rows.push(s)}return n},a.for_each_cell_occupied=function(t,e){
return this.for_each_column_occupied(t,function(i){this.for_each_row_occupied(t,function(t){e.call(this,i,t)})}),this},a.for_each_column_occupied=function(t,e){for(var i=0;t.size_x>i;i++){var n=t.col+i;e.call(this,n,t)}},a.for_each_row_occupied=function(t,e){for(var i=0;t.size_y>i;i++){var n=t.row+i;e.call(this,n,t)}},a._traversing_widgets=function(e,i,n,a,s){var o=this.gridmap;if(o[n]){var r,l,h=e+"/"+i;if(arguments[2]instanceof t){var d=arguments[2].coords().grid;n=d.col,a=d.row,s=arguments[3]}var c=[],u=a,p={"for_each/above":function(){for(;u--&&!(u>0&&this.is_widget(n,u)&&-1===t.inArray(o[n][u],c)&&(r=s.call(o[n][u],n,u),c.push(o[n][u]),r)););},"for_each/below":function(){for(u=a+1,l=o[n].length;l>u&&(!this.is_widget(n,u)||-1!==t.inArray(o[n][u],c)||(r=s.call(o[n][u],n,u),c.push(o[n][u]),!r));u++);}};p[h]&&p[h].call(this)}},a.for_each_widget_above=function(t,e,i){return this._traversing_widgets("for_each","above",t,e,i),this},a.for_each_widget_below=function(t,e,i){return this._traversing_widgets("for_each","below",t,e,i),this},a.get_highest_occupied_cell=function(){for(var t,e=this.gridmap,i=e[1].length,n=[],a=[],s=e.length-1;s>=1;s--)for(t=i-1;t>=1;t--)if(this.is_widget(s,t)){n.push(t),a.push(s);break}return{col:Math.max.apply(Math,a),row:Math.max.apply(Math,n)}},a.get_widgets_from=function(e,i){this.gridmap;var n=t();return e&&(n=n.add(this.$widgets.filter(function(){var i=t(this).attr("data-col");return i===e||i>e}))),i&&(n=n.add(this.$widgets.filter(function(){var e=t(this).attr("data-row");return e===i||e>i}))),n},a.set_dom_grid_height=function(t){if(void 0===t){var e=this.get_highest_occupied_cell().row;t=e*this.min_widget_height}return this.container_height=t,this.$el.css("height",this.container_height),this},a.set_dom_grid_width=function(t){void 0===t&&(t=this.get_highest_occupied_cell().col);var e=this.options.autogrow_cols?this.options.max_cols:this.cols;return t=Math.min(e,Math.max(t,this.options.min_cols)),this.container_width=t*this.min_widget_width,this.$el.css("width",this.container_width),this},a.generate_stylesheet=function(e){var n,a="",s=this.options.max_size_x||this.cols;e||(e={}),e.cols||(e.cols=this.cols),e.rows||(e.rows=this.rows),e.namespace||(e.namespace=this.options.namespace),e.widget_base_dimensions||(e.widget_base_dimensions=this.options.widget_base_dimensions),e.widget_margins||(e.widget_margins=this.options.widget_margins),e.min_widget_width=2*e.widget_margins[0]+e.widget_base_dimensions[0],e.min_widget_height=2*e.widget_margins[1]+e.widget_base_dimensions[1];var o=t.param(e);if(t.inArray(o,i.generated_stylesheets)>=0)return!1;for(this.generated_stylesheets.push(o),i.generated_stylesheets.push(o),n=e.cols;n>=0;n--)a+=e.namespace+' [data-col="'+(n+1)+'"] { left:'+(n*e.widget_base_dimensions[0]+n*e.widget_margins[0]+(n+1)*e.widget_margins[0])+"px; }\n";for(n=e.rows;n>=0;n--)a+=e.namespace+' [data-row="'+(n+1)+'"] { top:'+(n*e.widget_base_dimensions[1]+n*e.widget_margins[1]+(n+1)*e.widget_margins[1])+"px; }\n";for(var r=1;e.rows>=r;r++)a+=e.namespace+' [data-sizey="'+r+'"] { height:'+(r*e.widget_base_dimensions[1]+2*(r-1)*e.widget_margins[1])+"px; }\n";for(var l=1;s>=l;l++)a+=e.namespace+' [data-sizex="'+l+'"] { width:'+(l*e.widget_base_dimensions[0]+2*(l-1)*e.widget_margins[0])+"px; }\n";return this.remove_style_tags(),this.add_style_tag(a)},a.add_style_tag=function(t){var e=document,i=e.createElement("style");return e.getElementsByTagName("head")[0].appendChild(i),i.setAttribute("type","text/css"),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),this.$style_tags=this.$style_tags.add(i),this},a.remove_style_tags=function(){var e=i.generated_stylesheets,n=this.generated_stylesheets;this.$style_tags.remove(),i.generated_stylesheets=t.map(e,function(e){return-1===t.inArray(e,n)?e:void 0})},a.generate_faux_grid=function(t,e){this.faux_grid=[],this.gridmap=[];var i,n;for(i=e;i>0;i--)for(this.gridmap[i]=[],n=t;n>0;n--)this.add_faux_cell(n,i);return this},a.add_faux_cell=function(e,i){var n=t({left:this.baseX+(i-1)*this.min_widget_width,top:this.baseY+(e-1)*this.min_widget_height,width:this.min_widget_width,height:this.min_widget_height,col:i,row:e,original_col:i,original_row:e}).coords();return t.isArray(this.gridmap[i])||(this.gridmap[i]=[]),this.gridmap[i][e]=!1,this.faux_grid.push(n),this},a.add_faux_rows=function(t){for(var e=this.rows,i=e+(t||1),n=i;n>e;n--)for(var a=this.cols;a>=1;a--)this.add_faux_cell(n,a);return this.rows=i,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},a.add_faux_cols=function(t){var e=this.cols,i=e+(t||1);i=Math.min(i,this.options.max_cols);for(var n=e+1;i>=n;n++)for(var a=this.rows;a>=1;a--)this.add_faux_cell(a,n);return this.cols=i,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this},a.recalculate_faux_grid=function(){var e=this.$wrapper.width();return this.baseX=(t(window).width()-e)/2,this.baseY=this.$wrapper.offset().top,t.each(this.faux_grid,t.proxy(function(t,e){this.faux_grid[t]=e.update({left:this.baseX+(e.data.col-1)*this.min_widget_width,top:this.baseY+(e.data.row-1)*this.min_widget_height})},this)),this},a.get_widgets_from_DOM=function(){var e=this.$widgets.map(t.proxy(function(e,i){var n=t(i);return this.dom_to_coords(n)},this));e=i.sort_by_row_and_col_asc(e);var n=t(e).map(t.proxy(function(t,e){return this.register_widget(e)||null},this));return n.length&&this.$el.trigger("gridster:positionschanged"),this},a.generate_grid_and_stylesheet=function(){var e=this.$wrapper.width(),i=this.options.max_cols,n=Math.floor(e/this.min_widget_width)+this.options.extra_cols,a=this.$widgets.map(function(){return t(this).attr("data-col")}).get();a.length||(a=[0]);var s=Math.max.apply(Math,a);this.cols=Math.max(s,n,this.options.min_cols),1/0!==i&&i>=s&&this.cols>i&&(this.cols=i);var o=this.options.extra_rows;return this.$widgets.each(function(e,i){o+=+t(i).attr("data-sizey")}),this.rows=Math.max(o,this.options.min_rows),this.baseX=(t(window).width()-e)/2,this.baseY=this.$wrapper.offset().top,this.options.autogenerate_stylesheet&&this.generate_stylesheet(),this.generate_faux_grid(this.rows,this.cols)},a.destroy=function(e){return this.$el.removeData("gridster"),t(window).unbind(".gridster"),this.drag_api&&this.drag_api.destroy(),this.remove_style_tags(),e&&this.$el.remove(),this},t.fn.gridster=function(e){return this.each(function(){t(this).data("gridster")||t(this).data("gridster",new i(this,e))})},i}),function(t,e,i,n){function a(e,n){this.w=t(i),this.el=t(e),this.options=t.extend({},r,n),this.init()}var s="ontouchstart"in i,o=function(){var t=i.createElement("div"),n=i.documentElement;if(!("pointerEvents"in t.style))return!1;t.style.pointerEvents="auto",t.style.pointerEvents="x",n.appendChild(t);var a=e.getComputedStyle&&"auto"===e.getComputedStyle(t,"").pointerEvents;return n.removeChild(t),!!a}(),r={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};a.prototype={init:function(){var i=this;i.reset(),i.el.data("nestable-group",this.options.group),i.placeEl=t('<div class="'+i.options.placeClass+'"/>'),t.each(this.el.find(i.options.itemNodeName),function(e,n){i.setParent(t(n))}),i.el.on("click","button",function(e){if(!i.dragEl){var n=t(e.currentTarget),a=n.data("action"),s=n.parent(i.options.itemNodeName);"collapse"===a&&i.collapseItem(s),"expand"===a&&i.expandItem(s)}});var n=function(e){var n=t(e.target);if(!n.hasClass(i.options.handleClass)){if(n.closest("."+i.options.noDragClass).length)return;n=n.closest("."+i.options.handleClass)}n.length&&!i.dragEl&&(i.isTouch=/^touch/.test(e.type),i.isTouch&&1!==e.touches.length||(e.preventDefault(),i.dragStart(e.touches?e.touches[0]:e)))},a=function(t){i.dragEl&&(t.preventDefault(),i.dragMove(t.touches?t.touches[0]:t))},o=function(t){i.dragEl&&(t.preventDefault(),i.dragStop(t.touches?t.touches[0]:t))};s&&(i.el[0].addEventListener("touchstart",n,!1),e.addEventListener("touchmove",a,!1),e.addEventListener("touchend",o,!1),e.addEventListener("touchcancel",o,!1)),i.el.on("mousedown",n),i.w.on("mousemove",a),i.w.on("mouseup",o)},serialize:function(){var e,i=0,n=this;return step=function(e,i){var a=[],s=e.children(n.options.itemNodeName);return s.each(function(){var e=t(this),s=t.extend({},e.data()),o=e.children(n.options.listNodeName);o.length&&(s.children=step(o,i+1)),a.push(s)}),a},e=step(n.el.find(n.options.listNodeName).first(),i)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(t){t.removeClass(this.options.collapsedClass),t.children('[data-action="expand"]').hide(),t.children('[data-action="collapse"]').show(),t.children(this.options.listNodeName).show()},collapseItem:function(t){var e=t.children(this.options.listNodeName);e.length&&(t.addClass(this.options.collapsedClass),t.children('[data-action="collapse"]').hide(),t.children('[data-action="expand"]').show(),t.children(this.options.listNodeName).hide())},expandAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.expandItem(t(this))})},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.collapseItem(t(this))})},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(t(this.options.expandBtnHTML)),e.prepend(t(this.options.collapseBtnHTML))),e.children('[data-action="expand"]').hide()},unsetParent:function(t){t.removeClass(this.options.collapsedClass),t.children("[data-action]").remove(),t.children(this.options.listNodeName).remove()},dragStart:function(e){var a=this.mouse,s=t(e.target),o=s.closest(this.options.itemNodeName);this.placeEl.css("height",o.height()),a.offsetX=e.offsetX!==n?e.offsetX:e.pageX-s.offset().left,a.offsetY=e.offsetY!==n?e.offsetY:e.pageY-s.offset().top,a.startX=a.lastX=e.pageX,a.startY=a.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=t(i.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",o.width()),o.after(this.placeEl),o[0].parentNode.removeChild(o[0]),o.appendTo(this.dragEl),t(i.body).append(this.dragEl),this.dragEl.css({left:e.pageX-a.offsetX,top:e.pageY-a.offsetY});var r,l,h=this.dragEl.find(this.options.itemNodeName);for(r=0;r<h.length;r++)l=t(h[r]).parents(this.options.listNodeName).length,l>this.dragDepth&&(this.dragDepth=l)},dragStop:function(t){var e=this.dragEl.children(this.options.itemNodeName).first();e[0].parentNode.removeChild(e[0]),this.placeEl.replaceWith(e),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(n){var a,s,r,l,h,d=this.options,c=this.mouse;this.dragEl.css({left:n.pageX-c.offsetX,top:n.pageY-c.offsetY}),c.lastX=c.nowX,c.lastY=c.nowY,c.nowX=n.pageX,c.nowY=n.pageY,c.distX=c.nowX-c.lastX,c.distY=c.nowY-c.lastY,c.lastDirX=c.dirX,c.lastDirY=c.dirY,c.dirX=0===c.distX?0:c.distX>0?1:-1,c.dirY=0===c.distY?0:c.distY>0?1:-1;var u=Math.abs(c.distX)>Math.abs(c.distY)?1:0;if(!c.moving)return c.dirAx=u,void(c.moving=!0);c.dirAx!==u?(c.distAxX=0,c.distAxY=0):(c.distAxX+=Math.abs(c.distX),0!==c.dirX&&c.dirX!==c.lastDirX&&(c.distAxX=0),c.distAxY+=Math.abs(c.distY),0!==c.dirY&&c.dirY!==c.lastDirY&&(c.distAxY=0)),c.dirAx=u,c.dirAx&&c.distAxX>=d.threshold&&(c.distAxX=0,r=this.placeEl.prev(d.itemNodeName),c.distX>0&&r.length&&!r.hasClass(d.collapsedClass)&&(a=r.find(d.listNodeName).last(),h=this.placeEl.parents(d.listNodeName).length,h+this.dragDepth<=d.maxDepth&&(a.length?(a=r.children(d.listNodeName).last(),a.append(this.placeEl)):(a=t("<"+d.listNodeName+"/>").addClass(d.listClass),a.append(this.placeEl),r.append(a),this.setParent(r)))),c.distX<0&&(l=this.placeEl.next(d.itemNodeName),l.length||(s=this.placeEl.parent(),this.placeEl.closest(d.itemNodeName).after(this.placeEl),s.children().length||this.unsetParent(s.parent()))));var p=!1;if(o||(this.dragEl[0].style.visibility="hidden"),this.pointEl=t(i.elementFromPoint(n.pageX-i.body.scrollLeft,n.pageY-(e.pageYOffset||i.documentElement.scrollTop))),o||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(d.handleClass)&&(this.pointEl=this.pointEl.parent(d.itemNodeName)),this.pointEl.hasClass(d.emptyClass))p=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(d.itemClass))return;var f=this.pointEl.closest("."+d.rootClass),m=this.dragRootEl.data("nestable-id")!==f.data("nestable-id");if(!c.dirAx||m||p){if(m&&d.group!==f.data("nestable-group"))return;if(h=this.dragDepth-1+this.pointEl.parents(d.listNodeName).length,h>d.maxDepth)return;var g=n.pageY<this.pointEl.offset().top+this.pointEl.height()/2;s=this.placeEl.parent(),p?(a=t(i.createElement(d.listNodeName)).addClass(d.listClass),a.append(this.placeEl),this.pointEl.replaceWith(a)):g?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),s.children().length||this.unsetParent(s.parent()),this.dragRootEl.find(d.itemNodeName).length||this.dragRootEl.append('<div class="'+d.emptyClass+'"/>'),m&&(this.dragRootEl=f,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},t.fn.nestable=function(e){var i=this,n=this;return i.each(function(){var i=t(this).data("nestable");i?"string"==typeof e&&"function"==typeof i[e]&&(n=i[e]()):(t(this).data("nestable",new a(this,e)),t(this).data("nestable-id",(new Date).getTime()))}),n||i}}(window.jQuery||window.Zepto,window,document),Number.prototype.formatMoney=function(t,e,i,n){var a=this,t=isNaN(t=Math.abs(t))?0:t,e=void 0==e?".":e,i=void 0==i?",":i,s=a<0?"-":"",o=parseInt(a=Math.abs(+a||0).toFixed(t))+"",r=(r=o.length)>3?r%3:0,n=void 0==n?"VNĐ":n;return s+(r?o.substr(0,r)+i:"")+o.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?e+Math.abs(a-o).toFixed(t).slice(2):"")+" "+n},String.prototype.str_pad=function(t,e,i){"undefined"===e&&(e=" "),"undefined"===i&&(i="STR_PAD_RIGHT");var n=this+"";switch(i){case"STR_PAD_RIGHT":for(;n.length<t;)n+=e;break;case"STR_PAD_LEFT":for(;n.length<t;)n=e+n;break;case"STR_PAD_BOTH":for(;n.length<t;)n+=e,n.length<t&&(n=e+n)}return n},String.prototype.strtotime=function(t){var e=new Date(this);if("Invalid Date"===e.toString())return this;for(var i=t.length,n="",a=0;a<i;a++)switch(t[a]){case"Y":n+=e.getFullYear();break;case"m":n+=String(e.getMonth()+1).str_pad(2,"0","STR_PAD_LEFT");break;case"d":n+=String(e.getDate()).str_pad(2,"0","STR_PAD_LEFT");break;case"H":n+=String(e.getHours()).str_pad(2,"0","STR_PAD_LEFT");break;case"i":n+=String(e.getMinutes()).str_pad(2,"0","STR_PAD_LEFT");break;case"s":n+=String(e.getSeconds()).str_pad(2,"0","STR_PAD_LEFT");break;default:n+=t[a]}return n},ko.components.register("form-signin",{viewModel:function(t){var e=this;e.params=t,e.notify=ko.observable(""),e.expired=ko.observable(!1);var i;e.signin=function(){return void 0===t.captcha?($("#form-signin .btn").prop("disabled",!0),$.post("login",$("#form-signin").serialize()).done(function(t){$("#form-signin .btn").prop("disabled",!1),"success"===t.status?window.location.reload():e.notify('<div class="alert alert-danger" role="alert">'+t.message+"</div>")})):(e.expired(!0),i=grecaptcha.render(t.captcha.id,{sitekey:t.captcha.sitekey,theme:t.captcha.theme,type:t.captcha.type,size:t.captcha.size,tabindex:t.captcha.tabindex,"expired-callback":function(){e.expired(!1)},callback:function(){$.post("login",$("#form-signin").serialize()+"&responseCaptcha="+grecaptcha.getResponse(i)).done(function(t){$("#form-signin .btn").prop("disabled",!1),"success"===t.status?window.location.reload():(e.expired(!1),e.notify('<div class="alert alert-danger" role="alert">'+t.message+"</div>"))})}})),!1},$("#form-signin .form-control").on("keyup",function(){e.notify("")})},template:'<div class="container">        <div class="panel panel-default panel-signin">            <div class="panel-body">                <form data-bind="submit: signin" class="form-signin" id="form-signin" method="POST">                    <input type="hidden" name="_token" data-bind="value: params.token">                    <img data-bind="attr:{src: params.logo}" class="img-responsive" style="margin: 5px auto 20px auto;"/>                    <div data-bind="html: notify"></div>                    <div data-bind="visible: !expired()">                        <input type="text" id="username" name="username" class="form-control" data-bind="attr:{placeholder: params.labels.username}" required autofocus>                        <input type="password" id="password" name="password" class="form-control" data-bind="attr:{placeholder: params.labels.password}" required>                        <div class="checkbox">                            <label>                                <input type="checkbox" name="remember-me" value="true"> <span data-bind="html: params.labels.remember_me"></span>                            </label>                        </div>                        <button data-bind="attr:{class: \'btn btn-lg btn-block btn-\' + params.type}, html: params.labels.login" type="submit"></button>                    </div>                    <div data-bind="if: expired()">                        <div style="margin-top: 40px;" data-bind="css: params.captcha.class, attr: { id: params.captcha.id }"></div>                    </div>                </form>            </div>        </div>    </div>'}),ko.components.register("grid",{viewModel:function(t){var e=this;e.params=t,e.token=t.token,e.url=t.url,e.labels=$.map(t.cols,function(t,e){return t}),e.trans=t.trans,e.buttons=t.buttons,e.cols=$.map(t.cols,function(t,e){return e}),e.data_empty_label=t.data_empty_label,e.sizes=[5,10,25,50,100,200,500],e.total=ko.observable(0),e.rows=ko.observableArray([]),e.ids=ko.observableArray([]),e.pagenum=1,e.pagesize=25,e.search=ko.observable(""),e.sorts=t.sorts,e.sortdatafield=ko.observable(""),e.sortorder=ko.observable(0),e.groupby=ko.observable(void 0===t.groupby?"":t.groupby),e.filters=ko.observableArray([]),e.loading=ko.observable(!1),e.is_fetch=!1,e.pagemax=ko.pureComputed(function(){return Math.max(Math.ceil(e.total()/e.pagesize),1)}),e.computed_pagenum=ko.observable(e.pagenum),e.computed_pagesize=ko.observable(e.pagesize),e.setPageNum=function(t){e.pagenum=t,e.computed_pagenum(t)},e.setPageSize=function(t){e.pagesize=t,e.computed_pagesize(t)},e.setSize=function(t){e.pagesize!==t&&(e.setPageNum(1),e.setPageSize(t),e.fetch())},e.start=ko.pureComputed(function(){return e.computed_pagesize()*(e.computed_pagenum()-1)+1}),e.end=ko.pureComputed(function(){return Math.min(e.computed_pagesize()*e.computed_pagenum(),e.total())}),e.next=function(){e.setPageNum(e.pagenum+1),e.fetch()},e.prev=function(){e.setPageNum(e.pagenum-1),e.fetch()},e.del=function(){$("#cfmDel").modal("show")},e.sort=function(t){if(t!==e.sortdatafield())e.sortdatafield(t);else{var i=e.sortorder()+1;i>1&&(i=-1),e.sortorder(i)}},e.toogleAll=function(){if(e.checkAll())e.ids([]);else if(""===e.groupby()){var t=[];ko.utils.arrayForEach(e.rows(),function(e){t.push(e.id)}),e.ids(t)}else{var t=[];ko.utils.arrayForEach(e.rows(),function(e){ko.utils.arrayForEach(e.rows,function(e){t.push(e.id)})}),e.ids(t)}return!0},e.checkAll=ko.pureComputed(function(){if(""===e.groupby())return e.ids().length===e.rows().length;var t=0;return ko.utils.arrayForEach(e.rows(),function(e){t+=e.total}),e.ids().length===t},e),e.showLoading=function(){e.loading(!0)},e.hideLoading=function(){e.loading(!1)},e.doSearch=function(t){return!!e.is_fetch||void e.search($("#"+t).val())},e.clearSearch=function(t){$("#"+t).val(""),e.search("")},e.search.subscribe(function(t){e.setPageNum(1)},e,"beforeChange"),e.filters.subscribe(function(t){e.setPageNum(1)},e,"beforeChange"),e.groupby.subscribe(function(t){e.setPageNum(1),e.rows([])},e,"beforeChange"),e.fetch=function(){e.is_fetch=!0,$.ajax({url:e.url,type:"post",data:{_token:e.token,pagenum:e.pagenum,pagesize:e.pagesize,search:e.search,sort:e.sortdatafield,order:e.sortorder,groupby:e.groupby,filters:e.filters()},beforeSend:e.showLoading,complete:e.hideLoading,success:function(t){e.rows(t.rows),e.total(t.total),e.is_fetch=!1,tableRefesh("#app-grid")}})},e.add=function(){void 0!==t.add&&t.add()},e.edit=function(e){void 0!==t.edit&&t.edit(e)},e.ref=function(){return!!e.is_fetch||void e.fetch()},e.doDel=function(){$.ajax({url:e.url+"/delete",type:"post",data:{_token:e.token,ids:JSON.stringify(e.ids())},beforeSend:showAppLoading,complete:hideAppLoading,success:function(t){toastr[t.status](t.message),"success"===t.status&&(e.ids([]),e.fetch())}})},void 0!==t.callback&&t.callback(e),ko.computed(e.fetch),$("#app-grid .wrap-scroll").css("height",$(window).height()-135),$(window).resize(function(){$("#app-grid .wrap-scroll").css("height",$(window).height()-135),tableRefesh("#app-grid")})},template:'    <nav class="navbar navbar-default">        <div class="container-fluid">            <div class="app-toolbar">                <div class="pull-left">                    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">                        <!-- ko if: buttons.indexOf("add") !== -1 -->                            <button data-bind="click: add" type="button" class="btn btn-default" ><span class="glyphicon glyphicon-plus"></span> <span data-bind="html: trans.add"></span></button>                        <!--/ko-->                        <button data-bind="click: ref, attr:{title: trans.refresh}" type="button" class="btn btn-default" data-toggle="tooltip"><span class="glyphicon glyphicon-refresh"></span></button>                        <!-- ko if: buttons.indexOf("delete") !== -1 -->                        <button data-bind="click: del, visible: ids().length>0, attr:{title: trans.delete}" type="button" class="btn btn-danger" data-toggle="tooltip"><span class="glyphicon glyphicon-trash"></span></button>                        <!--/ko-->                        <!-- ko if: params.leftToolbar !== undefined -->                            <div class="pull-left" data-bind="template: {name: params.leftToolbar }"></div>                        <!-- /ko -->                    </div>                </div>                <div class="pull-right">                    <div class="pagination" style="float:left;" data-bind="visible: total() > 0">                        <span><b data-bind="html: start"></b>-<b data-bind="html: end"></b> <span data-bind="html: trans.pagination_of_total"></span> <b data-bind="html: total"></b></span>                        <div class="btn-group" role="group">                            <button type="button" class="btn btn-default" data-bind="click: prev, enable: computed_pagenum()>1"><span class="glyphicon glyphicon-chevron-left"></span></button>                            <button type="button" class="btn btn-default" data-bind="click: next, enable: computed_pagenum()<pagemax()"><span class="glyphicon glyphicon-chevron-right"></span></button>                        </div>                        <div class="btn-group" style="margin-right: 5px;">                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">                                <span data-bind="text: computed_pagesize"></span>                                <span class="caret"></span>                            </button>                            <ul class="dropdown-menu">                                <!--ko foreach: sizes-->                                    <!-- ko if: $parent.sizes[$index() -1 ] <= $parent.total() || $index()==0 -->                                    <li data-bind="click: $parent.setSize, attr: {class: $parent.computed_pagesize() === $data ? \'active\':\'\'}"><a data-bind="text: $data"></a></li>                                    <!--/ko-->                                <!--/ko-->                            </ul>                        </div>                    </div>                    <div id="search-wrap" style="float:right;">                        <input type="text" class="form-control" id="search-warehouse" data-bind="attr: {placeholder: trans.search}, event: {keyup: doSearch.bind($data, \'search-warehouse\')} ">                        <i id="search-clear" class="glyphicon glyphicon-remove" data-bind="click: clearSearch.bind($data, \'search-warehouse\'), attr: {\'data-toggle\': search()!=\'\'}"></i>                    </div>                </div>            </div>        </div>    </nav>    <div class="table-header-fixed-top" id="app-grid" >        <table class="table table-header">            <thead>                <tr>                    <th width="30px"><input type="checkbox" data-bind="click: toogleAll,checked: checkAll"/></th>                    <!--ko foreach: {data: labels, as: \'labels\' }-->                         <!--ko if: $parent.groupby()===\'\' || $parent.cols[$index()] !== $parent.groupby() -->                            <!--ko if: $parent.sorts.indexOf($parent.cols[$index()]) < 0 -->                                 <th><span data-bind="html: $data"></span></th>                            <!--/ko-->                            <!--ko if: $parent.sorts.indexOf($parent.cols[$index()]) >= 0 -->                                 <th class="sortdatafield" data-bind="click: $parent.sort.bind($data, $parent.cols[$index()])"><span data-bind="html: $data"></span> <span data-bind="attr: {class: $parent.sortdatafield() != $parent.cols[$index()] || $parent.sortorder()==0 ? \'sort\' : $parent.sortorder()==1 ? \'sortasc\' : \'sortdesc\'}"></span></th>                            <!--/ko-->                        <!--/ko-->                    <!--/ko-->                    <th></th>                </tr>             </thead>        </table>        <div class="grid-container loading-container wrap-scroll">            <div class="loading" data-bind="attr: {class: loading() ? \'loading open\' : \'loading\'}"><span class="glyphicon glyphicon-refresh glyphicon-spin"></span></div>            <table class="table table-hover table-content table-striped thead-hide">                <thead>                    <tr>                        <th width="30px"><input type="checkbox" data-bind="click: toogleAll,checked: ids().length===rows().length"/></th>                        <!--ko foreach: {data: labels, as: \'labels\' }-->                             <!--ko if: $parent.groupby()===\'\' || $parent.cols[$index()] !== $parent.groupby() -->                                <!--ko if: $parent.sorts.indexOf($parent.cols[$index()]) < 0 -->                                     <th data-bind="attr: {style: $parent.params.columnsresize!==undefined &&  $parent.params.columnsresize[$parent.cols[$index()]] !== undefined ? \'width:\'+$parent.params.columnsresize[$parent.cols[$index()]]+\'px;\':\'\'}"><span data-bind="html: $data"></span></th>                                <!--/ko-->                                <!--ko if: $parent.sorts.indexOf($parent.cols[$index()]) >= 0 -->                                     <th data-bind="attr: {style: $parent.params.columnsresize!==undefined &&  $parent.params.columnsresize[$parent.cols[$index()]] !== undefined ? \'width:\'+$parent.params.columnsresize[$parent.cols[$index()]]+\'px;\':\'\'}" class="sortdatafield" data-bind="click: $parent.sort.bind($data, $parent.cols[$index()])"><span data-bind="html: $data"></span> <span data-bind="attr: {class: $parent.sortdatafield() != $parent.cols[$index()] || $parent.sortorder()==0 ? \'sort\' : $parent.sortorder()==1 ? \'sortasc\' : \'sortdesc\'}"></span></th>                                <!--/ko-->                            <!--/ko-->                        <!--/ko-->                        <th></th>                    </tr>                </thead>                <tbody>                    <!--ko if: groupby()===\'\'-->                        <!--ko foreach: {data: rows, as: \'row\'}-->                            <tr data-bind="attr: {\'class\': $parent.ids().indexOf(id)>=0 ? \'active\':\'\'}">                                <td>                                    <input type="checkbox" data-bind="checkedValue: id,checked: $parent.ids"/>                                </td>                               <!--ko foreach: $parent.cols-->                               <td>                                    <!-- ko if: $parents[1].params.cellsrenderer[$data] === undefined -->                                    <span data-bind="html: row[$data]"></span>                                    <!-- /ko -->                                    <!-- ko if: $parents[1].params.cellsrenderer[$data] !== undefined -->                                    <span data-bind="html: $parents[1].params.cellsrenderer[$data](row)"></span>                                    <!-- /ko -->                               </td>                               <!--/ko-->                               <td class="text-right actions">                                    <!-- ko if: $parent.buttons.indexOf("edit") !== -1 -->                                        <!-- ko if: $parent.params.editToolbar !== undefined -->                                            <div data-bind="template: {name: $parent.params.editToolbar }"></div>                                        <!-- /ko -->                                        <!-- ko if: $parent.params.editToolbar === undefined -->                                            <button class="btn btn-default btn-sm" data-bind="click: $parent.edit"><span class="glyphicon glyphicon-edit"></span></button>                                        <!-- /ko -->                                    <!--/ko-->                                </td>                            </tr>                        <!--/ko-->                    <!--/ko-->                    <!--ko if: groupby()!==\'\'-->                        <!--ko foreach: {data: rows, as: \'row\'}-->                            <!--ko if: row.rows!==undefined-->                                <tr class="group-header">                                    <td data-bind="attr:{colspan: $parent.cols.length + ($parent.cols.indexOf($parent.groupby()) < 0 ? 2:1) }">                                        <!-- ko if: $parent.params.cellsrenderer[$parent.groupby()] === undefined -->                                        <span data-bind="html: row[$parent.groupby()]"></span> <span data-bind="html: row.total" class="label label-default"></span>                                        <!-- /ko -->                                        <!-- ko if: $parent.params.cellsrenderer[$parent.groupby()] !== undefined -->                                        <div data-bind="html: $parent.params.cellsrenderer[$parent.groupby()](row)"></div>                                        <!-- /ko -->                                    </td>                                </tr>                                <!--ko foreach: {data: row.rows, as: \'row_group\'}-->                                    <tr data-bind="attr: {\'class\': $parents[1].ids().indexOf(row_group.id)>=0 ? \'active\':\'\'}">                                        <td>                                            <input type="checkbox" data-bind="checkedValue: row_group.id,checked: $parents[1].ids"/>                                        </td>                                       <!--ko foreach: $parents[1].cols-->                                            <!--ko if: $parents[2].cols[$index()] !== $parents[2].groupby() -->                                                <td>                                                    <!-- ko if: $parents[2].params.cellsrenderer[$data] === undefined -->                                                    <span data-bind="html: row_group[$data]"></span>                                                    <!-- /ko -->                                                    <!-- ko if: $parents[2].params.cellsrenderer[$data] !== undefined -->                                                    <span data-bind="html: $parents[2].params.cellsrenderer[$data](row_group)"></span>                                                    <!-- /ko -->                                                </td>                                            <!--/ko-->                                       <!--/ko-->                                        <td class="text-right actions">                                            <!-- ko if: $parents[1].buttons.indexOf("edit") !== -1 -->                                                <!-- ko if: $parents[1].params.editToolbar !== undefined -->                                                    <div data-bind="template: {name: $parents[1].params.editToolbar }"></div>                                                <!-- /ko -->                                                <!-- ko if: $parents[1].params.editToolbar === undefined -->                                                    <button class="btn btn-default btn-sm" data-bind="click: $parents[1].edit"><span class="glyphicon glyphicon-edit"></span></button>                                                <!-- /ko -->                                            <!--/ko-->                                        </td>                                    </tr>                                <!--/ko-->                            <!--/ko-->                        <!--/ko-->                    <!--/ko-->                    <tr data-bind="visible: rows().length==0 " style="display: none;">                        <td data-bind="attr: {colspan: cols.length + 2}, html: trans.data_empty_label" class="text-center active"></td>                    </tr>                </tbody>           </table>        </div>    </div>    <!-- ko if: buttons.indexOf("delete") !== -1 -->    <!--cfmDel-->    <div class="modal" id="cfmDel" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="cfmDel" aria-hidden="true">        <div class="modal-dialog">            <div class="modal-content modal-delete">                <div class="modal-body">                    <h3 data-bind="html: trans.delete_question"></h3><br>                    <button class="btn btn-default" data-dismiss="modal" data-bind="html: trans.cancel"></button>                    <button class="btn btn-danger" data-dismiss="modal" data-bind="click: doDel, html: trans.delete"></button>                </div>            </div>        </div>    </div>    <!-- /ko -->'
}),ko.components.register("edit-form",{viewModel:function(t){var e=this;e.params=t,void 0===t.buttons&&(e.params.buttons=[]),e.current=ko.observable({}),e.method=ko.observable("add"),e.save=function(){return!!$("#frm-edit").valid()&&(void 0!==t.prepare_save&&t.prepare_save(),e.current()._token=t.token,void $.ajax({url:t.url+"/"+e.method(),type:"post",data:e.current(),beforeSend:showAppLoading,complete:hideAppLoading,success:function(t){toastr[t.status](t.message),"success"==t.status&&(e.back(),void 0!==e.params.saved&&e.params.saved())}}))},e.back=function(){e.current({}),t.back()},e.reset=function(){e.current({})},e.form_rendered=function(){void 0!==jQuery().tooltip&&$('[data-toggle="tooltip"]').tooltip({placement:"bottom"}),void 0!==jQuery().popover&&$('[data-toggle="popover"]').popover({html:!0}),void 0!==t.callback&&t.callback(e),formValidate("frm-edit")}},template:'        <nav class="navbar navbar-default">            <div class="container-fluid">                <div class="app-toolbar">                    <div class="pull-left">                        <button data-bind="click: back" type="button" class="btn btn-default"><span class="glyphicon glyphicon-chevron-left"></span> Quay lại</button>                    </div>                    <!-- ko if: params.leftToolbar !== undefined -->                        <div class="pull-left" data-bind="template: {name: params.leftToolbar }"></div>                    <!-- /ko -->                    <!-- ko if: params.rightToolbar !== undefined -->                        <div class="pull-right" data-bind="template: {name: params.rightToolbar }"></div>                    <!-- /ko -->                    <!-- ko if: method()===\'add\' && params.buttons.indexOf(\'add\') >= 0 || method()===\'update\' && params.buttons.indexOf(\'edit\') >= 0-->                    <div class="pull-right">                        <button data-bind="click: reset" type="button" class="btn btn-default"><span class="glyphicon glyphicon-refresh"></span> Huỷ</button>                        <button data-bind="click: save" type="button" class="btn btn-primary"><span class="glyphicon glyphicon-floppy-disk"></span> Lưu</button>                    </div>                    <!-- /ko -->                </div>            </div>        </nav>        <form id="frm-edit" style="padding: 15px;">            <div data-bind="template: {name: params.template, afterRender: form_rendered }"></div>        </form>'});